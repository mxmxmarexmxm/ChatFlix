/*! For license information please see main.3f3ad585.js.LICENSE.txt */
!function(){"use strict";var e={463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function B(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case S:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ie=null;function Se(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?Ie?Ie.push(e):Ie=[e]:_e=e}function Ce(){if(_e){var e=_e,t=Ie;if(Ie=_e=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Te(e,t){return e(t)}function Ae(){}var Ne=!1;function Re(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Te(e,t,n)}finally{Ne=!1,(null!==_e||null!==Ie)&&(Ae(),Ce())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Le=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){Le=!1}function Pe(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,i,a,o,s,u){Me=!1,Fe=null,Pe.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,It,St,Et=!1,Ct=[],Tt=null,At=null,Nt=null,Rt=new Map,Dt=new Map,Lt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){Et=!1,null!==Tt&&jt(Tt)&&(Tt=null),null!==At&&jt(At)&&(At=null),null!==Nt&&jt(Nt)&&(Nt=null),Rt.forEach(Ut),Dt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Ct.length){Bt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Bt(Tt,e),null!==At&&Bt(At,e),null!==Nt&&Bt(Nt,e),Rt.forEach(t),Dt.forEach(t),n=0;n<Lt.length;n++)(r=Lt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Lt.length&&null===(n=Lt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Lt.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Kt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Kt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){if(Ht){var i=$t(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Pt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Mt(Tt,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Hr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=yi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Zt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),gn=an(F({},fn,{relatedTarget:0})),mn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(yn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Sn(){return In}var En=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(En),Tn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(Rn),Ln=[9,13,27,32],On=l&&"CompositionEvent"in window,Pn=null;l&&"documentMode"in document&&(Pn=document.documentMode);var Mn=l&&"TextEvent"in window&&!Pn,Fn=l&&(!On||Pn&&8<Pn&&11>=Pn),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ee(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Qn(e){jr(e,0)}function $n(e){if(K(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Zn;if(l){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Zn=Jn}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Kn=Wn=null)}function nr(e){if("value"===e.propertyName&&$n(Kn)){var t=[];Gn(t,Kn,e,we(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Kn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,gr=null,mr=null,yr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Wr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Ir={};function Sr(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return _r[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Sr("animationend"),Cr=Sr("animationiteration"),Tr=Sr("animationstart"),Ar=Sr("transitionend"),Nr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Nr.set(e,t),u(t,[e])}for(var Lr=0;Lr<Rr.length;Lr++){var Or=Rr[Lr];Dr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Dr(Er,"onAnimationEnd"),Dr(Cr,"onAnimationIteration"),Dr(Tr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,je||(je=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Gt;break;case 4:i=Wt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var s=Nr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":c="focus",u=gn;break;case"focusout":c="blur",u=gn;break;case"beforeblur":case"afterblur":u=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case Er:case Cr:case Tr:u=mn;break;case Ar:u=Nn;break;case"scroll":u=hn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Tn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=De(p,h))&&l.push(Gr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:bi(u),d=null==c?s:bi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,yi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Yn;else if(Hn(s))if(Xn)g=or;else{g=ir;var m=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ar);switch(g&&(g=g(e,r))?Gn(o,g,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ee(s,"number",s.value)),m=r?bi(r):window,e){case"focusin":(Hn(m)||"true"===m.contentEditable)&&(gr=m,mr=r,yr=null);break;case"focusout":yr=mr=gr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(y=en()):(Zt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(m=Wr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:m}),y?k.data=y:null!==(y=Bn(n))&&(k.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),Jt=Zt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}jr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=De(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=De(n,a))&&o.unshift(Gr(n,u,s)):i||null!=(u=De(n,a))&&o.push(Gr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Zr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,gi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Ii(e){return{current:e}}function Si(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ei(e,t){_i++,xi[_i]=e.current,e.current=t}var Ci={},Ti=Ii(Ci),Ai=Ii(!1),Ni=Ci;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Li(){Si(Ai),Si(Ti)}function Oi(e,t,n){if(Ti.current!==Ci)throw Error(a(168));Ei(Ti,t),Ei(Ai,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ni=Ti.current,Ei(Ti,e),Ei(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Pi(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Si(Ai),Si(Ti),Ei(Ti,e)):Si(Ai),Ei(Ai,n)}var ji=null,Ui=!1,Vi=!1;function Bi(e){null===ji?ji=[e]:ji.push(e)}function zi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ke(Je,zi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Hi=0,Gi=null,Wi=0,Ki=[],Qi=0,$i=null,Yi=1,Xi="";function Zi(e,t){qi[Hi++]=Wi,qi[Hi++]=Gi,Gi=e,Wi=t}function Ji(e,t,n){Ki[Qi++]=Yi,Ki[Qi++]=Xi,Ki[Qi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Yi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Zi(e,1),Ji(e,1,0))}function ta(e){for(;e===Gi;)Gi=qi[--Hi],qi[Hi]=null,Wi=qi[--Hi],qi[Hi]=null;for(;e===$i;)$i=Ki[--Qi],Ki[Qi]=null,Xi=Ki[--Qi],Ki[Qi]=null,Yi=Ki[--Qi],Ki[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ga(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=Ii(null),ya=null,ka=null,ba=null;function wa(){ba=ka=ya=null}function xa(e){var t=ma.current;Si(ma),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){ya=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ya)throw Error(a(308));ka=e,ya.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ea=null;function Ca(e){null===Ea?Ea=[e]:Ea.push(e)}function Ta(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ca(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function La(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ca(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function Pa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Na=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Mu|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=La(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nc(t,e,i,r),Pa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=La(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nc(t,e,i,r),Pa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=La(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(nc(t,e,r,n),Pa(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Di(t)?Ni:Ti.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Di(t)?Ni:Ti.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Pc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case x:return(t=jc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||P(t))return(t=Pc(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||P(n))return null!==i?null:f(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||P(r))return f(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,g=null;null!==f&&v<s.length;v++){f.index>v?(g=f,f=null):g=f.sibling;var m=d(i,f,s[v],u);if(null===m){null===f&&(f=g);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,f=g}if(v===s.length)return n(i,f),ia&&Zi(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Zi(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(g=p(f,i,v,s[v],u))&&(e&&null!==g.alternate&&f.delete(null===g.key?v:g.key),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g);return e&&f.forEach((function(e){return t(i,e)})),ia&&Zi(i,v),c}function g(i,s,u,c){var l=P(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,g=s=0,m=null,y=u.next();null!==v&&!y.done;g++,y=u.next()){v.index>g?(m=v,v=null):m=v.sibling;var k=d(i,v,y.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,g),null===f?l=k:f.sibling=k,f=k,v=m}if(y.done)return n(i,v),ia&&Zi(i,g),l;if(null===v){for(;!y.done;g++,y=u.next())null!==(y=h(i,y.value,c))&&(s=o(y,s,g),null===f?l=y:f.sibling=y,f=y);return ia&&Zi(i,g),l}for(v=r(i,v);!y.done;g++,y=u.next())null!==(y=p(v,i,g,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?g:y.key),s=o(y,s,g),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&Zi(i,g),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Wa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Pc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Oc(o.type,o.key,o.props,null,r.mode,u)).ref=Wa(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,u)).return=r,r=a}return s(r);case D:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(P(o))return g(r,a,o,u);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ya=$a(!0),Xa=$a(!1),Za={},Ja=Ii(Za),eo=Ii(Za),to=Ii(Za);function no(e){if(e===Za)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Ja,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Ja),Ei(Ja,t)}function io(){Si(Ja),Si(eo),Si(to)}function ao(e){no(to.current);var t=no(Ja.current),n=ue(t,e.type);t!==n&&(Ei(eo,e),Ei(Ja,n))}function oo(e){eo.current===e&&(Si(Ja),Si(eo))}var so=Ii(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,go=null,mo=null,yo=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,mo=go=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(ko)}if(fo.current=os,t=null!==go&&null!==go.next,po=0,mo=go=vo=null,yo=!1,t)throw Error(a(300));return e}function So(){var e=0!==bo;return bo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?vo.memoizedState=mo=e:mo=mo.next=e,mo}function Co(){if(null===go){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===mo?vo.memoizedState:mo.next;if(null!==t)mo=t,go=e;else{if(null===e)throw Error(a(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===mo?vo.memoizedState=mo=e:mo=mo.next=e}return mo}function To(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=go,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,Mu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Mu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Do(e,t){var n=vo,r=Co(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Ho(Po.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,Uo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Au)throw Error(a(349));0!==(30&po)||Lo(n,t,i)}return i}function Lo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Po(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&nc(t,e,1,-1)}function jo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return Co().memoizedState}function Bo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=Co();r=void 0===r?null:r;var a=void 0;if(null!==go){var o=go.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Ho(e,t){return zo(2048,8,e,t)}function Go(e,t){return zo(4,2,e,t)}function Wo(e,t){return zo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Ko.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Mu|=n,e.baseState=!0),t)}function Jo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function es(){return Co().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ta(e,t,n,r))){nc(n,e,r,ec()),as(n,t,r)}}function ns(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ca(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ta(e,t,i,r))&&(nc(n,e,r,i=ec()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){ko=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Sa,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ss={readContext:Sa,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:jo,useDebugValue:$o,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Jo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Au)throw Error(a(349));0!==(30&po)||Lo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Po.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Au.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Wo,useMemo:Xo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(To)},useDebugValue:$o,useDeferredValue:function(e){return Zo(Co(),go.memoizedState,e)},useTransition:function(){return[Ao(To)[0],Co().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Do,useId:es,unstable_isNewReconciler:!1},cs={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Wo,useMemo:Xo,useReducer:No,useRef:Vo,useState:function(){return No(To)},useDebugValue:$o,useDeferredValue:function(e){var t=Co();return null===go?t.memoizedState=e:Zo(t,go.memoizedState,e)},useTransition:function(){return[No(To)[0],Co().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Do,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=La(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Gu=r),hs(0,t)},n}function vs(e,t,n){(n=La(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Wu?Wu=new Set([this]):Wu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=La(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ya(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return Ia(t,i),r=Io(e,t,n,r,a,i),n=So(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function _s(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Is(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Lc(a,r)).ref=t.ref,e.return=t,t.child=e}function Is(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Cs(e,t,n,r,i)}function Ss(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Lu,Du),Du|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Lu,Du),Du|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Lu,Du),Du|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Lu,Du),Du|=r;return ws(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var a=Di(n)?Ni:Ti.current;return a=Ri(t,a),Ia(t,i),n=Io(e,t,n,r,a,i),r=So(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Ts(e,t,n,r,i){if(Di(n)){var a=!0;Mi(t)}else a=!1;if(Ia(t,i),null===t.stateNode)qs(e,t),qa(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Sa(c):c=Ri(t,c=Di(n)?Ni:Ti.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Ha(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ai.current||Na?("function"===typeof l&&(Va(t,n,l,r),u=t.memoizedState),(s=Na||za(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ga(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Sa(u):u=Ri(t,u=Di(n)?Ni:Ti.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Ha(t,o,r,u),Na=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ai.current||Na?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Na||za(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,a,i)}function As(e,t,n,r,i,a){Es(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Hs(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Rs(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Ds,Ls,Os,Ps={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Mc(u,i,0,null),e=Pc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Ps,e):js(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Pc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Ps,o);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Au)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),nc(r,e,i,-1))}return vc(),Us(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Qi++]=Yi,Ki[Qi++]=Xi,Ki[Qi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),(t=js(t,r.children)).flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Lc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Lc(r,s):(s=Pc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ps,i}return e=(s=e.child).sibling,i=Lc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function js(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=js(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Lc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Di(t.type)&&Li(),Ws(t),null;case 3:return r=t.stateNode,io(),Si(Ai),Si(Ti),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Ws(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ls(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ws(t),null}if(e=no(Ja.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Pr.length;i++)Ur(Pr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":W(r),J(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Ds(e,t),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Pr.length;i++)Ur(Pr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ge(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,u))}switch(n){case"input":W(e),J(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Os(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Ja.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ws(t),null;case 13:if(Si(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Ou&&(Ou=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return io(),null===e&&zr(t.stateNode.containerInfo),Ws(t),null;case 10:return xa(t.type._context),Ws(t),null;case 19:if(Si(so),null===(o=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Gs(o,!1);else{if(0!==Ou||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Gs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>zu&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ws(t),null}else 2*Xe()-o.renderingStartTime>zu&&1073741824!==n&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=so.current,Ei(so,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Du)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qs(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&Li(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ai),Si(Ti),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(so),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ds=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ls=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Ja.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Ys=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Zs=null;function Js(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[gi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,fu=!1;function hu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||Js(n,t);case 6:var r=lu,i=fu;lu=null,hu(e,t,n),fu=i,null!==(lu=r)&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),zt(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=fu,lu=n.stateNode.containerInfo,fu=!0,hu(e,t,n),lu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(n,t,o),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!Ys&&(Js(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ic(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,hu(e,t,n),Ys=r):hu(e,t,n);break;default:hu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,fu=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===lu)throw Error(a(160));du(o,s,i),lu=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ic(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),mu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(g){Ic(e,e.return,g)}try{nu(5,e,e.return)}catch(g){Ic(e,e.return,g)}}break;case 1:vu(t,e),mu(e),512&r&&null!==n&&Js(n,n.return);break;case 5:if(vu(t,e),mu(e),512&r&&null!==n&&Js(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Ic(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&X(i,o),ke(u,s);var l=ke(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?ge(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(u){case"input":Z(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(g){Ic(e,e.return,g)}}break;case 6:if(vu(t,e),mu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Ic(e,e.return,g)}}break;case 3:if(vu(t,e),mu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Ic(e,e.return,g)}break;case 4:default:vu(t,e),mu(e);break;case 13:vu(t,e),mu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=Xe())),4&r&&pu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(l=Ys)||f,vu(t,e),Ys=l):vu(t,e),mu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zs=e,f=e.child;null!==f;){for(h=Zs=f;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:Js(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Ic(r,n,g)}}break;case 5:Js(d,d.return);break;case 22:if(null!==d.memoizedState){wu(h);continue}}null!==p?(p.return=d,Zs=p):wu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(g){Ic(e,e.return,g)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(g){Ic(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vu(t,e),mu(e),4&r&&pu(e);case 21:}}function mu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){Ic(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yu(e,t,n){Zs=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$s;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Ys;s=$s;var c=Ys;if($s=o,(Ys=u)&&!c)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?xu(i):null!==u?(u.return=o,Zs=u):xu(i);for(;null!==a;)Zs=a,ku(a,t,n),a=a.sibling;Zs=i,$s=s,Ys=c}bu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):bu(e)}}function bu(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ga(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Ys||512&t.flags&&iu(t)}catch(d){Ic(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function wu(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function xu(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Ic(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ic(t,i,u)}}var a=t.return;try{iu(t)}catch(u){Ic(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){Ic(t,o,u)}}}catch(u){Ic(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var _u,Iu=Math.ceil,Su=b.ReactCurrentDispatcher,Eu=b.ReactCurrentOwner,Cu=b.ReactCurrentBatchConfig,Tu=0,Au=null,Nu=null,Ru=0,Du=0,Lu=Ii(0),Ou=0,Pu=null,Mu=0,Fu=0,ju=0,Uu=null,Vu=null,Bu=0,zu=1/0,qu=null,Hu=!1,Gu=null,Wu=null,Ku=!1,Qu=null,$u=0,Yu=0,Xu=null,Zu=-1,Ju=0;function ec(){return 0!==(6&Tu)?Xe():-1!==Zu?Zu:Zu=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Tu)&&0!==Ru?Ru&-Ru:null!==va.transition?(0===Ju&&(Ju=vt()),Ju):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yu)throw Yu=0,Xu=null,Error(a(185));mt(e,n,r),0!==(2&Tu)&&e===Au||(e===Au&&(0===(2&Tu)&&(Fu|=n),4===Ou&&sc(e,Ru)),rc(e,r),1===n&&0===Tu&&0===(1&t.mode)&&(zu=Xe()+500,Ui&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Au?Ru:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(uc.bind(null,e)):Bi(uc.bind(null,e)),oi((function(){0===(6&Tu)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Zu=-1,Ju=0,0!==(6&Tu))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Au?Ru:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Tu;Tu|=2;var o=pc();for(Au===e&&Ru===t||(qu=null,zu=Xe()+500,hc(e,t));;)try{yc();break}catch(u){dc(e,u)}wa(),Su.current=o,Tu=i,null!==Nu?t=0:(Au=null,Ru=0,t=Ou)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Pu,hc(e,0),sc(e,r),rc(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Pu,hc(e,0),sc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Vu,qu);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bu+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vu,qu),t);break}wc(e,Vu,qu);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Iu(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vu,qu),r);break}wc(e,Vu,qu);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Vu,Vu=n,null!==t&&oc(t)),e}function oc(e){null===Vu?Vu=e:Vu.push.apply(Vu,e)}function sc(e,t){for(t&=~ju,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Tu))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Pu,hc(e,0),sc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vu,qu),rc(e,Xe()),null}function cc(e,t){var n=Tu;Tu|=1;try{return e(t)}finally{0===(Tu=n)&&(zu=Xe()+500,Ui&&zi())}}function lc(e){null!==Qu&&0===Qu.tag&&0===(6&Tu)&&xc();var t=Tu;Tu|=1;var n=Cu.transition,r=kt;try{if(Cu.transition=null,kt=1,e)return e()}finally{kt=r,Cu.transition=n,0===(6&(Tu=t))&&zi()}}function fc(){Du=Lu.current,Si(Lu)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nu)for(n=Nu.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Li();break;case 3:io(),Si(Ai),Si(Ti),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(so);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Au=e,Nu=e=Lc(e.current,null),Ru=Du=t,Ou=0,Pu=null,ju=Fu=Mu=0,Vu=Uu=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function dc(e,t){for(;;){var n=Nu;try{if(wa(),fo.current=os,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,mo=go=vo=null,ko=!1,bo=0,Eu.current=null,null===n||null===n.return){Ou=1,Pu=t,Nu=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Ru,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&gs(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}if(0===(1&t)){gs(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var m=ms(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),ys(m,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Ou&&(Ou=2),null===Uu?Uu=[o]:Uu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,c,t));break e;case 1:u=c;var y=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Wu||!Wu.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Nu===n&&null!==n&&(Nu=n=n.return);continue}break}}function pc(){var e=Su.current;return Su.current=os,null===e?os:e}function vc(){0!==Ou&&3!==Ou&&2!==Ou||(Ou=4),null===Au||0===(268435455&Mu)&&0===(268435455&Fu)||sc(Au,Ru)}function gc(e,t){var n=Tu;Tu|=2;var r=pc();for(Au===e&&Ru===t||(qu=null,hc(e,t));;)try{mc();break}catch(i){dc(e,i)}if(wa(),Tu=n,Su.current=r,null!==Nu)throw Error(a(261));return Au=null,Ru=0,Ou}function mc(){for(;null!==Nu;)kc(Nu)}function yc(){for(;null!==Nu&&!$e();)kc(Nu)}function kc(e){var t=_u(e.alternate,e,Du);e.memoizedProps=e.pendingProps,null===t?bc(e):Nu=t,Eu.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Du)))return void(Nu=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Nu=n);if(null===e)return Ou=6,void(Nu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nu=t);Nu=t=e}while(null!==t);0===Ou&&(Ou=5)}function wc(e,t,n){var r=kt,i=Cu.transition;try{Cu.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Qu);if(0!==(6&Tu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Au&&(Nu=Au=null,Ru=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ku||(Ku=!0,Ac(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cu.transition,Cu.transition=null;var s=kt;kt=1;var u=Tu;Tu|=4,Eu.current=null,function(e,t){if(ei=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var g=v.memoizedProps,m=v.memoizedState,y=t.stateNode,k=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ga(t.type,g),m);y.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ic(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=tu,tu=!1}(e,n),gu(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,yu(n,e,i),Ye(),Tu=u,kt=s,Cu.transition=o}else e.current=n;if(Ku&&(Ku=!1,Qu=e,$u=i),0===(o=e.pendingLanes)&&(Wu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Gu,Gu=null,e;0!==(1&$u)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Xu?Yu++:(Yu=0,Xu=e):Yu=0,zi()}(e,t,n,r)}finally{Cu.transition=i,kt=r}return null}function xc(){if(null!==Qu){var e=bt($u),t=Cu.transition,n=kt;try{if(Cu.transition=null,kt=16>e?16:e,null===Qu)var r=!1;else{if(e=Qu,Qu=null,$u=0,0!==(6&Tu))throw Error(a(331));var i=Tu;for(Tu|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zs=l;null!==Zs;){var f=Zs;switch(f.tag){case 0:case 11:case 15:nu(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zs=h;else for(;null!==Zs;){var d=(f=Zs).sibling,p=f.return;if(au(f),f===l){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=o.alternate;if(null!==v){var g=v.child;if(null!==g){v.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Zs=y;break e}Zs=o.return}}var k=e.current;for(Zs=k;null!==Zs;){var b=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Zs=b;else e:for(s=k;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(x){Ic(u,u.return,x)}if(u===s){Zs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Zs=w;break e}Zs=u.return}}if(Tu=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Cu.transition=t}}return!1}function _c(e,t,n){e=Oa(e,t=ps(0,t=ls(n,t),1),1),t=ec(),null!==e&&(mt(e,1,t),rc(e,t))}function Ic(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wu||!Wu.has(r))){t=Oa(t,e=vs(t,e=ls(n,e),1),1),e=ec(),null!==t&&(mt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Au===e&&(Ru&n)===n&&(4===Ou||3===Ou&&(130023424&Ru)===Ru&&500>Xe()-Bu?hc(e,0):ju|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Aa(e,t))&&(mt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ec(e,n)}function Ac(e,t){return Ke(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Nc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Dc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Pc(n.children,i,o,t);case I:s=8,i|=8;break;case S:return(e=Rc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case A:return(e=Rc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Rc(19,n,t,i)).elementType=N,e.lanes=o,e;case L:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case C:s=9;break e;case T:s=11;break e;case R:s=14;break e;case D:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Pc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=L,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,s,u){return e=new Uc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return Ci;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Pi(e,n,t)}return t}function qc(e,t,n,r,i,a,o,s,u){return(e=Vc(n,r,!0,e,0,a,0,s,u)).context=zc(null),n=e.current,(a=La(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,mt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=La(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(nc(e,i,o,a),Pa(e,i,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}_u=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),da();break;case 5:ao(t);break;case 1:Di(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ei(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ei(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return Hs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&Ji(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=Ri(t,Ti.current);Ia(t,n),i=Io(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=As(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===R)return 14}return 2}(r),e=ga(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=Ts(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=_s(null,t,r,ga(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 3:e:{if(Ns(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),Fa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Rs(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Rs(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Es(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ei(ma,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ai.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=La(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),_a(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ia(t,n),r=r(i=Sa(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ga(r=t.type,t.pendingProps),_s(e,t,r,i=ga(r.type,i),n);case 15:return Is(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ga(r,i),qs(e,t),t.tag=1,Di(r)?(e=!0,Mi(t)):e=!1,Ia(t,n),qa(t,r,i),Ga(t,r,i,n),As(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return Ss(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Gc(o);s.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Gc(u);s.call(e)}}var u=Vc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=u,e[pi]=u.current,zr(8===e.nodeType?e.parentNode:e),lc((function(){Hc(t,u,n,r)})),u}(n,t,e,i,r);return Gc(o)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Hc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&0!==t&&t<Lt[n].priority;n++);Lt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Xe()),0===(6&Tu)&&(zu=Xe()+500,zi()))}break;case 13:lc((function(){var t=Aa(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Kc(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Aa(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},It=function(){return kt},St=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,Ae=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ee,Ce,cc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function k(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var b=k.prototype=new y;b.constructor=k,v(b,m.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+T(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+T(s=e[c],c);u+=A(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=A(s=s.value,t,i,l=a+T(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},L={transition:null},O={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:L,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,g=!1,m="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(g=!1,b(e),!v)if(null!==r(c))v=!0,L(x);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function x(e,n){v=!1,g&&(g=!1,y(E),E=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&O(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,I=!1,S=null,E=-1,C=5,T=-1;function A(){return!(t.unstable_now()-T<C)}function N(){if(null!==S){var e=t.unstable_now();T=e;var n=!0;try{n=S(!0,e)}finally{n?_():(I=!1,S=null)}}else I=!1}if("function"===typeof k)_=function(){k(N)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,D=R.port2;R.port1.onmessage=N,_=function(){D.postMessage(null)}}else _=function(){m(N,0)};function L(e){S=e,I||(I=!0,_())}function O(e,n){E=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,L(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(g?(y(E),E=-1):g=!0,O(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,L(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".6fc84126.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="chatflix:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/ChatFlix/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkchatflix=self.webpackChunkchatflix||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){var e={};n.r(e),n.d(e,{FirebaseError:function(){return $},SDK_VERSION:function(){return at},_DEFAULT_ENTRY_NAME:function(){return We},_addComponent:function(){return Ye},_addOrOverwriteComponent:function(){return Xe},_apps:function(){return Qe},_clearComponents:function(){return tt},_components:function(){return $e},_getProvider:function(){return Je},_registerComponent:function(){return Ze},_removeServiceInstance:function(){return et},deleteApp:function(){return ct},getApp:function(){return st},getApps:function(){return ut},initializeApp:function(){return ot},onLog:function(){return ht},registerVersion:function(){return ft},setLogLevel:function(){return dt}});var t=n(791),r=n(250),i="Layout_layout__+gLNo";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function s(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function u(e){return function(e){if(Array.isArray(e))return a(e)}(e)||o(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){if(Array.isArray(e))return e}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){return c(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||s(e,t)||l()}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function d(){d=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(N){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof p?t:p,o=Object.create(a.prototype),s=new C(i||[]);return r(o,"_invoke",{value:_(e,n,s)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var f={};function p(){}function v(){}function g(){}var m={};u(m,a,(function(){return this}));var y=Object.getPrototypeOf,k=y&&y(y(T([])));k&&k!==t&&n.call(k,a)&&(m=k);var b=g.prototype=p.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(r,a,o,s){var u=l(e[r],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==h(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=I(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function I(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return v.prototype=g,r(b,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:v,configurable:!0}),v.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(x.prototype),u(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function p(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){p(a,r,i,o,s,"next",e)}function s(e){p(a,r,i,o,s,"throw",e)}o(void 0)}))}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}function S(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(jT){return!1}}function E(e,t){if(t&&("object"===h(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function C(e){var t=S();return function(){var n,r=I(e);if(t){var i=I(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E(this,n)}}function T(e,t,n){return T=S()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&x(i,n.prototype),i},T.apply(null,arguments)}function A(e){var t="function"===typeof Map?new Map:void 0;return A=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return T(e,arguments,I(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),x(n,e)},A(e)}var N=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},R={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(N(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},D=function(e){return function(e){var t=N(e);return R.encodeByteArray(t,!0)}(e).replace(/\./g,"")},L=function(e){try{return R.decodeString(e,!0)}catch(jT){console.error("base64Decode failed: ",jT)}return null};function O(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=O(e[n],t[n]));return e}function P(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function M(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(jT){return!1}}function F(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function j(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function U(){var e=P();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function V(){return"object"===typeof indexedDB}var B=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},z=function(){try{return B()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/ChatFlix",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(jT){return}var t=e&&L(e[1]);return t&&JSON.parse(t)}}()}catch(jT){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(jT))}},q=function(e){var t,n;return null===(n=null===(t=z())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},H=function(e){var t=q(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},G=function(){var e;return null===(e=z())||void 0===e?void 0:e.config},W=function(e){var t;return null===(t=z())||void 0===t?void 0:t["_".concat(e)]},K=function(){function e(){var t=this;m(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return k(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Q(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[D(JSON.stringify({alg:"none",type:"JWT"})),D(JSON.stringify(a)),""].join(".")}var $=function(e){_(n,e);var t=C(n);function n(e,r,i){var a;return m(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(w(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(w(a),Y.prototype.create),a}return k(n)}(A(Error)),Y=function(){function e(t,n,r){m(this,e),this.service=t,this.serviceName=n,this.errors=r}return k(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?X(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new $(n,a,t);return o}}]),e}();function X(e,t){return e.replace(Z,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Z=/\{\$([^}]+)}/g;function J(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ee(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(te(s)&&te(u)){if(!ee(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function te(e){return null!==e&&"object"===typeof e}function ne(e){for(var t=[],n=function(){var e=f(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function re(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=f(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function ie(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function ae(e,t){var n=new oe(e,t);return n.subscribe.bind(n)}var oe=function(){function e(t,n){var r=this;m(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return k(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=b(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=se),void 0===r.error&&(r.error=se),void 0===r.complete&&(r.complete=se);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(jT){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(jT){"undefined"!==typeof console&&console.error&&console.error(jT)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function se(){}function ue(e){return e&&e._delegate?e._delegate:e}var ce=function(){function e(t,n,r){m(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return k(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),le="[DEFAULT]",fe=function(){function e(t,n){m(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return k(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new K;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(jT){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(jT){if(r)return null;throw jT}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:le})}catch(jT){}var t,n=b(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=f(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(jT){}}}catch(u){n.e(u)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=v(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(u(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),u(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=b(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=f(i.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);r===l&&c.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=b(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(lS){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===le?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(lS){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le;return this.component?this.component.multipleInstances?e:le:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var he,de,pe=function(){function e(t){m(this,e),this.name=t,this.providers=new Map}return k(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new fe(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ve=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(de||(de={}));var ge={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},me=de.INFO,ye=(g(he={},de.DEBUG,"log"),g(he,de.VERBOSE,"log"),g(he,de.INFO,"info"),g(he,de.WARN,"warn"),g(he,de.ERROR,"error"),he),ke=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ye[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},be=function(){function e(t){m(this,e),this.name=t,this._logLevel=me,this._logHandler=ke,this._userLogHandler=null,ve.push(this)}return k(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in de))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ge[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,de.DEBUG].concat(t)),this._logHandler.apply(this,[this,de.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,de.VERBOSE].concat(t)),this._logHandler.apply(this,[this,de.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,de.INFO].concat(t)),this._logHandler.apply(this,[this,de.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,de.WARN].concat(t)),this._logHandler.apply(this,[this,de.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,de.ERROR].concat(t)),this._logHandler.apply(this,[this,de.ERROR].concat(t))}}]),e}();function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _e,Ie;var Se=new WeakMap,Ee=new WeakMap,Ce=new WeakMap,Te=new WeakMap,Ae=new WeakMap;var Ne={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ee.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ce.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Le(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Re(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ie||(Ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Oe(this),n),Le(Se.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Le(e.apply(Oe(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Oe(this),t].concat(r));return Ce.set(a,t.sort?t.sort():[t]),Le(a)}}function De(e){return"function"===typeof e?Re(e):(e instanceof IDBTransaction&&function(e){if(!Ee.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ee.set(e,t)}}(e),t=e,(_e||(_e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Ne):e);var t}function Le(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Le(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Se.set(t,e)})).catch((function(){})),Ae.set(t,e),t}(e);if(Te.has(e))return Te.get(e);var t=De(e);return t!==e&&(Te.set(e,t),Ae.set(t,e)),t}var Oe=function(e){return Ae.get(e)};var Pe,Me,Fe,je=["get","getKey","getAll","getAllKeys","count"],Ue=["put","add","delete","clear"],Ve=new Map;function Be(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Ve.get(t))return Ve.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Ue.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||je.includes(n))){var a=function(){var e=v(d().mark((function e(t){var a,o,s,u,c,l,f=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Ve.set(t,a),a}}}Pe=function(e){return xe(xe({},e),{},{get:function(t,n,r){return Be(t,n)||e.get(t,n,r)},has:function(t,n){return!!Be(t,n)||e.has(t,n)}})},Ne=Pe(Ne);var ze=function(){function e(t){m(this,e),this.container=t}return k(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var qe="@firebase/app",He="0.8.3",Ge=new be("@firebase/app"),We="[DEFAULT]",Ke=(g(Me={},qe,"fire-core"),g(Me,"@firebase/app-compat","fire-core-compat"),g(Me,"@firebase/analytics","fire-analytics"),g(Me,"@firebase/analytics-compat","fire-analytics-compat"),g(Me,"@firebase/app-check","fire-app-check"),g(Me,"@firebase/app-check-compat","fire-app-check-compat"),g(Me,"@firebase/auth","fire-auth"),g(Me,"@firebase/auth-compat","fire-auth-compat"),g(Me,"@firebase/database","fire-rtdb"),g(Me,"@firebase/database-compat","fire-rtdb-compat"),g(Me,"@firebase/functions","fire-fn"),g(Me,"@firebase/functions-compat","fire-fn-compat"),g(Me,"@firebase/installations","fire-iid"),g(Me,"@firebase/installations-compat","fire-iid-compat"),g(Me,"@firebase/messaging","fire-fcm"),g(Me,"@firebase/messaging-compat","fire-fcm-compat"),g(Me,"@firebase/performance","fire-perf"),g(Me,"@firebase/performance-compat","fire-perf-compat"),g(Me,"@firebase/remote-config","fire-rc"),g(Me,"@firebase/remote-config-compat","fire-rc-compat"),g(Me,"@firebase/storage","fire-gcs"),g(Me,"@firebase/storage-compat","fire-gcs-compat"),g(Me,"@firebase/firestore","fire-fst"),g(Me,"@firebase/firestore-compat","fire-fst-compat"),g(Me,"fire-js","fire-js"),g(Me,"firebase","fire-js-all"),Me),Qe=new Map,$e=new Map;function Ye(e,t){try{e.container.addComponent(t)}catch(jT){Ge.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),jT)}}function Xe(e,t){e.container.addOrOverwriteComponent(t)}function Ze(e){var t=e.name;if($e.has(t))return Ge.debug("There were multiple attempts to register component ".concat(t,".")),!1;$e.set(t,e);var n,r=b(Qe.values());try{for(r.s();!(n=r.n()).done;){Ye(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Je(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function et(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:We;Je(e,t).clearInstance(n)}function tt(){$e.clear()}var nt=(g(Fe={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),g(Fe,"bad-app-name","Illegal App name: '{$appName}"),g(Fe,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),g(Fe,"app-deleted","Firebase App named '{$appName}' already deleted"),g(Fe,"no-options","Need to provide options, when not being deployed to hosting via source."),g(Fe,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),g(Fe,"invalid-log-argument","First argument to `onLog` must be null or a function."),g(Fe,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),g(Fe,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),g(Fe,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),g(Fe,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Fe),rt=new Y("app","Firebase",nt),it=function(){function e(t,n,r){var i=this;m(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ce("app",(function(){return i}),"PUBLIC"))}return k(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw rt.create("app-deleted",{appName:this._name})}}]),e}(),at="9.13.0";function ot(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:We,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw rt.create("bad-app-name",{appName:String(a)});if(n||(n=G()),!n)throw rt.create("no-options");var o=Qe.get(a);if(o){if(ee(n,o.options)&&ee(i,o.config))return o;throw rt.create("duplicate-app",{appName:a})}var s,u=new pe(a),c=b($e.values());try{for(c.s();!(s=c.n()).done;){var l=s.value;u.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new it(n,i,u);return Qe.set(a,f),f}function st(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=Qe.get(e);if(!t&&e===We)return ot();if(!t)throw rt.create("no-app",{appName:e});return t}function ut(){return Array.from(Qe.values())}function ct(e){return lt.apply(this,arguments)}function lt(){return lt=v(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Qe.has(n)){e.next=6;break}return Qe.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),lt.apply(this,arguments)}function ft(e,t,n){var r,i=null!==(r=Ke[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ge.warn(s.join(" "))}Ze(new ce("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function ht(e,t){if(null!==e&&"function"!==typeof e)throw rt.create("invalid-log-argument");!function(e,t){var n,r=b(ve);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=ge[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:de[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function dt(e){var t;t=e,ve.forEach((function(e){e.setLogLevel(t)}))}var pt="firebase-heartbeat-store",vt=null;function gt(){return vt||(vt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Le(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Le(s.result),e.oldVersion,e.newVersion,Le(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(pt)}}).catch((function(e){throw rt.create("idb-open",{originalErrorMessage:e.message})}))),vt}function mt(e){return yt.apply(this,arguments)}function yt(){return yt=v(d().mark((function e(t){var n,r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gt();case 3:return r=e.sent,e.abrupt("return",r.transaction(pt).objectStore(pt).get(wt(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof $?Ge.warn(e.t0.message):(i=rt.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),Ge.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),yt.apply(this,arguments)}function kt(e,t){return bt.apply(this,arguments)}function bt(){return bt=v(d().mark((function e(t,n){var r,i,a,o,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gt();case 3:return i=e.sent,a=i.transaction(pt,"readwrite"),o=a.objectStore(pt),e.next=8,o.put(n,wt(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof $?Ge.warn(e.t0.message):(s=rt.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),Ge.warn(s.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),bt.apply(this,arguments)}function wt(e){return"".concat(e.name,"!").concat(e.options.appId)}var xt=function(){function e(t){var n=this;m(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Ct(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return k(e,[{key:"triggerHeartbeat",value:function(){var e=v(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=_t(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=v(d().mark((function e(){var t,n,r,i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=_t(),n=It(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=D(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function _t(){return(new Date).toISOString().substring(0,10)}function It(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=b(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Tt(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Tt(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var St,Et,Ct=function(){function e(t){m(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return k(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=v(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(V()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=v(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,mt(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=v(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",kt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=v(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",kt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(u(r.heartbeats),u(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Tt(e){return D(JSON.stringify({version:2,heartbeats:e})).length}St="",Ze(new ce("platform-logger",(function(e){return new ze(e)}),"PRIVATE")),Ze(new ce("heartbeat",(function(e){return new xt(e)}),"PRIVATE")),ft(qe,He,St),ft(qe,He,"esm2017"),ft("fire-js","");var At=function(){function e(t,n){var r=this;m(this,e),this._delegate=t,this.firebase=n,Ye(t,new ce("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return k(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),ct(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:We;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:We;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Ye(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Xe(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Nt=(g(Et={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),g(Et,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Et),Rt=new Y("app-compat","Firebase",Nt);var Dt=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=ot(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(J(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:ft,setLogLevel:dt,onLog:ht,apps:null,SDK_VERSION:at,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Ze(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Rt.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&O(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!J(n,e=e||We))throw Rt.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(At);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){O(n,e)},createSubscribe:ae,ErrorFactory:Y,deepExtend:O}),n}(),Lt=new be("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Lt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ot=self.firebase.SDK_VERSION;Ot&&Ot.indexOf("LITE")>=0&&Lt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Pt=Dt;!function(e){ft("@firebase/app-compat","0.1.38",e)}();function Mt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=I(e)););return e}function Ft(){return Ft="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Mt(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Ft.apply(this,arguments)}Pt.registerVersion("firebase","9.13.0","app-compat");function jt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Ut;Object.create;var Vt="facebook.com",Bt="github.com",zt="google.com",qt="password",Ht="twitter.com",Gt="EMAIL_SIGNIN",Wt="PASSWORD_RESET",Kt="RECOVER_EMAIL",Qt="REVERT_SECOND_FACTOR_ADDITION",$t="VERIFY_AND_CHANGE_EMAIL",Yt="VERIFY_EMAIL";function Xt(){return g({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Zt=function(){var e;return g(e={},"admin-restricted-operation","This operation is restricted to administrators only."),g(e,"argument-error",""),g(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),g(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),g(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),g(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),g(e,"cordova-not-ready","Cordova framework is not ready."),g(e,"cors-unsupported","This browser is not supported."),g(e,"credential-already-in-use","This credential is already associated with a different user account."),g(e,"custom-token-mismatch","The custom token corresponds to a different audience."),g(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),g(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),g(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),g(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),g(e,"email-already-in-use","The email address is already in use by another account."),g(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),g(e,"expired-action-code","The action code has expired."),g(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),g(e,"internal-error","An internal AuthError has occurred."),g(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),g(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),g(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),g(e,"invalid-auth-event","An internal AuthError has occurred."),g(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),g(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),g(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),g(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),g(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),g(e,"invalid-email","The email address is badly formatted."),g(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),g(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),g(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),g(e,"invalid-credential","The supplied auth credential is malformed or has expired."),g(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),g(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),g(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),g(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),g(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),g(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),g(e,"wrong-password","The password is invalid or the user does not have a password."),g(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),g(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),g(e,"invalid-provider-id","The specified provider ID is invalid."),g(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),g(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),g(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),g(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),g(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),g(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),g(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),g(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),g(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),g(e,"missing-continue-uri","A continue URL must be provided in the request."),g(e,"missing-iframe-start","An internal AuthError has occurred."),g(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),g(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),g(e,"missing-multi-factor-info","No second factor identifier is provided."),g(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),g(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),g(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),g(e,"app-deleted","This instance of FirebaseApp has been deleted."),g(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),g(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),g(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),g(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),g(e,"no-auth-event","An internal AuthError has occurred."),g(e,"no-such-provider","User was not linked to an account with the given provider."),g(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),g(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),g(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),g(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),g(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),g(e,"provider-already-linked","User can only be linked to one identity for the given provider."),g(e,"quota-exceeded","The project's quota for this operation has been exceeded."),g(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),g(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),g(e,"rejected-credential","The request contains malformed or mismatching credentials."),g(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),g(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),g(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),g(e,"timeout","The operation has timed out."),g(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),g(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),g(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),g(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),g(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),g(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),g(e,"unverified-email","The operation requires a verified email."),g(e,"user-cancelled","The user did not grant your application the permissions it requested."),g(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),g(e,"user-disabled","The user account has been disabled by an administrator."),g(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),g(e,"user-signed-out",""),g(e,"weak-password","The password must be 6 characters long or more."),g(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),g(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Jt=Xt,en=new Y("auth","Firebase",Xt()),tn=new be("@firebase/auth");function nn(e){if(tn.logLevel<=de.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];tn.error.apply(tn,["Auth (".concat(at,"): ").concat(e)].concat(n))}}function rn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw un.apply(void 0,[e].concat(n))}function an(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return un.apply(void 0,[e].concat(n))}function on(e,t,n){var r=Object.assign(Object.assign({},Jt()),g({},t,n));return new Y("auth","Firebase",r).create(t,{appName:e.name})}function sn(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&rn(e,"argument-error"),on(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function un(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=u(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(u(o)))}return en.create.apply(en,[e].concat(n))}function cn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw un.apply(void 0,[t].concat(r))}}function ln(e){var t="INTERNAL ASSERTION FAILED: "+e;throw nn(t),new Error(t)}function fn(e,t){e||ln(t)}var hn=new Map;function dn(e){fn(e instanceof Function,"Expected a class definition");var t=hn.get(e);return t?(fn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,hn.set(e,t),t)}function pn(e,t){var n=Je(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(ee(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;rn(r,"already-initialized")}return n.initialize({options:t})}function vn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function gn(){return"http:"===mn()||"https:"===mn()}function mn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var yn=function(){function e(t,n){m(this,e),this.shortDelay=t,this.longDelay=n,fn(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(P())||j()}return k(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(gn()||F()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function kn(e,t){fn(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var bn=function(){function e(){m(this,e)}return k(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void ln("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void ln("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void ln("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),wn=(g(Ut={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),g(Ut,"MISSING_CUSTOM_TOKEN","internal-error"),g(Ut,"INVALID_IDENTIFIER","invalid-email"),g(Ut,"MISSING_CONTINUE_URI","internal-error"),g(Ut,"INVALID_PASSWORD","wrong-password"),g(Ut,"MISSING_PASSWORD","internal-error"),g(Ut,"EMAIL_EXISTS","email-already-in-use"),g(Ut,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),g(Ut,"INVALID_IDP_RESPONSE","invalid-credential"),g(Ut,"INVALID_PENDING_TOKEN","invalid-credential"),g(Ut,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),g(Ut,"MISSING_REQ_TYPE","internal-error"),g(Ut,"EMAIL_NOT_FOUND","user-not-found"),g(Ut,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),g(Ut,"EXPIRED_OOB_CODE","expired-action-code"),g(Ut,"INVALID_OOB_CODE","invalid-action-code"),g(Ut,"MISSING_OOB_CODE","internal-error"),g(Ut,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),g(Ut,"INVALID_ID_TOKEN","invalid-user-token"),g(Ut,"TOKEN_EXPIRED","user-token-expired"),g(Ut,"USER_NOT_FOUND","user-token-expired"),g(Ut,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),g(Ut,"INVALID_CODE","invalid-verification-code"),g(Ut,"INVALID_SESSION_INFO","invalid-verification-id"),g(Ut,"INVALID_TEMPORARY_PROOF","invalid-credential"),g(Ut,"MISSING_SESSION_INFO","missing-verification-id"),g(Ut,"SESSION_EXPIRED","code-expired"),g(Ut,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),g(Ut,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),g(Ut,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),g(Ut,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),g(Ut,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),g(Ut,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),g(Ut,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),g(Ut,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),g(Ut,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),g(Ut,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),g(Ut,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Ut),xn=new yn(3e4,6e4);function _n(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function In(e,t,n,r){return Sn.apply(this,arguments)}function Sn(){return Sn=v(d().mark((function e(t,n,r,i){var a,o=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",En(t,a,v(d().mark((function e(){var a,o,s,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=ne(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",bn.fetch()(Nn(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Sn.apply(this,arguments)}function En(e,t,n){return Cn.apply(this,arguments)}function Cn(){return Cn=v(d().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,p,v;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},wn),n),e.prev=2,a=new Rn(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Dn(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),l=f(c,2),h=l[0],p=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Dn(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Dn(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Dn(t,"user-disabled",s);case 29:if(v=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!p){e.next=34;break}throw on(t,v,p);case 34:rn(t,v);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof $)){e.next=41;break}throw e.t0;case 41:rn(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Cn.apply(this,arguments)}function Tn(e,t,n,r){return An.apply(this,arguments)}function An(){return An=v(d().mark((function e(t,n,r,i){var a,o,s=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,In(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&rn(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),An.apply(this,arguments)}function Nn(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?kn(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Rn=function(){function e(t){var n=this;m(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(an(n.auth,"network-request-failed"))}),xn.get())}))}return k(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Dn(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=an(e,t,r);return i.customData._tokenResponse=n,i}function Ln(e,t){return On.apply(this,arguments)}function On(){return On=v(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",In(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),On.apply(this,arguments)}function Pn(e,t){return Mn.apply(this,arguments)}function Mn(){return Mn=v(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",In(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Mn.apply(this,arguments)}function Fn(e,t){return jn.apply(this,arguments)}function jn(){return jn=v(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",In(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),jn.apply(this,arguments)}function Un(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(jT){}}function Vn(){return Vn=v(d().mark((function e(t){var n,r,i,a,o,s,u=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=ue(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,cn((a=zn(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Un(Bn(a.auth_time)),issuedAtTime:Un(Bn(a.iat)),expirationTime:Un(Bn(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Vn.apply(this,arguments)}function Bn(e){return 1e3*Number(e)}function zn(e){var t,n=f(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return nn("JWT malformed, contained fewer than 3 sections"),null;try{var o=L(i);return o?JSON.parse(o):(nn("Failed to decode base64 JWT payload"),null)}catch(jT){return nn("Caught error parsing JWT payload as JSON",null===(t=jT)||void 0===t?void 0:t.toString()),null}}function qn(e,t){return Hn.apply(this,arguments)}function Hn(){return Hn=v(d().mark((function e(t,n){var r=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof $&&Gn(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Hn.apply(this,arguments)}function Gn(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Wn=function(){function e(t){m(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return k(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(v(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=v(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Kn=function(){function e(t,n){m(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return k(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Un(this.lastLoginAt),this.creationTime=Un(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Qn(e){return $n.apply(this,arguments)}function $n(){return $n=v(d().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,qn(t,Fn(r,{idToken:i}));case 6:cn(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Zn(o.providerUserInfo):[],u=Xn(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Kn(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),$n.apply(this,arguments)}function Yn(){return(Yn=v(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ue(t),e.next=3,Qn(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xn(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(u(n),u(t))}function Zn(e){return e.map((function(e){var t=e.providerId,n=jt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Jn(e,t){return er.apply(this,arguments)}function er(){return er=v(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,En(t,{},v(d().mark((function e(){var r,i,a,o,s,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ne({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Nn(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",bn.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),er.apply(this,arguments)}var tr=function(){function e(){m(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return k(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){cn(e.idToken,"internal-error"),cn("undefined"!==typeof e.idToken,"internal-error"),cn("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=zn(e);return cn(t,"internal-error"),cn("undefined"!==typeof t.exp,"internal-error"),cn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=v(d().mark((function e(t){var n,r=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],cn(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=v(d().mark((function e(t,n){var r,i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jn(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return ln("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(cn("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(cn("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(cn("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function nr(e,t){cn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var rr=function(){function e(t){m(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=jt(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?u(a.providerData):[],this.metadata=new Kn(a.createdAt||void 0,a.lastLoginAt||void 0)}return k(e,[{key:"getIdToken",value:function(){var e=v(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qn(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(cn(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Vn.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Yn.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(cn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){cn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=v(d().mark((function e(t){var n,r,i=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Qn(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=v(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,qn(this,Ln(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,g=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;cn(k&&_,t,"internal-error");var I=tr.fromJSON(this.name,_);cn("string"===typeof k,t,"internal-error"),nr(f,t.name),nr(h,t.name),cn("boolean"===typeof b,t,"internal-error"),cn("boolean"===typeof w,t,"internal-error"),nr(d,t.name),nr(p,t.name),nr(v,t.name),nr(g,t.name),nr(m,t.name),nr(y,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:m,lastLoginAt:y});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),g&&(S._redirectEventId=g),S}},{key:"_fromIdTokenResponse",value:function(){var t=v(d().mark((function t(n,r){var i,a,o,s=arguments;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new tr).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Qn(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),ir=function(){function e(){m(this,e),this.type="NONE",this.storage={}}return k(e,[{key:"_isAvailable",value:function(){var e=v(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=v(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=v(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=v(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();ir.type="NONE";var ar=ir;function or(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var sr=function(){function e(t,n,r){m(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=or(this.userKey,a.apiKey,o),this.fullPersistenceKey=or("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return k(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=v(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?rr._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=v(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=v(d().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,p,g,m=arguments;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=m.length>2&&void 0!==m[2]?m[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(dn(ar),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=v(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||dn(ar),s=or(i,n.config.apiKey,n.name),u=null,c=b(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return p=rr._fromJSON(n,h),f!==o&&(u=p),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(g=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&g.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=g[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=v(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function ur(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(hr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(cr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(pr(t))return"Blackberry";if(vr(t))return"Webos";if(lr(t))return"Safari";if((t.includes("chrome/")||fr(t))&&!t.includes("edge/"))return"Chrome";if(dr(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function cr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P();return/firefox\//i.test(e)}function lr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function fr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P();return/crios\//i.test(e)}function hr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P();return/iemobile/i.test(e)}function dr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P();return/android/i.test(e)}function pr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P();return/blackberry/i.test(e)}function vr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P();return/webos/i.test(e)}function gr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function mr(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P();return gr(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function yr(){return U()&&10===document.documentMode}function kr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P();return gr(e)||dr(e)||vr(e)||pr(e)||/windows phone/i.test(e)||hr(e)}function br(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ur(P());break;case"Worker":t="".concat(ur(P()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(at,"/").concat(r)}var wr=function(){function e(t){m(this,e),this.auth=t,this.queue=[]}return k(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(jT){r(jT)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=v(d().mark((function e(t){var n,r,i,a,o,s,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=b(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),s=b(r);try{for(s.s();!(u=s.n()).done;){c=u.value;try{c()}catch(l){}}}catch(f){s.e(f)}finally{s.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),xr=function(){function e(t,n,r){m(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ir(this),this.idTokenSubscription=new Ir(this),this.beforeStateQueue=new wr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=en,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return k(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=dn(t)),this._initializationPromise=this.queue(v(d().mark((function r(){var i,a;return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,sr.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=v(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=v(d().mark((function e(t){var n,r,i,a,o,s,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return cn(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=v(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=v(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qn(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=v(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=v(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?ue(t):null)&&cn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=v(d().mark((function e(t){var n,r=this,i=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&cn(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(v(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=v(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(v(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(dn(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Y("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=v(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=v(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return cn(n=t&&dn(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,sr.create(this,[dn(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=v(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(v(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=v(d().mark((function e(t){var n=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(v(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return cn(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=v(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return cn(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=br(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=v(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=g({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function _r(e){return ue(e)}var Ir=function(){function e(t){var n=this;m(this,e),this.auth=t,this.observer=null,this.addObserver=ae((function(e){return n.observer=e}))}return k(e,[{key:"next",get:function(){return cn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Sr(e,t,n){var r=_r(e);cn(r._canInitEmulator,r,"emulator-config-failed"),cn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Er(t),o=function(e){var t=Er(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Cr(r.substr(a.length+1))}}var o=f(r.split(":"),2);return{host:o[0],port:Cr(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Er(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Cr(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Tr=function(){function e(t,n){m(this,e),this.providerId=t,this.signInMethod=n}return k(e,[{key:"toJSON",value:function(){return ln("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return ln("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return ln("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return ln("not implemented")}}]),e}();function Ar(e,t){return Nr.apply(this,arguments)}function Nr(){return Nr=v(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",In(t,"POST","/v1/accounts:resetPassword",_n(t,n)));case 1:case"end":return e.stop()}}),e)}))),Nr.apply(this,arguments)}function Rr(e,t){return Dr.apply(this,arguments)}function Dr(){return Dr=v(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",In(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Dr.apply(this,arguments)}function Lr(e,t){return Or.apply(this,arguments)}function Or(){return Or=v(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",In(t,"POST","/v1/accounts:update",_n(t,n)));case 1:case"end":return e.stop()}}),e)}))),Or.apply(this,arguments)}function Pr(e,t){return Mr.apply(this,arguments)}function Mr(){return Mr=v(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tn(t,"POST","/v1/accounts:signInWithPassword",_n(t,n)));case 1:case"end":return e.stop()}}),e)}))),Mr.apply(this,arguments)}function Fr(e,t){return jr.apply(this,arguments)}function jr(){return jr=v(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",In(t,"POST","/v1/accounts:sendOobCode",_n(t,n)));case 1:case"end":return e.stop()}}),e)}))),jr.apply(this,arguments)}function Ur(e,t){return Vr.apply(this,arguments)}function Vr(){return Vr=v(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fr(t,n));case 1:case"end":return e.stop()}}),e)}))),Vr.apply(this,arguments)}function Br(e,t){return zr.apply(this,arguments)}function zr(){return zr=v(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fr(t,n));case 1:case"end":return e.stop()}}),e)}))),zr.apply(this,arguments)}function qr(e,t){return Hr.apply(this,arguments)}function Hr(){return Hr=v(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fr(t,n));case 1:case"end":return e.stop()}}),e)}))),Hr.apply(this,arguments)}function Gr(e,t){return Wr.apply(this,arguments)}function Wr(){return Wr=v(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fr(t,n));case 1:case"end":return e.stop()}}),e)}))),Wr.apply(this,arguments)}function Kr(e,t){return Qr.apply(this,arguments)}function Qr(){return Qr=v(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tn(t,"POST","/v1/accounts:signInWithEmailLink",_n(t,n)));case 1:case"end":return e.stop()}}),e)}))),Qr.apply(this,arguments)}function $r(e,t){return Yr.apply(this,arguments)}function Yr(){return Yr=v(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tn(t,"POST","/v1/accounts:signInWithEmailLink",_n(t,n)));case 1:case"end":return e.stop()}}),e)}))),Yr.apply(this,arguments)}var Xr=function(e){_(n,e);var t=C(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return m(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return k(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=v(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Pr(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Kr(t,{email:this._email,oobCode:this._password}));case 5:rn(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=v(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Rr(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",$r(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:rn(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Tr);function Zr(e,t){return Jr.apply(this,arguments)}function Jr(){return Jr=v(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tn(t,"POST","/v1/accounts:signInWithIdp",_n(t,n)));case 1:case"end":return e.stop()}}),e)}))),Jr.apply(this,arguments)}var ei=function(e){_(n,e);var t=C(n);function n(){var e;return m(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return k(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Zr(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Zr(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Zr(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ne(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):rn("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=jt(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Tr);function ti(e,t){return ni.apply(this,arguments)}function ni(){return ni=v(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",In(t,"POST","/v1/accounts:sendVerificationCode",_n(t,n)));case 1:case"end":return e.stop()}}),e)}))),ni.apply(this,arguments)}function ri(){return ri=v(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tn(t,"POST","/v1/accounts:signInWithPhoneNumber",_n(t,n)));case 1:case"end":return e.stop()}}),e)}))),ri.apply(this,arguments)}function ii(){return ii=v(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tn(t,"POST","/v1/accounts:signInWithPhoneNumber",_n(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Dn(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),ii.apply(this,arguments)}var ai=g({},"USER_NOT_FOUND","user-not-found");function oi(){return oi=v(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Tn(t,"POST","/v1/accounts:signInWithPhoneNumber",_n(t,r),ai));case 2:case"end":return e.stop()}}),e)}))),oi.apply(this,arguments)}var si=function(e){_(n,e);var t=C(n);function n(e){var r;return m(this,n),(r=t.call(this,"phone","phone")).params=e,r}return k(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return ri.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ii.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return oi.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Tr);var ui=function(){function e(t){var n,r,i,a,o,s;m(this,e);var u=re(ie(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);cn(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return k(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=re(ie(e)).link,n=t?re(ie(t)).deep_link_id:null,r=re(ie(e)).deep_link_id;return(r?re(ie(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(lS){return null}}}]),e}();var ci=function(){function e(){m(this,e),this.providerId=e.PROVIDER_ID}return k(e,null,[{key:"credential",value:function(e,t){return Xr._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=ui.parseLink(t);return cn(n,"argument-error"),Xr._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();ci.PROVIDER_ID="password",ci.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ci.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var li=function(){function e(t){m(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return k(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),fi=function(e){_(n,e);var t=C(n);function n(){var e;return m(this,n),(e=t.apply(this,arguments)).scopes=[],e}return k(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return u(this.scopes)}}]),n}(li),hi=function(e){_(n,e);var t=C(n);function n(){return m(this,n),t.apply(this,arguments)}return k(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return cn(e.idToken||e.accessToken,"argument-error"),ei._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return cn("providerId"in t&&"signInMethod"in t,"argument-error"),ei._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(jT){return null}}}]),n}(fi),di=function(e){_(n,e);var t=C(n);function n(){return m(this,n),t.call(this,"facebook.com")}return k(n,null,[{key:"credential",value:function(e){return ei._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(lS){return null}}}]),n}(fi);di.FACEBOOK_SIGN_IN_METHOD="facebook.com",di.PROVIDER_ID="facebook.com";var pi=function(e){_(n,e);var t=C(n);function n(){var e;return m(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return k(n,null,[{key:"credential",value:function(e,t){return ei._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(lS){return null}}}]),n}(fi);pi.GOOGLE_SIGN_IN_METHOD="google.com",pi.PROVIDER_ID="google.com";var vi=function(e){_(n,e);var t=C(n);function n(){return m(this,n),t.call(this,"github.com")}return k(n,null,[{key:"credential",value:function(e){return ei._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(lS){return null}}}]),n}(fi);vi.GITHUB_SIGN_IN_METHOD="github.com",vi.PROVIDER_ID="github.com";var gi=function(e){_(n,e);var t=C(n);function n(e,r){var i;return m(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return k(n,[{key:"_getIdTokenResponse",value:function(e){return Zr(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Zr(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Zr(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Tr),mi=function(e){_(n,e);var t=C(n);function n(e){return m(this,n),cn(e.startsWith("saml."),"argument-error"),t.call(this,e)}return k(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=gi.fromJSON(e);return cn(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return gi._create(r,n)}catch(jT){return null}}}]),n}(li),yi=function(e){_(n,e);var t=C(n);function n(){return m(this,n),t.call(this,"twitter.com")}return k(n,null,[{key:"credential",value:function(e,t){return ei._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(lS){return null}}}]),n}(fi);function ki(e,t){return bi.apply(this,arguments)}function bi(){return bi=v(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tn(t,"POST","/v1/accounts:signUp",_n(t,n)));case 1:case"end":return e.stop()}}),e)}))),bi.apply(this,arguments)}yi.TWITTER_SIGN_IN_METHOD="twitter.com",yi.PROVIDER_ID="twitter.com";var wi=function(){function e(t){m(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return k(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=v(d().mark((function t(n,r,i){var a,o,s,u,c=arguments;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,rr._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=xi(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=v(d().mark((function t(n,r,i){var a;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=xi(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function xi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function _i(){return _i=v(d().mark((function e(t){var n,r,i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_r(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new wi({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,ki(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,wi._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),_i.apply(this,arguments)}var Ii=function(e){_(n,e);var t=C(n);function n(e,r,i,a){var o,s;return m(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(w(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return k(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}($);function Si(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ii._fromErrorAndOperation(e,n,t,r);throw n}))}function Ei(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Ci(e,t){return Ti.apply(this,arguments)}function Ti(){return Ti=v(d().mark((function e(t,n){var r,i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ue(t),e.next=3,Ri(!0,r,n);case 3:return e.t0=Pn,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Ei(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Ti.apply(this,arguments)}function Ai(e,t){return Ni.apply(this,arguments)}function Ni(){return Ni=v(d().mark((function e(t,n){var r,i,a=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=qn,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",wi._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Ni.apply(this,arguments)}function Ri(e,t,n){return Di.apply(this,arguments)}function Di(){return(Di=v(d().mark((function e(t,n,r){var i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qn(n);case 2:i=Ei(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",cn(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Li(e,t){return Oi.apply(this,arguments)}function Oi(){return Oi=v(d().mark((function e(t,n){var r,i,a,o,s,u,c,l=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,qn(t,Si(a,o,n,t),r);case 6:return cn((s=e.sent).idToken,a,"internal-error"),cn(u=zn(s.idToken),a,"internal-error"),c=u.sub,cn(t.uid===c,a,"user-mismatch"),e.abrupt("return",wi._forOperation(t,o,s));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&rn(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Oi.apply(this,arguments)}function Pi(e,t){return Mi.apply(this,arguments)}function Mi(){return Mi=v(d().mark((function e(t,n){var r,i,a,o,s=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Si(t,i,n);case 4:return a=e.sent,e.next=7,wi._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Mi.apply(this,arguments)}function Fi(e,t){return ji.apply(this,arguments)}function ji(){return ji=v(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pi(_r(t),n));case 1:case"end":return e.stop()}}),e)}))),ji.apply(this,arguments)}function Ui(e,t){return Vi.apply(this,arguments)}function Vi(){return(Vi=v(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ue(t),e.next=3,Ri(!1,r,n.providerId);case 3:return e.abrupt("return",Ai(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bi(e,t){return zi.apply(this,arguments)}function zi(){return(zi=v(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Li(ue(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qi(e,t){return Hi.apply(this,arguments)}function Hi(){return Hi=v(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tn(t,"POST","/v1/accounts:signInWithCustomToken",_n(t,n)));case 1:case"end":return e.stop()}}),e)}))),Hi.apply(this,arguments)}function Gi(){return Gi=v(d().mark((function e(t,n){var r,i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_r(t),e.next=3,qi(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,wi._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Gi.apply(this,arguments)}var Wi=function(){function e(t,n){m(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return k(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Ki._fromServerResponse(e,t):rn(e,"internal-error")}}]),e}(),Ki=function(e){_(n,e);var t=C(n);function n(e){var r;return m(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return k(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Wi);function Qi(e,t,n){var r;cn((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),cn("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(cn(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(cn(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function $i(e,t,n){return Yi.apply(this,arguments)}function Yi(){return Yi=v(d().mark((function e(t,n,r){var i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ue(t),a={requestType:"PASSWORD_RESET",email:n},r&&Qi(i,a,r),e.next=5,Br(i,a);case 5:case"end":return e.stop()}}),e)}))),Yi.apply(this,arguments)}function Xi(){return Xi=v(d().mark((function e(t,n,r){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ar(ue(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Xi.apply(this,arguments)}function Zi(){return Zi=v(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lr(ue(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Zi.apply(this,arguments)}function Ji(e,t){return ea.apply(this,arguments)}function ea(){return ea=v(d().mark((function e(t,n){var r,i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ue(t),e.next=3,Ar(r,{oobCode:n});case 3:i=e.sent,cn(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return cn(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:cn(i.mfaInfo,r,"internal-error");case 13:cn(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Wi._fromServerResponse(_r(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),ea.apply(this,arguments)}function ta(){return ta=v(d().mark((function e(t,n){var r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ji(ue(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),ta.apply(this,arguments)}function na(e,t,n){return ra.apply(this,arguments)}function ra(){return ra=v(d().mark((function e(t,n,r){var i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_r(t),e.next=3,ki(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,wi._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),ra.apply(this,arguments)}function ia(e,t,n){return Fi(ue(e),ci.credential(t,n))}function aa(){return aa=v(d().mark((function e(t,n,r){var i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ue(t),a={requestType:"EMAIL_SIGNIN",email:n},cn(r.handleCodeInApp,i,"argument-error"),r&&Qi(i,a,r),e.next=6,qr(i,a);case 6:case"end":return e.stop()}}),e)}))),aa.apply(this,arguments)}function oa(){return oa=v(d().mark((function e(t,n,r){var i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ue(t),cn((a=ci.credentialWithLink(n,r||vn()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Fi(i,a));case 4:case"end":return e.stop()}}),e)}))),oa.apply(this,arguments)}function sa(e,t){return ua.apply(this,arguments)}function ua(){return ua=v(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",In(t,"POST","/v1/accounts:createAuthUri",_n(t,n)));case 1:case"end":return e.stop()}}),e)}))),ua.apply(this,arguments)}function ca(){return ca=v(d().mark((function e(t,n){var r,i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gn()?vn():"http://localhost",i={identifier:n,continueUri:r},e.next=4,sa(ue(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),ca.apply(this,arguments)}function la(){return(la=v(d().mark((function e(t,n){var r,i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ue(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Qi(r.auth,a,n),e.next=8,Ur(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fa(){return(fa=v(d().mark((function e(t,n,r){var i,a,o,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ue(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Qi(i.auth,o,r),e.next=8,Gr(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ha(e,t){return da.apply(this,arguments)}function da(){return da=v(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",In(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),da.apply(this,arguments)}function pa(e,t){return va.apply(this,arguments)}function va(){return(va=v(d().mark((function e(t,n){var r,i,a,o,s,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=ue(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,qn(a,ha(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ga(e,t){return ma(ue(e),t,null)}function ma(e,t,n){return ya.apply(this,arguments)}function ya(){return ya=v(d().mark((function e(t,n,r){var i,a,o,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,qn(t,Rr(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),ya.apply(this,arguments)}var ka=k((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};m(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),ba=function(e){_(n,e);var t=C(n);function n(e,r,i,a){var o;return m(this,n),(o=t.call(this,e,r,i)).username=a,o}return k(n)}(ka),wa=function(e){_(n,e);var t=C(n);function n(e,r){return m(this,n),t.call(this,e,"facebook.com",r)}return k(n)}(ka),xa=function(e){_(n,e);var t=C(n);function n(e,r){return m(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return k(n)}(ba),_a=function(e){_(n,e);var t=C(n);function n(e,r){return m(this,n),t.call(this,e,"google.com",r)}return k(n)}(ka),Ia=function(e){_(n,e);var t=C(n);function n(e,r,i){return m(this,n),t.call(this,e,"twitter.com",r,i)}return k(n)}(ba);function Sa(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=zn(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new ka(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new wa(a,i);case"github.com":return new xa(a,i);case"google.com":return new _a(a,i);case"twitter.com":return new Ia(a,i,e.screenName||null);case"custom":case"anonymous":return new ka(a,null);default:return new ka(a,r,i)}}(n)}function Ea(e,t,n,r){return ue(e).onIdTokenChanged(t,n,r)}function Ca(e,t,n){return ue(e).beforeAuthStateChanged(t,n)}var Ta=function(){function e(t,n,r){m(this,e),this.type=t,this.credential=n,this.auth=r}return k(e,[{key:"toJSON",value:function(){return{multiFactorSession:g({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Aa=function(){function e(t,n,r){m(this,e),this.session=t,this.hints=n,this.signInResolver=r}return k(e,[{key:"resolveSignIn",value:function(){var e=v(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=_r(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Wi._fromServerResponse(r,e)}));cn(i.mfaPendingCredential,r,"internal-error");var o=Ta._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=v(d().mark((function e(t){var a,s,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,wi._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return cn(n.user,r,"internal-error"),e.abrupt("return",wi._forOperation(n.user,n.operationType,s));case 17:rn(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Na(e,t){return In(e,"POST","/v2/accounts/mfaEnrollment:start",_n(e,t))}function Ra(e,t){return In(e,"POST","/v2/accounts/mfaEnrollment:withdraw",_n(e,t))}var Da=function(){function e(t){var n=this;m(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Wi._fromServerResponse(t.auth,e)})))}))}return k(e,[{key:"getSession",value:function(){var e=v(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ta,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=v(d().mark((function e(t,n){var r,i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,qn(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=v(d().mark((function e(t){var n,r,i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,qn(this.user,Ra(this.user.auth,{idToken:i,mfaEnrollmentId:r}));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),La=new WeakMap;var Oa="__sak",Pa=function(){function e(t,n){m(this,e),this.storageRetriever=t,this.type=n}return k(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Oa,"1"),this.storage.removeItem(Oa),Promise.resolve(!0)):Promise.resolve(!1)}catch(lS){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Ma=function(e){_(n,e);var t=C(n);function n(){var e;return m(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=P();return lr(e)||gr(e)}()&&function(){try{return!(!window||window===window.top)}catch(jT){return!1}}(),e.fallbackToPolling=kr(),e._shouldAllowMigration=!0,e}return k(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);yr()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=v(d().mark((function e(t,r){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ft(I(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=v(d().mark((function e(t){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ft(I(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=v(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ft(I(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Pa);Ma.type="LOCAL";var Fa=Ma,ja=function(e){_(n,e);var t=C(n);function n(){return m(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return k(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Pa);ja.type="SESSION";var Ua=ja;function Va(e){return Promise.all(e.map(function(){var e=v(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Ba=function(){function e(t){m(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return k(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=v(d().mark((function e(t){var n,r,i,a,o,s,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=v(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Va(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function za(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ba.receivers=[];var qa=function(){function e(t){m(this,e),this.target=t,this.handlers=new Set}return k(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=v(d().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=za("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Ha(){return window}function Ga(){return"undefined"!==typeof Ha().WorkerGlobalScope&&"function"===typeof Ha().importScripts}function Wa(){return Ka.apply(this,arguments)}function Ka(){return(Ka=v(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Qa(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var $a="firebaseLocalStorageDb",Ya="firebaseLocalStorage",Xa="fbase_key",Za=function(){function e(t){m(this,e),this.request=t}return k(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Ja(e,t){return e.transaction([Ya],t?"readwrite":"readonly").objectStore(Ya)}function eo(){var e=indexedDB.deleteDatabase($a);return new Za(e).toPromise()}function to(){var e=indexedDB.open($a,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Ya,{keyPath:Xa})}catch(jT){n(jT)}})),e.addEventListener("success",v(d().mark((function n(){var r;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Ya)){n.next=12;break}return r.close(),n.next=5,eo();case 5:return n.t0=t,n.next=8,to();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function no(e,t,n){return ro.apply(this,arguments)}function ro(){return ro=v(d().mark((function e(t,n,r){var i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ja(t,!0).put((g(i={},Xa,n),g(i,"value",r),i)),e.abrupt("return",new Za(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),ro.apply(this,arguments)}function io(e,t){return ao.apply(this,arguments)}function ao(){return ao=v(d().mark((function e(t,n){var r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ja(t,!1).get(n),e.next=3,new Za(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),ao.apply(this,arguments)}function oo(e,t){var n=Ja(e,!0).delete(t);return new Za(n).toPromise()}var so=function(){function e(){m(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return k(e,[{key:"_openDb",value:function(){var e=v(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,to();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=v(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=v(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ga()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=v(d().mark((function e(){var t=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Ba._getInstance(Ga()?self:null),this.receiver._subscribe("keyChanged",function(){var e=v(d().mark((function e(n,r){var i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=v(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=v(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wa();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new qa(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=v(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Qa()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=v(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,to();case 5:return t=e.sent,e.next=8,no(t,Oa,"1");case 8:return e.next=10,oo(t,Oa);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=v(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=v(d().mark((function e(t,n){var r=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(v(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return no(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=v(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return io(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=v(d().mark((function e(t){var n=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(v(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return oo(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=v(d().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Ja(e,!1).getAll();return new Za(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=b(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(v(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();so.type="LOCAL";var uo=so;function co(e,t){return In(e,"POST","/v2/accounts/mfaSignIn:start",_n(e,t))}function lo(e){return fo.apply(this,arguments)}function fo(){return fo=v(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,In(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),fo.apply(this,arguments)}function ho(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=an("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function po(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var vo=1e12,go=function(){function e(t){m(this,e),this.auth=t,this.counter=vo,this._widgets=new Map}return k(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new mo(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||vo;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||vo;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=v(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||vo,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),mo=function(){function e(t,n,r){var i=this;m(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;cn(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return k(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(jT){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(jT){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var yo=po("rcb"),ko=new yn(3e4,6e4),bo="https://www.google.com/recaptcha/api.js?",wo=function(){function e(){var t;m(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Ha().grecaptcha)||void 0===t?void 0:t.render)}return k(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return cn(xo(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Ha().grecaptcha):new Promise((function(r,i){var a=Ha().setTimeout((function(){i(an(e,"network-request-failed"))}),ko.get());Ha()[yo]=function(){Ha().clearTimeout(a),delete Ha()[yo];var o=Ha().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(an(e,"internal-error"))},ho("".concat(bo,"?").concat(ne({onload:yo,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(an(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Ha().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function xo(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var _o=function(){function e(){m(this,e)}return k(e,[{key:"load",value:function(){var e=v(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new go(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Io="recaptcha",So={theme:"light",type:"image"},Eo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},So),r=arguments.length>2?arguments[2]:void 0;m(this,e),this.parameters=n,this.type=Io,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_r(r),this.isInvisible="invisible"===this.parameters.size,cn("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;cn(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _o:new wo,this.validateStartingState()}return k(e,[{key:"verify",value:function(){var e=v(d().mark((function e(){var t,n,r,i=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(jT){return Promise.reject(jT)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){cn(!this.parameters.sitekey,this.auth,"argument-error"),cn(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),cn("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Ha()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){cn(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=v(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=v(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cn(gn()&&!Ga(),this.auth,"internal-error"),e.next=3,Co();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,lo(this.auth);case 8:cn(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return cn(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Co(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var To=function(){function e(t,n){m(this,e),this.verificationId=t,this.onConfirmation=n}return k(e,[{key:"confirm",value:function(e){var t=si._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Ao(){return Ao=v(d().mark((function e(t,n,r){var i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_r(t),e.next=3,Lo(i,n,ue(r));case 3:return a=e.sent,e.abrupt("return",new To(a,(function(e){return Fi(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Ao.apply(this,arguments)}function No(e,t,n){return Ro.apply(this,arguments)}function Ro(){return(Ro=v(d().mark((function e(t,n,r){var i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ue(t),e.next=3,Ri(!1,i,"phone");case 3:return e.next=5,Lo(i.auth,n,ue(r));case 5:return a=e.sent,e.abrupt("return",new To(a,(function(e){return Ui(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Do(){return(Do=v(d().mark((function e(t,n,r){var i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ue(t),e.next=3,Lo(i.auth,n,ue(r));case 3:return a=e.sent,e.abrupt("return",new To(a,(function(e){return Bi(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lo(e,t,n){return Oo.apply(this,arguments)}function Oo(){return Oo=v(d().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,cn("string"===typeof a,t,"argument-error"),cn(r.type===Io,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return cn("enroll"===s.type,t,"internal-error"),e.next=13,Na(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return cn("signin"===s.type,t,"internal-error"),cn(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,co(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,ti(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Oo.apply(this,arguments)}function Po(){return(Po=v(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ai(ue(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Mo=function(){function e(t){m(this,e),this.providerId=e.PROVIDER_ID,this.auth=_r(t)}return k(e,[{key:"verifyPhoneNumber",value:function(e,t){return Lo(this.auth,e,ue(t))}}],[{key:"credential",value:function(e,t){return si._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?si._fromTokenResponse(n,r):null}}]),e}();function Fo(e,t){return t?dn(t):(cn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Mo.PROVIDER_ID="phone",Mo.PHONE_SIGN_IN_METHOD="phone";var jo=function(e){_(n,e);var t=C(n);function n(e){var r;return m(this,n),(r=t.call(this,"custom","custom")).params=e,r}return k(n,[{key:"_getIdTokenResponse",value:function(e){return Zr(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Zr(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Zr(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Tr);function Uo(e){return Pi(e.auth,new jo(e),e.bypassAuthState)}function Vo(e){var t=e.auth,n=e.user;return cn(n,t,"internal-error"),Li(n,new jo(e),e.bypassAuthState)}function Bo(e){return zo.apply(this,arguments)}function zo(){return zo=v(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,cn(r=t.user,n,"internal-error"),e.abrupt("return",Ai(r,new jo(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),zo.apply(this,arguments)}var qo=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];m(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return k(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=v(d().mark((function t(n,r){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=v(d().mark((function e(t){var n,r,i,a,o,s,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Uo;case"linkViaPopup":case"linkViaRedirect":return Bo;case"reauthViaPopup":case"reauthViaRedirect":return Vo;default:rn(this.auth,"internal-error")}}},{key:"resolve",value:function(e){fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ho=new yn(2e3,1e4);function Go(e,t,n){return Wo.apply(this,arguments)}function Wo(){return Wo=v(d().mark((function e(t,n,r){var i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_r(t),sn(t,n,li),a=Fo(i,r),o=new Yo(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Wo.apply(this,arguments)}function Ko(){return(Ko=v(d().mark((function e(t,n,r){var i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sn((i=ue(t)).auth,n,li),a=Fo(i.auth,r),o=new Yo(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qo(e,t,n){return $o.apply(this,arguments)}function $o(){return($o=v(d().mark((function e(t,n,r){var i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sn((i=ue(t)).auth,n,li),a=Fo(i.auth,r),o=new Yo(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Yo=function(e){_(n,e);var t=C(n);function n(e,r,i,a,o){var s;return m(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=w(s),s}return k(n,[{key:"executeNotNull",value:function(){var e=v(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return cn(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=v(d().mark((function e(){var t,n=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fn(1===this.filter.length,"Popup operations only handle one event"),t=za(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(an(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(an(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(an(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Ho.get())}()}}]),n}(qo);Yo.currentPopupAction=null;var Xo=new Map,Zo=function(e){_(n,e);var t=C(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return m(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return k(n,[{key:"execute",value:function(){var e=v(d().mark((function e(){var t,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Xo.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Jo(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Ft(I(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Xo.set(this.auth._key(),t);case 21:return this.bypassAuthState||Xo.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=v(d().mark((function e(t){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Ft(I(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Ft(I(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=v(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(qo);function Jo(e,t){return es.apply(this,arguments)}function es(){return es=v(d().mark((function e(t,n){var r,i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=as(n),i=is(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),es.apply(this,arguments)}function ts(e,t){return ns.apply(this,arguments)}function ns(){return ns=v(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",is(t)._set(as(n),"true"));case 1:case"end":return e.stop()}}),e)}))),ns.apply(this,arguments)}function rs(e,t){Xo.set(e._key(),t)}function is(e){return dn(e._redirectPersistence)}function as(e){return or("pendingRedirect",e.config.apiKey,e.name)}function os(e,t,n){return function(e,t,n){return ss.apply(this,arguments)}(e,t,n)}function ss(){return ss=v(d().mark((function e(t,n,r){var i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_r(t),sn(t,n,li),a=Fo(i,r),e.next=5,ts(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),ss.apply(this,arguments)}function us(e,t,n){return function(e,t,n){return cs.apply(this,arguments)}(e,t,n)}function cs(){return(cs=v(d().mark((function e(t,n,r){var i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sn((i=ue(t)).auth,n,li),a=Fo(i.auth,r),e.next=5,ts(a,i.auth);case 5:return e.next=7,gs(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ls(e,t,n){return function(e,t,n){return fs.apply(this,arguments)}(e,t,n)}function fs(){return(fs=v(d().mark((function e(t,n,r){var i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sn((i=ue(t)).auth,n,li),a=Fo(i.auth,r),e.next=5,Ri(!1,i,n.providerId);case 5:return e.next=7,ts(a,i.auth);case 7:return e.next=9,gs(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hs(e,t){return ds.apply(this,arguments)}function ds(){return ds=v(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_r(t)._initializationPromise;case 2:return e.abrupt("return",ps(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),ds.apply(this,arguments)}function ps(e,t){return vs.apply(this,arguments)}function vs(){return vs=v(d().mark((function e(t,n){var r,i,a,o,s,u=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=_r(t),a=Fo(i,n),o=new Zo(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),vs.apply(this,arguments)}function gs(e){return ms.apply(this,arguments)}function ms(){return(ms=v(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=za("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ys=function(){function e(t){m(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return k(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bs(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!bs(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(an(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ks(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(ks(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function ks(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function bs(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function ws(e){return xs.apply(this,arguments)}function xs(){return xs=v(d().mark((function e(t){var n,r=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",In(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),xs.apply(this,arguments)}var _s=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Is=/^https?/;function Ss(){return Ss=v(d().mark((function e(t){var n,r,i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ws(t);case 4:n=e.sent,r=n.authorizedDomains,i=b(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Es(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:rn(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Ss.apply(this,arguments)}function Es(e){var t=vn(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Is.test(r))return!1;if(_s.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Cs=new yn(3e4,6e4);function Ts(){var e=Ha().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=u(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var As=null;function Ns(e){return As=As||function(e){return new Promise((function(t,n){var r,i,a;function o(){Ts(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Ts(),n(an(e,"network-request-failed"))},timeout:Cs.get()})}if(null===(i=null===(r=Ha().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Ha().gapi)||void 0===a?void 0:a.load)){var s=po("iframefcb");return Ha()[s]=function(){gapi.load?o():n(an(e,"network-request-failed"))},ho("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw As=null,e}))}(e),As}var Rs=new yn(5e3,15e3),Ds={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ls=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Os(e){var t=e.config;cn(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?kn(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:at},i=Ls.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(ne(r).slice(1))}function Ps(e){return Ms.apply(this,arguments)}function Ms(){return Ms=v(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ns(t);case 2:return n=e.sent,cn(r=Ha().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Os(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ds,dontclear:!0},(function(e){return new Promise(function(){var n=v(d().mark((function n(r,i){var a,o,s;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Ha().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=an(t,"network-request-failed"),o=Ha().setTimeout((function(){i(a)}),Rs.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Ms.apply(this,arguments)}var Fs={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},js="_blank",Us="http://localhost",Vs=function(){function e(t){m(this,e),this.window=t,this.associatedEvent=null}return k(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(jT){}}}]),e}();function Bs(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Fs),{width:r.toString(),height:i.toString(),top:a,left:o}),c=P().toLowerCase();n&&(s=fr(c)?js:n),cr(c)&&(t=t||Us,u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=f(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(mr(c)&&"_self"!==s)return zs(t||"",s),new Vs(null);var h=window.open(t||"",s,l);cn(h,e,"popup-blocked");try{h.focus()}catch(jT){}return new Vs(h)}function zs(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var qs="__/auth/handler",Hs="emulator/auth/handler";function Gs(e,t,n,r,i,a){cn(e.config.authDomain,e,"auth-domain-config-required"),cn(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:at,eventId:i};if(t instanceof li){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=f(u[s],2),l=c[0],h=c[1];o[l]=h}}if(t instanceof fi){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,g=Object.keys(p);v<g.length;v++){var m=g[v];void 0===p[m]&&delete p[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(qs);return kn(t,Hs)}(e),"?").concat(ne(p).slice(1))}var Ws="webStorageSupport",Ks=function(){function e(){m(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ua,this._completeRedirectFn=ps,this._overrideRedirectResult=rs}return k(e,[{key:"_openPopup",value:function(){var e=v(d().mark((function e(t,n,r,i){var a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fn(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Gs(t,n,r,vn(),i),e.abrupt("return",Bs(t,o,za()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=v(d().mark((function e(t,n,r,i){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Gs(t,n,r,vn(),i),Ha().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(fn(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=v(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ps(t);case 2:return n=e.sent,r=new ys(t),n.register("authEvent",(function(e){return cn(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Ws,{type:Ws},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),rn(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ss.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return kr()||lr()||gr()}}]),e}(),Qs=Ks,$s=function(){function e(t){m(this,e),this.factorId=t}return k(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ln("unexpected MultiFactorSessionType")}}}]),e}(),Ys=function(e){_(n,e);var t=C(n);function n(e){var r;return m(this,n),(r=t.call(this,"phone")).credential=e,r}return k(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return In(e,"POST","/v2/accounts/mfaEnrollment:finalize",_n(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return In(e,"POST","/v2/accounts/mfaSignIn:finalize",_n(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}($s),Xs=function(){function e(){m(this,e)}return k(e,null,[{key:"assertion",value:function(e){return Ys._fromCredential(e)}}]),e}();Xs.FACTOR_ID="phone";var Zs="@firebase/auth",Js="0.20.11",eu=function(){function e(t){m(this,e),this.auth=t,this.internalListeners=new Map}return k(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=v(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){cn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var tu,nu=W("authIdTokenMaxAge")||300,ru=null,iu=function(e){return function(){var t=v(d().mark((function t(n){var r,i,a;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=5;break}return t.next=4,n.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(r=t.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>nu)){t.next=9;break}return t.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,ru!==a){t.next=12;break}return t.abrupt("return");case 12:return ru=a,t.next=15,fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};function au(){return window}tu="Browser",Ze(new ce("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){cn(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),cn(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:tu,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:br(tu)},i=new xr(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(dn);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ze(new ce("auth-internal",(function(e){return function(e){return new eu(e)}(_r(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),ft(Zs,Js,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(tu)),ft(Zs,Js,"esm2017");function ou(e,t,n){return su.apply(this,arguments)}function su(){return su=v(d().mark((function e(t,n,r){var i,a,o,s,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=au(),o=a.BuildInfo,fn(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,du(n.sessionId);case 4:return s=e.sent,u={},gr()?u.ibi=o.packageName:dr()?u.apn=o.packageName:rn(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",Gs(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),su.apply(this,arguments)}function uu(){return uu=v(d().mark((function e(t){var n,r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=au(),r=n.BuildInfo,i={},gr()?i.iosBundleId=r.packageName:dr()?i.androidPackageName=r.packageName:rn(t,"operation-not-supported-in-this-environment"),e.next=5,ws(t,i);case 5:case"end":return e.stop()}}),e)}))),uu.apply(this,arguments)}function cu(e){var t=au().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function lu(e,t,n){return fu.apply(this,arguments)}function fu(){return fu=v(d().mark((function e(t,n,r){var i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=au(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(an(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),dr()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),fu.apply(this,arguments)}function hu(e){var t,n,r,i,a,o,s,u,c,l,f=au();cn("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),cn("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),cn("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),cn("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),cn("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function du(e){return pu.apply(this,arguments)}function pu(){return(pu=v(d().mark((function e(t){var n,r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vu(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vu(e){if(fn(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var gu=function(e){_(n,e);var t=C(n);function n(){var e;return m(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return k(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Ft(I(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=v(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ys);function mu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:xu(),postBody:null,tenantId:e.tenantId,error:an(e,"no-auth-event")}}function yu(e,t){return _u()._set(Iu(e),t)}function ku(e){return bu.apply(this,arguments)}function bu(){return bu=v(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_u()._get(Iu(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,_u()._remove(Iu(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),bu.apply(this,arguments)}function wu(e,t){var n,r,i=function(e){var t=Su(e),n=t.link?decodeURIComponent(t.link):void 0,r=Su(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Su(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Su(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(jT){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?an(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function xu(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function _u(){return dn(Fa)}function Iu(e){return or("authEvent",e.config.apiKey,e.name)}function Su(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=c(t=n)||o(t)||s(t)||l();r[0];return re(r.slice(1).join("?"))}var Eu=function(){function e(){m(this,e),this._redirectPersistence=Ua,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ps,this._overrideRedirectResult=rs}return k(e,[{key:"_initialize",value:function(){var e=v(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new gu(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){rn(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=v(d().mark((function e(t,n,r,i){var a,o,s,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hu(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Xo.clear(),e.next=10,this._originValidation(t);case 10:return o=mu(t,r,i),e.next=13,yu(t,o);case 13:return e.next=15,ou(t,o,n);case 15:return s=e.sent,e.next=18,cu(s);case 18:return u=e.sent,e.abrupt("return",lu(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return uu.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=au(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(v(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ku(e);case 2:t.onEvent(Tu());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=v(d().mark((function n(r){var i,a;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,ku(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=wu(i,r.url)),t.onEvent(a||Tu());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");au().handleOpenURL=function(){var e=v(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(jT){console.error(jT)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Cu=Eu;function Tu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:an("no-auth-event")}}function Au(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Nu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P();return!("file:"!==Au()&&"ionic:"!==Au()&&"capacitor:"!==Au()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ru(){return U()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Du(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P();return/Edge\/\d+/.test(e)}function Lu(){try{var e=self.localStorage,t=za();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P();return Ru()||Du(e)}()||V()}catch(jT){return Ou()&&V()}return!1}function Ou(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Pu(){return("http:"===Au()||"https:"===Au()||F()||Nu())&&!(j()||M())&&Lu()&&!Ou()}function Mu(){return Nu()&&"undefined"!==typeof document}function Fu(){return ju.apply(this,arguments)}function ju(){return(ju=v(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Mu()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Uu={LOCAL:"local",NONE:"none",SESSION:"session"},Vu=cn,Bu="persistence";function zu(e,t){Vu(Object.values(Uu).includes(t),e,"invalid-persistence-type"),j()?Vu(t!==Uu.SESSION,e,"unsupported-persistence-type"):M()?Vu(t===Uu.NONE,e,"unsupported-persistence-type"):Ou()?Vu(t===Uu.NONE||t===Uu.LOCAL&&V(),e,"unsupported-persistence-type"):Vu(t===Uu.NONE||Lu(),e,"unsupported-persistence-type")}function qu(e){return Hu.apply(this,arguments)}function Hu(){return Hu=v(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Gu(),r=or(Bu,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Hu.apply(this,arguments)}function Gu(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(jT){return null}}var Wu=cn,Ku=function(){function e(){m(this,e),this.browserResolver=dn(Qs),this.cordovaResolver=dn(Cu),this.underlyingResolver=null,this._redirectPersistence=Ua,this._completeRedirectFn=ps,this._overrideRedirectResult=rs}return k(e,[{key:"_initialize",value:function(){var e=v(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=v(d().mark((function e(t,n,r,i){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=v(d().mark((function e(t,n,r,i){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Mu()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Wu(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=v(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Fu();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Qu(e){return e.unwrap()}function $u(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new ec(e,function(e,t){var n,r=ue(e),i=t;return cn(t.customData.operationType,r,"argument-error"),cn(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Aa._fromError(r,i)}(e,t));else if(i){var a=Yu(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function Yu(e){var t=(e instanceof $?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof $)&&"temporaryProof"in t&&"phoneNumber"in t)return Mo.credentialFromResult(e);var n,r=t.providerId;if(!r||r===qt)return null;switch(r){case zt:n=pi;break;case Vt:n=di;break;case Bt:n=vi;break;case Ht:n=yi;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?gi._create(r,s):ei._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new hi(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof $?n.credentialFromError(e):n.credentialFromResult(e)}function Xu(e,t){return t.catch((function(t){throw t instanceof $&&$u(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Yu(t)),additionalUserInfo:Sa(e),user:tc.getOrCreate(r)}}))}function Zu(e,t){return Ju.apply(this,arguments)}function Ju(){return Ju=v(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Xu(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Ju.apply(this,arguments)}var ec=function(){function e(t,n){m(this,e),this.resolver=n,this.auth=t.wrapped()}return k(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Xu(Qu(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),tc=function(){function e(t){m(this,e),this._delegate=t,this.multiFactor=function(e){var t=ue(e);return La.has(t)||La.set(t,Da._fromUser(t)),La.get(t)}(t)}return k(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=v(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xu(this.auth,Ui(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=v(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zu(this.auth,No(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=v(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xu(this.auth,Qo(this._delegate,t,Ku)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=v(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qu(_r(this.auth));case 2:return e.abrupt("return",ls(this._delegate,t,Ku));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=v(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xu(this.auth,Bi(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Zu(this.auth,function(e,t,n){return Do.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Xu(this.auth,function(e,t,n){return Ko.apply(this,arguments)}(this._delegate,e,Ku))}},{key:"reauthenticateWithRedirect",value:function(){var e=v(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qu(_r(this.auth));case 2:return e.abrupt("return",us(this._delegate,t,Ku));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return la.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=v(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ci(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return ga(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return ma(ue(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Po.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return pa(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return fa.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();tc.USER_MAP=new WeakMap;var nc=cn,rc=function(){function e(t,n){if(m(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;nc(r,"invalid-api-key",{appName:t.name}),nc(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Ku:void 0;this._delegate=n.initialize({options:{persistence:ac(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Zt),this.linkUnderlyingAuth()}return k(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?tc.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Sr(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Zi.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Ji(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Xi.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=v(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xu(this._delegate,na(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return ca.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=ui.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=v(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nc(Pu(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,hs(this._delegate,Ku);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Xu(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){_r(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=ic(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=ic(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return aa.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return $i(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=v(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:zu(this._delegate,t),e.t0=t,e.next=e.t0===Uu.SESSION?4:e.t0===Uu.LOCAL?6:e.t0===Uu.NONE?11:13;break;case 4:return n=Ua,e.abrupt("break",14);case 6:return e.next=8,dn(uo)._isAvailable();case 8:return r=e.sent,n=r?uo:Fa,e.abrupt("break",14);case 11:return n=ar,e.abrupt("break",14);case 13:return e.abrupt("return",rn("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Xu(this._delegate,function(e){return _i.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Xu(this._delegate,Fi(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Xu(this._delegate,function(e,t){return Gi.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Xu(this._delegate,ia(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Xu(this._delegate,function(e,t,n){return oa.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Zu(this._delegate,function(e,t,n){return Ao.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=v(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nc(Pu(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Xu(this._delegate,Go(this._delegate,t,Ku)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=v(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nc(Pu(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,qu(this._delegate);case 3:return e.abrupt("return",os(this._delegate,t,Ku));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return ta.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function ic(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&tc.getOrCreate(e))},error:t,complete:n}}function ac(e,t){var n=function(e,t){var n=Gu();if(!n)return[];var r=or(Bu,e,t);switch(n.getItem(r)){case Uu.NONE:return[ar];case Uu.LOCAL:return[uo,Ua];case Uu.SESSION:return[Ua];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(uo)||n.push(uo),"undefined"!==typeof window)for(var r=0,i=[Fa,Ua];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(ar)||n.push(ar),n}rc.Persistence=Uu;var oc=function(){function e(){m(this,e),this.providerId="phone",this._delegate=new Mo(Qu(Pt.auth()))}return k(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Mo.credential(e,t)}}]),e}();oc.PHONE_SIGN_IN_METHOD=Mo.PHONE_SIGN_IN_METHOD,oc.PROVIDER_ID=Mo.PROVIDER_ID;var sc,uc=cn,cc=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pt.app();m(this,e),uc(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Eo(t,n,i.auth()),this.type=this._delegate.type}return k(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(sc=Pt).INTERNAL.registerComponent(new ce("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new rc(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Gt,PASSWORD_RESET:Wt,RECOVER_EMAIL:Kt,REVERT_SECOND_FACTOR_ADDITION:Qt,VERIFY_AND_CHANGE_EMAIL:$t,VERIFY_EMAIL:Yt}},EmailAuthProvider:ci,FacebookAuthProvider:di,GithubAuthProvider:vi,GoogleAuthProvider:pi,OAuthProvider:hi,SAMLAuthProvider:mi,PhoneAuthProvider:oc,PhoneMultiFactorGenerator:Xs,RecaptchaVerifier:cc,TwitterAuthProvider:yi,Auth:rc,AuthCredential:Tr,Error:$}).setInstantiationMode("LAZY").setMultipleInstances(!1)),sc.registerVersion("@firebase/auth-compat","0.2.24");Pt.initializeApp({apiKey:"AIzaSyDd1OJnvYKP6Bs05qqtOzm1L_3QSxA5J9w",authDomain:"chatflix-6ebaf.firebaseapp.com",projectId:"chatflix-6ebaf",storageBucket:"chatflix-6ebaf.appspot.com",messagingSenderId:"382598738818",appId:"1:382598738818:web:d4aef2083787dc2514559b"});var lc=Pt,fc=function(){var e=v(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=lc.firestore(),r=n.collection("users"),e.next=5,r.doc(t.uid).get();case 5:if(e.sent.exists){e.next=11;break}return e.next=9,r.doc(t.uid).set({displayName:t.displayName,email:t.email,photoURL:t.photoURL,aboutMe:"",title:""});case 9:e.next=12;break;case 11:console.log("User document already exists in Firestore.");case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error("Error adding user to Firestore:",e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),hc=function(){var e=v(d().mark((function e(t){var n,r,i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=lc.firestore(),r=n.collection("users"),e.next=5,r.doc(t).get();case 5:if(!(i=e.sent).exists){e.next=11;break}return a=i.data(),e.abrupt("return",a);case 11:return console.log("User document not found."),e.abrupt("return",null);case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(0),console.error("Error fetching user data from Firestore:",e.t0),e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),dc=function(){var e=v(d().mark((function e(t,n){var r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=lc.firestore(),i=r.collection("users"),e.next=5,i.doc(t).update(n);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error updating user data in Firestore:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),pc=function(){var e=v(d().mark((function e(t,n){var r,i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=lc.auth().currentUser){e.next=3;break}return e.abrupt("return");case 3:return i=r.uid,a=lc.firestore(),o=a.collection("users").doc(i),e.prev=6,e.next=9,o.update({activeChatsBottom:t,activeChatsRight:n});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),console.error("Error updating user document:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[6,11]])})));return function(t,n){return e.apply(this,arguments)}}(),vc=function(){var e=v(d().mark((function e(){var t,n,r,i,a,o,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=lc.auth(),n=t.currentUser,r=n.uid,i=lc.firestore(),a=i.collection("users").doc(r),e.prev=5,e.next=8,a.get();case 8:if(!(o=e.sent).exists){e.next=14;break}return s=o.data(),e.abrupt("return",{activeChatsBottom:s.activeChatsBottom||[],activeChatsRight:s.activeChatsRight||[]});case 14:return console.error("User document does not exist"),e.abrupt("return",{activeChatsBottom:[],activeChatsRight:[]});case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(5),console.error("Error getting user document:",e.t0),e.abrupt("return",{activeChatsBottom:[],activeChatsRight:[]});case 22:case"end":return e.stop()}}),e,null,[[5,18]])})));return function(){return e.apply(this,arguments)}}(),gc=n(184),mc=t.createContext(),yc=function(e){var n=e.children,r=f((0,t.useState)(null),2),i=r[0],a=r[1];return(0,t.useEffect)((function(){lc.auth().onAuthStateChanged(a)}),[]),(0,gc.jsx)(mc.Provider,{value:{user:i},children:n})};function kc(){return{width:window.innerWidth}}var bc=function(){var e=f((0,t.useState)(kc()),2),n=e[0],r=e[1];return(0,t.useEffect)((function(){function e(){r(kc())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n},wc=(0,t.createContext)(),xc=function(){return(0,t.useContext)(wc)},_c=function(e){var n=e.children,r=f((0,t.useState)([]),2),i=r[0],a=r[1],o=f((0,t.useState)([]),2),s=o[0],c=o[1],l=f((0,t.useState)(null),2),h=l[0],d=l[1],p=f((0,t.useState)(null),2),v=p[0],g=p[1],m=(0,t.useContext)(mc).user,y=bc().width;return(0,t.useEffect)((function(){pc(i,s)}),[i,s]),(0,t.useEffect)((function(){0===(null===i||void 0===i?void 0:i.length)&&0===s.length&&d(null)}),[i,s]),(0,t.useEffect)((function(){m&&vc().then((function(e){var t=e.activeChatsBottom,n=e.activeChatsRight;a(t),c(n)}))}),[m]),(0,gc.jsx)(wc.Provider,{value:{activeChatsBottom:i,activeChatsRight:s,fullScreenChat:h,showMessages:v,selectChatHandler:function(e){var t=i.findIndex((function(t){return(null===t||void 0===t?void 0:t.id)===e.id})),n=s.findIndex((function(t){return(null===t||void 0===t?void 0:t.id)===e.id})),r=u(i),o=t>=0||n>=0,l=y<"800"?1:y<"1150"?2:3;if(!o&&r.length<=l&&a((function(t){return[e].concat(u(t))})),!o&&r.length>=l){var f=r[l-1];c((function(e){return[].concat(u(e),[f])})),a([e].concat(u(r.filter((function(e){return(null===e||void 0===e?void 0:e.id)!==(null===f||void 0===f?void 0:f.id)})))))}if(n>=0&&i.length<=l&&(c(s.filter((function(t){return t.id!==e.id}))),a((function(t){return[e].concat(u(t))}))),n>=0&&t<0&&i.length>=l){var h=r[l-1];c((function(t){return[].concat(u(t.filter((function(t){return(null===t||void 0===t?void 0:t.id)!==e.id}))),[h])})),a([e].concat(u(r.filter((function(e){return e.id!==h.id})))))}g({name:e.name})},closeChatHandler:function(e){var t=[].concat(u(i),u(s)),n=t[0].id===e;e===(null===h||void 0===h?void 0:h.id)&&d(n?t[1]:t[0]),a(i.filter((function(t){return(null===t||void 0===t?void 0:t.id)!==e}))),c(s.filter((function(t){return(null===t||void 0===t?void 0:t.id)!==e})))},toggleFullScreenHandler:function(e){if(h)d(null);else{var t=i.find((function(t){return t.id===e}))||s.find((function(t){return t.id===e}));d(t)}},setFullScreenChat:d},children:n})},Ic="firebasestorage.googleapis.com",Sc=function(e){_(n,e);var t=C(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return m(this,n),(i=t.call(this,Ec(e),"Firebase Storage: ".concat(r," (").concat(Ec(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(w(i),n.prototype),i}return k(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return Ec(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}($);function Ec(e){return"storage/"+e}function Cc(){return new Sc("unknown","An unknown error occurred, please check the error payload for server response.")}function Tc(){return new Sc("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Ac(){return new Sc("canceled","User canceled the upload/download.")}function Nc(){return new Sc("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Rc(e){return new Sc("invalid-argument",e)}function Dc(){return new Sc("app-deleted","The Firebase app was deleted.")}function Lc(e,t){return new Sc("invalid-format","String does not match format '"+e+"': "+t)}function Oc(e){throw new Sc("internal-error","Internal error: "+e)}var Pc,Mc=function(){function e(t,n){m(this,e),this.bucket=t,this.path_=n}return k(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(jT){return new e(t,"")}if(""===r.path)return r;throw new Sc("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===Ic?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new Sc("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),Fc=function(){function e(t){m(this,e),this.promise_=Promise.reject(t)}return k(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function jc(e){return"string"===typeof e||e instanceof String}function Uc(e){return Vc()&&e instanceof Blob}function Vc(){return"undefined"!==typeof Blob&&!M()}function Bc(e,t,n,r){if(r<t)throw Rc("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Rc("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function zc(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function qc(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function Hc(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Pc||(Pc={}));var Gc=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this,d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];m(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return k(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(jT){i(jT)}else if(null!==a){var s=Cc();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?Dc():Ac());else i(Tc())}};this.canceled_?t(0,new Wc(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new Wc(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Pc.NO_ERROR,a=r.getStatus();if(n&&!Hc(a,e.additionalRetryCodes_)||!e.retry){var o=-1!==e.successCodes_.indexOf(a);t(!0,new Wc(o,r))}else{var s=r.getErrorCode()===Pc.ABORT;t(!1,new Wc(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),Wc=k((function e(t,n,r){m(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function Kc(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}function Qc(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}function $c(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Yc(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}function Xc(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=qc(e.urlParams),u=e.url+s,c=Object.assign({},e.headers);return $c(c,t),Kc(c,n),Qc(c,a),Yc(c,r),new Gc(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}function Zc(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Jc(){for(var e=Zc(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(Vc())return new Blob(n);throw new Sc("unsupported-environment","This browser doesn't seem to support creating Blobs")}var el="raw",tl="base64",nl="base64url",rl="data_url",il=k((function e(t,n){m(this,e),this.data=t,this.contentType=n||null}));function al(e,t){switch(e){case el:return new il(ol(t));case tl:case nl:return new il(sl(e,t));case rl:return new il(function(e){var t=new ul(e);return t.base64?sl(tl,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(jT){throw Lc(rl,"Malformed data URL.")}return ol(t)}(t.rest)}(t),new ul(t).contentType)}throw Cc()}function ol(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function sl(e,t){switch(e){case tl:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Lc(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case nl:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw Lc(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(jT){throw Lc(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var ul=k((function e(t){m(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw Lc(rl,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var cl=function(){function e(t,n){m(this,e);var r=0,i="";Uc(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return k(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(Uc(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(Vc()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(Jc.apply(null,i))}var a=n.map((function(e){return jc(e)?al(el,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function ll(e){var t;try{t=JSON.parse(e)}catch(jT){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function fl(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function hl(e,t){return t}var dl=k((function e(t,n,r,i){m(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||hl})),pl=null;function vl(){if(pl)return pl;var e=[];e.push(new dl("bucket")),e.push(new dl("generation")),e.push(new dl("metageneration")),e.push(new dl("name","fullPath",!0));var t=new dl("name");t.xform=function(e,t){return function(e){return!jc(e)||e.length<2?e:fl(e)}(t)},e.push(t);var n=new dl("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new dl("timeCreated")),e.push(new dl("updated")),e.push(new dl("md5Hash",null,!0)),e.push(new dl("cacheControl",null,!0)),e.push(new dl("contentDisposition",null,!0)),e.push(new dl("contentEncoding",null,!0)),e.push(new dl("contentLanguage",null,!0)),e.push(new dl("contentType",null,!0)),e.push(new dl("metadata","customMetadata",!0)),pl=e}function gl(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Mc(n,r);return t._makeStorageReference(i)}})}(r,e),r}function ml(e,t,n){var r=ll(t);return null===r?null:gl(e,r,n)}function yl(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var kl=k((function e(t,n,r,i){m(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function bl(e){if(!e)throw Cc()}function wl(e,t){return function(n,r){var i=ml(e,r,t);return bl(null!==i),i}}function xl(e,t){return function(n,r){var i=ml(e,r,t);return bl(null!==i),function(e,t,n,r){var i=ll(t);if(null===i)return null;if(!jc(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return zc("/b/"+o(i)+"/o/"+o(a),n,r)+qc({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function _l(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Sc("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Sc("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new Sc("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Sc("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Il(e){var t=_l(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new Sc("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function Sl(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function El(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=Sl(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+yl(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=cl.getBlob(c,r,l);if(null===f)throw Nc();var h={name:u.fullPath},d=zc(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new kl(d,"POST",wl(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=_l(t),v}var Cl=function(){function e(){var t=this;m(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Pc.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Pc.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Pc.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return k(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw Oc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw Oc("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw Oc("cannot .getStatus() before sending");try{return this.xhr_.status}catch(jT){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw Oc("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw Oc("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),Tl=function(e){_(n,e);var t=C(n);function n(){return m(this,n),t.apply(this,arguments)}return k(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(Cl);function Al(){return new Tl}var Nl=function(){function e(t,n){m(this,e),this._service=t,this._location=n instanceof Mc?n:Mc.makeFromUrl(n,t.host)}return k(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new Mc(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return fl(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Mc(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new Sc("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function Rl(e,t,n){e._throwIfRoot("uploadBytes");var r=El(e.storage,e._location,vl(),new cl(t,!0),n);return e.storage.makeRequestWithTokens(r,Al).then((function(t){return{metadata:t,ref:e}}))}function Dl(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=zc(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new kl(r,"GET",xl(e,n),i);return a.errorHandler=Il(t),a}(e.storage,e._location,vl());return e.storage.makeRequestWithTokens(t,Al).then((function(e){if(null===e)throw new Sc("no-download-url","The given file does not have any download URLs.");return e}))}function Ll(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Mc(e._location.bucket,n);return new Nl(e.storage,r)}function Ol(e,t){if(e instanceof jl){var n=e;if(null==n._bucket)throw new Sc("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Nl(n,n._bucket);return null!=t?Ol(r,t):r}return void 0!==t?Ll(e,t):e}function Pl(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof jl)return new Nl(e,t);throw Rc("To use ref(service, url), the first argument must be a Storage instance.")}return Ol(e,t)}function Ml(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:Mc.makeFromBucketSpec(n,e)}function Fl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Q(i,e.app.options.projectId))}var jl=function(){function e(t,n,r,i,a){m(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=Ic,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Mc.makeFromBucketSpec(i,this._host):Ml(this._host,this.app.options)}return k(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Mc.makeFromBucketSpec(this._url,e):this._bucket=Ml(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){Bc("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){Bc("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=v(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=v(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new Nl(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Fc(Dc());var o=Xc(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=v(d().mark((function e(t,n){var r,i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=f(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Ul="@firebase/storage",Vl="0.9.13",Bl="storage";function zl(e,t,n){return Rl(e=ue(e),t,n)}function ql(e){return Dl(e=ue(e))}function Hl(e,t){return Pl(e=ue(e),t)}function Gl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st(),t=arguments.length>1?arguments[1]:void 0,n=Je(e=ue(e),Bl),r=n.getImmediate({identifier:t}),i=H("storage");return i&&Wl.apply(void 0,[r].concat(u(i))),r}function Wl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Fl(e,t,n,r)}function Kl(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new jl(r,i,a,n,at)}function Ql(){return Ql=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ql.apply(this,arguments)}Ze(new ce(Bl,Kl,"PUBLIC").setMultipleInstances(!0)),ft(Ul,Vl,""),ft(Ul,Vl,"esm2017");var $l,Yl=function(e,r){void 0===r&&(r={});var i=r,a=i.volume,o=void 0===a?1:a,s=i.playbackRate,u=void 0===s?1:s,c=i.soundEnabled,l=void 0===c||c,f=i.interrupt,h=void 0!==f&&f,d=i.onload,p=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(i,["id","volume","playbackRate","soundEnabled","interrupt","onload"]),v=t.useRef(null),g=t.useRef(!1),m=t.useState(null),y=m[0],k=m[1],b=t.useState(null),w=b[0],x=b[1],_=function(){"function"===typeof d&&d.call(this),g.current&&k(1e3*this.duration()),x(this)};!function(e){(0,t.useEffect)(e,[])}((function(){return n.e(845).then(n.t.bind(n,845,23)).then((function(t){var n;g.current||(v.current=null!==(n=t.Howl)&&void 0!==n?n:t.default.Howl,g.current=!0,new v.current(Ql({src:Array.isArray(e)?e:[e],volume:o,rate:u,onload:_},p)))})),function(){g.current=!1}})),t.useEffect((function(){v.current&&w&&x(new v.current(Ql({src:Array.isArray(e)?e:[e],volume:o,onload:_},p)))}),[JSON.stringify(e)]),t.useEffect((function(){w&&(w.volume(o),w.rate(u))}),[o,u]);var I=t.useCallback((function(e){"undefined"===typeof e&&(e={}),w&&(l||e.forceSoundEnabled)&&(h&&w.stop(),e.playbackRate&&w.rate(e.playbackRate),w.play(e.id))}),[w,l,h]),S=t.useCallback((function(e){w&&w.stop(e)}),[w]),E=t.useCallback((function(e){w&&w.pause(e)}),[w]);return[I,{sound:w,stop:S,pause:E,duration:y}]},Xl=n.p+"static/media/notification-sound.d73a48979f61f8154e1c.mp3",Zl="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Jl={},ef=ef||{},tf=Zl||self;function nf(){}function rf(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function af(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var of="closure_uid_"+(1e9*Math.random()>>>0),sf=0;function uf(e,t,n){return e.call.apply(e.bind,arguments)}function cf(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function lf(e,t,n){return(lf=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?uf:cf).apply(null,arguments)}function ff(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function hf(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function df(){this.s=this.s,this.o=this.o}df.prototype.s=!1,df.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,of)&&e[of]||(e[of]=++sf))},df.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var pf=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function vf(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function gf(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(rf(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function mf(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}mf.prototype.h=function(){this.defaultPrevented=!0};var yf=function(){if(!tf.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{tf.addEventListener("test",nf,t),tf.removeEventListener("test",nf,t)}catch(n){}return e}();function kf(e){return/^[\s\xa0]*$/.test(e)}var bf=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function wf(e,t){return e<t?-1:e>t?1:0}function xf(){var e=tf.navigator;return e&&(e=e.userAgent)?e:""}function _f(e){return-1!=xf().indexOf(e)}function If(e){return If[" "](e),e}If[" "]=nf;var Sf,Ef=_f("Opera"),Cf=_f("Trident")||_f("MSIE"),Tf=_f("Edge"),Af=Tf||Cf,Nf=_f("Gecko")&&!(-1!=xf().toLowerCase().indexOf("webkit")&&!_f("Edge"))&&!(_f("Trident")||_f("MSIE"))&&!_f("Edge"),Rf=-1!=xf().toLowerCase().indexOf("webkit")&&!_f("Edge");function Df(){var e=tf.document;return e?e.documentMode:void 0}e:{var Lf="",Of=function(){var e=xf();return Nf?/rv:([^\);]+)(\)|;)/.exec(e):Tf?/Edge\/([\d\.]+)/.exec(e):Cf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Rf?/WebKit\/(\S+)/.exec(e):Ef?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Of&&(Lf=Of?Of[1]:""),Cf){var Pf=Df();if(null!=Pf&&Pf>parseFloat(Lf)){Sf=String(Pf);break e}}Sf=Lf}var Mf,Ff={};function jf(){return function(e){var t=Ff;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=bf(String(Sf)).split("."),n=bf("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=wf(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||wf(0==a[2].length,0==o[2].length)||wf(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(tf.document&&Cf){var Uf=Df();Mf=Uf||(parseInt(Sf,10)||void 0)}else Mf=void 0;var Vf=Mf;function Bf(e,t){if(mf.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Nf){e:{try{If(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:zf[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Bf.X.h.call(this)}}hf(Bf,mf);var zf={2:"touch",3:"pen",4:"mouse"};Bf.prototype.h=function(){Bf.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var qf="closure_listenable_"+(1e6*Math.random()|0),Hf=0;function Gf(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Hf,this.ba=this.ea=!1}function Wf(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Kf(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Qf(e){var t={};for(var n in e)t[n]=e[n];return t}var $f="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Yf(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<$f.length;a++)n=$f[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Xf(e){this.src=e,this.g={},this.h=0}function Zf(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=pf(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Wf(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Jf(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}Xf.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Jf(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new Gf(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var eh="closure_lm_"+(1e6*Math.random()|0),th={};function nh(e,t,n,r,i){if(r&&r.once)return ih(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)nh(e,t[a],n,r,i);return null}return n=fh(n),e&&e[qf]?e.N(t,n,af(r)?!!r.capture:!!r,i):rh(e,t,n,!1,r,i)}function rh(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=af(i)?!!i.capture:!!i,s=ch(e);if(s||(e[eh]=s=new Xf(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=uh;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)yf||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(sh(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ih(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ih(e,t[a],n,r,i);return null}return n=fh(n),e&&e[qf]?e.O(t,n,af(r)?!!r.capture:!!r,i):rh(e,t,n,!0,r,i)}function ah(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ah(e,t[a],n,r,i);else r=af(r)?!!r.capture:!!r,n=fh(n),e&&e[qf]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Jf(a=e.g[t],n,r,i))&&(Wf(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ch(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Jf(t,n,r,i)),(n=-1<e?t[e]:null)&&oh(n))}function oh(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[qf])Zf(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(sh(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ch(t))?(Zf(n,e),0==n.h&&(n.src=null,t[eh]=null)):Wf(e)}}}function sh(e){return e in th?th[e]:th[e]="on"+e}function uh(e,t){if(e.ba)e=!0;else{t=new Bf(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&oh(e),e=n.call(r,t)}return e}function ch(e){return(e=e[eh])instanceof Xf?e:null}var lh="__closure_events_fn_"+(1e9*Math.random()>>>0);function fh(e){return"function"===typeof e?e:(e[lh]||(e[lh]=function(t){return e.handleEvent(t)}),e[lh])}function hh(){df.call(this),this.i=new Xf(this),this.P=this,this.I=null}function dh(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new mf(t,e);else if(t instanceof mf)t.target=t.target||e;else{var i=t;Yf(t=new mf(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ph(o,r,!0,t)&&i}if(i=ph(o=t.g=e,r,!0,t)&&i,i=ph(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ph(o=t.g=n[a],r,!1,t)&&i}function ph(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var s=o.listener,u=o.ha||o.src;o.ea&&Zf(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}hf(hh,df),hh.prototype[qf]=!0,hh.prototype.removeEventListener=function(e,t,n,r){ah(this,e,t,n,r)},hh.prototype.M=function(){if(hh.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Wf(n[r]);delete t.g[e],t.h--}}this.I=null},hh.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},hh.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var vh=tf.JSON.stringify;function gh(){var e=Ih,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var mh,yh=function(){function e(){m(this,e),this.h=this.g=null}return k(e,[{key:"add",value:function(e,t){var n=kh.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),kh=new(function(){function e(t,n){m(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return k(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new bh}),(function(e){return e.reset()})),bh=function(){function e(){m(this,e),this.next=this.g=this.h=null}return k(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function wh(e){tf.setTimeout((function(){throw e}),0)}function xh(e,t){mh||function(){var e=tf.Promise.resolve(void 0);mh=function(){e.then(Sh)}}(),_h||(mh(),_h=!0),Ih.add(e,t)}var _h=!1,Ih=new yh;function Sh(){for(var e;e=gh();){try{e.h.call(e.g)}catch(n){wh(n)}var t=kh;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}_h=!1}function Eh(e,t){hh.call(this),this.h=e||1,this.g=t||tf,this.j=lf(this.lb,this),this.l=Date.now()}function Ch(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Th(e,t,n){if("function"===typeof e)n&&(e=lf(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=lf(e.handleEvent,e)}return 2147483647<Number(t)?-1:tf.setTimeout(e,t||0)}function Ah(e){e.g=Th((function(){e.g=null,e.i&&(e.i=!1,Ah(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}hf(Eh,hh),($l=Eh.prototype).ca=!1,$l.R=null,$l.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),dh(this,"tick"),this.ca&&(Ch(this),this.start()))}},$l.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$l.M=function(){Eh.X.M.call(this),Ch(this),delete this.g};var Nh=function(e){_(n,e);var t=C(n);function n(e,r){var i;return m(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return k(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Ah(this)}},{key:"M",value:function(){Ft(I(n.prototype),"M",this).call(this),this.g&&(tf.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(df);function Rh(e){df.call(this),this.h=e,this.g={}}hf(Rh,df);var Dh=[];function Lh(e,t,n,r){Array.isArray(n)||(n&&(Dh[0]=n.toString()),n=Dh);for(var i=0;i<n.length;i++){var a=nh(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Oh(e){Kf(e.g,(function(e,t){this.g.hasOwnProperty(t)&&oh(e)}),e),e.g={}}function Ph(){this.g=!0}function Mh(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return vh(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Rh.prototype.M=function(){Rh.X.M.call(this),Oh(this)},Rh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ph.prototype.Aa=function(){this.g=!1},Ph.prototype.info=function(){};var Fh={},jh=null;function Uh(){return jh=jh||new hh}function Vh(e){mf.call(this,Fh.Pa,e)}function Bh(e){var t=Uh();dh(t,new Vh(t))}function zh(e,t){mf.call(this,Fh.STAT_EVENT,e),this.stat=t}function qh(e){var t=Uh();dh(t,new zh(t,e))}function Hh(e,t){mf.call(this,Fh.Qa,e),this.size=t}function Gh(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return tf.setTimeout((function(){e()}),t)}Fh.Pa="serverreachability",hf(Vh,mf),Fh.STAT_EVENT="statevent",hf(zh,mf),Fh.Qa="timingevent",hf(Hh,mf);var Wh={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Kh={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Qh(){}function $h(e){return e.h||(e.h=e.i())}function Yh(){}Qh.prototype.h=null;var Xh,Zh={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Jh(){mf.call(this,"d")}function ed(){mf.call(this,"c")}function td(){}function nd(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Rh(this),this.O=id,e=Af?125:void 0,this.T=new Eh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new rd}function rd(){this.i=null,this.g="",this.h=!1}hf(Jh,mf),hf(ed,mf),hf(td,Qh),td.prototype.g=function(){return new XMLHttpRequest},td.prototype.i=function(){return{}},Xh=new td;var id=45e3,ad={},od={};function sd(e,t,n){e.K=1,e.v=Ed(wd(t)),e.s=n,e.P=!0,ud(e,null)}function ud(e,t){e.F=Date.now(),hd(e),e.A=wd(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Ud(n.i,"t",r),e.C=0,n=e.l.H,e.h=new rd,e.g=Vp(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Nh(lf(e.La,e,e.g),e.N)),Lh(e.S,e.g,"readystatechange",e.ib),t=e.H?Qf(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Bh(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function cd(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function ld(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=fd(e,n))==od){4==t&&(e.o=4,qh(14),i=!1),Mh(e.j,e.m,null,"[Incomplete Response]");break}if(r==ad){e.o=4,qh(15),Mh(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Mh(e.j,e.m,r,null),md(e,r)}cd(e)&&r!=od&&r!=ad&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,qh(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Dp(t),t.K=!0,qh(11))):(Mh(e.j,e.m,n,"[Invalid Chunked Response]"),gd(e),vd(e))}function fd(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?od:(n=Number(t.substring(n,r)),isNaN(n)?ad:(r+=1)+n>t.length?od:(t=t.substr(r,n),e.C=r+n,t))}function hd(e){e.V=Date.now()+e.O,dd(e,e.O)}function dd(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Gh(lf(e.gb,e),t)}function pd(e){e.B&&(tf.clearTimeout(e.B),e.B=null)}function vd(e){0==e.l.G||e.I||Pp(e.l,e)}function gd(e){pd(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ch(e.T),Oh(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function md(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Kd(n.h,e)))if(!e.J&&Kd(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Op(n),Ip(n)}Rp(n),qh(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Gh(lf(n.cb,n),6e3));if(1>=Wd(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Fp(n,11)}else if((e.J||n.g==e)&&Op(n),!kf(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var s=a[4];null!=s&&(n.Ca=s,n.j.info("SVER="+n.Ca));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Qd(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Sd(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=Up(r,r.H?r.ka:null,r.V),d.J){$d(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(pd(p),hd(p)),r.g=d}else Np(r);0<n.i.length&&Ep(n)}else"stop"!=a[0]&&"close"!=a[0]||Fp(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Fp(n,7):_p(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Bh()}catch(a){}}function yd(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(rf(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(rf(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(rf(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}($l=nd.prototype).setTimeout=function(e){this.O=e},$l.ib=function(e){e=e.target;var t=this.L;t&&3==mp(e)?t.l():this.La(e)},$l.La=function(e){try{if(e==this.g)e:{var t=mp(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Af||this.g&&(this.h.h||this.g.fa()||yp(this.g)))){this.I||4!=t||7==n||Bh(),pd(this);var r=this.g.aa();this.Y=r;t:if(cd(this)){var i=yp(this.g);e="";var a=i.length,o=4==mp(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){gd(this),vd(this);var s="";break t}this.h.i=new tf.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!kf(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,qh(12),gd(this),vd(this);break e}Mh(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,md(this,r)}this.P?(ld(this,t,s),Af&&this.i&&3==t&&(Lh(this.S,this.T,"tick",this.hb),this.T.start())):(Mh(this.j,this.m,s,null),md(this,s)),4==t&&gd(this),this.i&&!this.I&&(4==t?Pp(this.l,this):(this.i=!1,hd(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,qh(12)):(this.o=0,qh(13)),gd(this),vd(this)}}}catch(t){}},$l.hb=function(){if(this.g){var e=mp(this.g),t=this.g.fa();this.C<t.length&&(pd(this),ld(this,e,t),this.i&&4!=e&&hd(this))}},$l.cancel=function(){this.I=!0,gd(this)},$l.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Bh(),qh(17)),gd(this),this.o=2,vd(this)):dd(this,this.V-e)};var kd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bd(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof bd){this.h=void 0!==t?t:e.h,xd(this,e.j),this.s=e.s,this.g=e.g,_d(this,e.m),this.l=e.l,t=e.i;var n=new Pd;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Id(this,n),this.o=e.o}else e&&(n=String(e).match(kd))?(this.h=!!t,xd(this,n[1]||"",!0),this.s=Cd(n[2]||""),this.g=Cd(n[3]||"",!0),_d(this,n[4]),this.l=Cd(n[5]||"",!0),Id(this,n[6]||"",!0),this.o=Cd(n[7]||"")):(this.h=!!t,this.i=new Pd(null,this.h))}function wd(e){return new bd(e)}function xd(e,t,n){e.j=n?Cd(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function _d(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Id(e,t,n){t instanceof Pd?(e.i=t,function(e,t){t&&!e.j&&(Md(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Fd(this,t),Ud(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Td(t,Ld)),e.i=new Pd(t,e.h))}function Sd(e,t,n){e.i.set(t,n)}function Ed(e){return Sd(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Cd(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Td(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ad),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ad(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}bd.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Td(t,Nd,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Td(t,Nd,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Td(n,"/"==n.charAt(0)?Dd:Rd,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Td(n,Od)),e.join("")};var Nd=/[#\/\?@]/g,Rd=/[#\?:]/g,Dd=/[#\?]/g,Ld=/[#\?@]/g,Od=/#/g;function Pd(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Md(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Fd(e,t){Md(e),t=Vd(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function jd(e,t){return Md(e),t=Vd(e,t),e.g.has(t)}function Ud(e,t,n){Fd(e,t),0<n.length&&(e.i=null,e.g.set(Vd(e,t),vf(n)),e.h+=n.length)}function Vd(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}($l=Pd.prototype).add=function(e,t){Md(this),this.i=null,e=Vd(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},$l.forEach=function(e,t){Md(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},$l.oa=function(){Md(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},$l.W=function(e){Md(this);var t=[];if("string"===typeof e)jd(this,e)&&(t=t.concat(this.g.get(Vd(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},$l.set=function(e,t){return Md(this),this.i=null,jd(this,e=Vd(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},$l.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},$l.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Bd=k((function e(t,n){m(this,e),this.h=t,this.g=n}));function zd(e){this.l=e||Hd,tf.PerformanceNavigationTiming?e=0<(e=tf.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(tf.g&&tf.g.Ga&&tf.g.Ga()&&tf.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var qd,Hd=10;function Gd(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Wd(e){return e.h?1:e.g?e.g.size:0}function Kd(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Qd(e,t){e.g?e.g.add(t):e.h=t}function $d(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Yd(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=b(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return vf(e.i)}function Xd(){}function Zd(){this.g=new Xd}function Jd(e,t,n){var r=n||"";try{yd(e,(function(e,n){var i=e;af(e)&&(i=vh(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(jT){throw t.push(r+"type="+encodeURIComponent("_badmap")),jT}}function ep(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function tp(e){this.l=e.ac||null,this.j=e.jb||!1}function np(e,t){hh.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=rp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}zd.prototype.cancel=function(){if(this.i=Yd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=b(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Xd.prototype.stringify=function(e){return tf.JSON.stringify(e,void 0)},Xd.prototype.parse=function(e){return tf.JSON.parse(e,void 0)},hf(tp,Qh),tp.prototype.g=function(){return new np(this.l,this.j)},tp.prototype.i=(qd={},function(){return qd}),hf(np,hh);var rp=0;function ip(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function ap(e){e.readyState=4,e.l=null,e.j=null,e.A=null,op(e)}function op(e){e.onreadystatechange&&e.onreadystatechange.call(e)}($l=np.prototype).open=function(e,t){if(this.readyState!=rp)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,op(this)},$l.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||tf).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},$l.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ap(this)),this.readyState=rp},$l.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,op(this)),this.g&&(this.readyState=3,op(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof tf.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ip(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},$l.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ap(this):op(this),3==this.readyState&&ip(this)}},$l.Va=function(e){this.g&&(this.response=this.responseText=e,ap(this))},$l.Ua=function(e){this.g&&(this.response=e,ap(this))},$l.ga=function(){this.g&&ap(this)},$l.setRequestHeader=function(e,t){this.v.append(e,t)},$l.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},$l.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(np.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var sp=tf.JSON.parse;function up(e){hh.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=cp,this.K=this.L=!1}hf(up,hh);var cp="",lp=/^https?$/i,fp=["POST","PUT"];function hp(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,dp(e),vp(e)}function dp(e){e.D||(e.D=!0,dh(e,"complete"),dh(e,"error"))}function pp(e){if(e.h&&"undefined"!=typeof ef&&(!e.C[1]||4!=mp(e)||2!=e.aa()))if(e.v&&4==mp(e))Th(e.Ha,0,e);else if(dh(e,"readystatechange"),4==mp(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(kd)[1]||null;if(!a&&tf.self&&tf.self.location){var o=tf.self.location.protocol;a=o.substr(0,o.length-1)}i=!lp.test(a?a.toLowerCase():"")}t=i}if(t)dh(e,"complete"),dh(e,"success");else{e.m=6;try{var s=2<mp(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.aa()+"]",dp(e)}}finally{vp(e)}}}function vp(e,t){if(e.g){gp(e);var n=e.g,r=e.C[0]?nf:null;e.g=null,e.C=null,t||dh(e,"ready");try{n.onreadystatechange=r}catch(jT){}}}function gp(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(tf.clearTimeout(e.A),e.A=null)}function mp(e){return e.g?e.g.readyState:0}function yp(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case cp:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(nv){return null}}function kp(e){var t="";return Kf(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function bp(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=kp(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Sd(e,t,n))}function wp(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function xp(e){this.Ca=0,this.i=[],this.j=new Ph,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=wp("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=wp("baseRetryDelayMs",5e3,e),this.bb=wp("retryDelaySeedMs",1e4,e),this.$a=wp("forwardChannelMaxRetries",2,e),this.ta=wp("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new zd(e&&e.concurrentRequestLimit),this.Fa=new Zd,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function _p(e){if(Sp(e),3==e.G){var t=e.U++,n=wd(e.F);Sd(n,"SID",e.I),Sd(n,"RID",t),Sd(n,"TYPE","terminate"),Tp(e,n),(t=new nd(e,e.j,t,void 0)).K=2,t.v=Ed(wd(n)),n=!1,tf.navigator&&tf.navigator.sendBeacon&&(n=tf.navigator.sendBeacon(t.v.toString(),"")),!n&&tf.Image&&((new Image).src=t.v,n=!0),n||(t.g=Vp(t.l,null),t.g.da(t.v)),t.F=Date.now(),hd(t)}jp(e)}function Ip(e){e.g&&(Dp(e),e.g.cancel(),e.g=null)}function Sp(e){Ip(e),e.u&&(tf.clearTimeout(e.u),e.u=null),Op(e),e.h.cancel(),e.m&&("number"===typeof e.m&&tf.clearTimeout(e.m),e.m=null)}function Ep(e){Gd(e.h)||e.m||(e.m=!0,xh(e.Ja,e),e.C=0)}function Cp(e,t){var n;n=t?t.m:e.U++;var r=wd(e.F);Sd(r,"SID",e.I),Sd(r,"RID",n),Sd(r,"AID",e.T),Tp(e,r),e.o&&e.s&&bp(r,e.o,e.s),n=new nd(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Ap(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Qd(e.h,n),sd(n,r,t)}function Tp(e,t){e.ia&&Kf(e.ia,(function(e,n){Sd(t,n,e)})),e.l&&yd({},(function(e,n){Sd(t,n,e)}))}function Ap(e,t,n){n=Math.min(e.i.length,n);var r=e.l?lf(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Jd(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Np(e){e.g||e.u||(e.Z=1,xh(e.Ia,e),e.A=0)}function Rp(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Gh(lf(e.Ia,e),Mp(e,e.A)),e.A++,!0)}function Dp(e){null!=e.B&&(tf.clearTimeout(e.B),e.B=null)}function Lp(e){e.g=new nd(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=wd(e.sa);Sd(t,"RID","rpc"),Sd(t,"SID",e.I),Sd(t,"CI",e.L?"0":"1"),Sd(t,"AID",e.T),Sd(t,"TYPE","xmlhttp"),Tp(e,t),e.o&&e.s&&bp(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Ed(wd(t)),n.s=null,n.P=!0,ud(n,e)}function Op(e){null!=e.v&&(tf.clearTimeout(e.v),e.v=null)}function Pp(e,t){var n=null;if(e.g==t){Op(e),Dp(e),e.g=null;var r=2}else{if(!Kd(e.h,t))return;n=t.D,$d(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;dh(r=Uh(),new Hh(r,n)),Ep(e)}else Np(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Wd(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=Gh(lf(e.Ja,e,t),Mp(e,e.C)),e.C++,!0))}(e,t)||2==r&&Rp(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Fp(e,5);break;case 4:Fp(e,10);break;case 3:Fp(e,6);break;default:Fp(e,2)}}function Mp(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Fp(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=lf(e.kb,e);n||(n=new bd("//www.google.com/images/cleardot.gif"),tf.location&&"http"==tf.location.protocol||xd(n,"https"),Ed(n)),function(e,t){var n=new Ph;if(tf.Image){var r=new Image;r.onload=ff(ep,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ff(ep,n,r,"TestLoadImage: error",!1,t),r.onabort=ff(ep,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ff(ep,n,r,"TestLoadImage: timeout",!1,t),tf.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else qh(2);e.G=0,e.l&&e.l.va(t),jp(e),Sp(e)}function jp(e){if(e.G=0,e.la=[],e.l){var t=Yd(e.h);0==t.length&&0==e.i.length||(gf(e.la,t),gf(e.la,e.i),e.h.i.length=0,vf(e.i),e.i.length=0),e.l.ua()}}function Up(e,t,n){var r=n instanceof bd?wd(n):new bd(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),_d(r,r.m);else{var i=tf.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new bd(null,void 0);r&&xd(a,r),t&&(a.g=t),i&&_d(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Sd(r,n,t),Sd(r,"VER",e.ma),Tp(e,r),r}function Vp(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new up(new tp({jb:!0})):new up(e.ra)).Ka(e.H),t}function Bp(){}function zp(){if(Cf&&!(10<=Number(Vf)))throw Error("Environmental error: no available transport.")}function qp(e,t){hh.call(this),this.g=new xp(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!kf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!kf(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Wp(this)}function Hp(e){Jh.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Gp(){ed.call(this),this.status=1}function Wp(e){this.g=e}($l=up.prototype).Ka=function(e){this.L=e},$l.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Xh.g(),this.C=this.u?$h(this.u):$h(Xh),this.g.onreadystatechange=lf(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void hp(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=b(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=tf.FormData&&e instanceof tf.FormData,!(0<=pf(fp,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=b(n);try{for(c.s();!(u=c.n()).done;){var l=f(u.value,2),h=l[0],d=l[1];this.g.setRequestHeader(h,d)}}catch(p){c.e(p)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{gp(this),0<this.B&&((this.K=function(e){return Cf&&jf()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=lf(this.qa,this)):this.A=Th(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){hp(this,s)}},$l.qa=function(){"undefined"!=typeof ef&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,dh(this,"timeout"),this.abort(8))},$l.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,dh(this,"complete"),dh(this,"abort"),vp(this))},$l.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vp(this,!0)),up.X.M.call(this)},$l.Ha=function(){this.s||(this.F||this.v||this.l?pp(this):this.fb())},$l.fb=function(){pp(this)},$l.aa=function(){try{return 2<mp(this)?this.g.status:-1}catch(qd){return-1}},$l.fa=function(){try{return this.g?this.g.responseText:""}catch(qd){return""}},$l.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),sp(t)}},$l.Ea=function(){return this.m},$l.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},($l=xp.prototype).ma=8,$l.G=1,$l.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new nd(this,this.j,e,void 0),n=this.s;if(this.S&&(n?Yf(n=Qf(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Ap(this,t,r),Sd(i=wd(this.F),"RID",e),Sd(i,"CVER",22),this.D&&Sd(i,"X-HTTP-Session-Id",this.D),Tp(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(kp(n)))+"&"+r:this.o&&bp(i,this.o,n)),Qd(this.h,t),this.Ya&&Sd(i,"TYPE","init"),this.O?(Sd(i,"$req",r),Sd(i,"SID","null"),t.Z=!0,sd(t,i,null)):sd(t,i,r),this.G=2}}else 3==this.G&&(e?Cp(this,e):0==this.i.length||Gd(this.h)||Cp(this))},$l.Ia=function(){if(this.u=null,Lp(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Gh(lf(this.eb,this),e)}},$l.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,qh(10),Ip(this),Lp(this))},$l.cb=function(){null!=this.v&&(this.v=null,Ip(this),Rp(this),qh(19))},$l.kb=function(e){e?(this.j.info("Successfully pinged google.com"),qh(2)):(this.j.info("Failed to ping google.com"),qh(1))},($l=Bp.prototype).xa=function(){},$l.wa=function(){},$l.va=function(){},$l.ua=function(){},$l.Ra=function(){},zp.prototype.g=function(e,t){return new qp(e,t)},hf(qp,hh),qp.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;qh(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Up(e,null,e.V),Ep(e)},qp.prototype.close=function(){_p(this.g)},qp.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=vh(e),e=n);t.i.push(new Bd(t.ab++,e)),3==t.G&&Ep(t)},qp.prototype.M=function(){this.g.l=null,delete this.j,_p(this.g),delete this.g,qp.X.M.call(this)},hf(Hp,Jh),hf(Gp,ed),hf(Wp,Bp),Wp.prototype.xa=function(){dh(this.g,"a")},Wp.prototype.wa=function(e){dh(this.g,new Hp(e))},Wp.prototype.va=function(e){dh(this.g,new Gp)},Wp.prototype.ua=function(){dh(this.g,"b")},zp.prototype.createWebChannel=zp.prototype.g,qp.prototype.send=qp.prototype.u,qp.prototype.open=qp.prototype.m,qp.prototype.close=qp.prototype.close,Wh.NO_ERROR=0,Wh.TIMEOUT=8,Wh.HTTP_ERROR=6,Kh.COMPLETE="complete",Yh.EventType=Zh,Zh.OPEN="a",Zh.CLOSE="b",Zh.ERROR="c",Zh.MESSAGE="d",hh.prototype.listen=hh.prototype.N,up.prototype.listenOnce=up.prototype.O,up.prototype.getLastError=up.prototype.Oa,up.prototype.getLastErrorCode=up.prototype.Ea,up.prototype.getStatus=up.prototype.aa,up.prototype.getResponseJson=up.prototype.Sa,up.prototype.getResponseText=up.prototype.fa,up.prototype.send=up.prototype.da,up.prototype.setWithCredentials=up.prototype.Ka;var Kp=Jl.createWebChannelTransport=function(){return new zp},Qp=Jl.getStatEventTarget=function(){return Uh()},$p=Jl.ErrorCode=Wh,Yp=Jl.EventType=Kh,Xp=Jl.Event=Fh,Zp=Jl.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Jp=Jl.FetchXmlHttpFactory=tp,ev=Jl.WebChannel=Yh,tv=Jl.XhrIo=up,nv="@firebase/firestore",rv=function(){function e(t){m(this,e),this.uid=t}return k(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();rv.UNAUTHENTICATED=new rv(null),rv.GOOGLE_CREDENTIALS=new rv("google-credentials-uid"),rv.FIRST_PARTY=new rv("first-party-uid"),rv.MOCK_USER=new rv("mock-user");var iv="9.13.0",av=new be("@firebase/firestore");function ov(){return av.logLevel}function sv(e){if(av.logLevel<=de.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(lv);av.debug.apply(av,["Firestore (".concat(iv,"): ").concat(e)].concat(u(i)))}}function uv(e){if(av.logLevel<=de.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(lv);av.error.apply(av,["Firestore (".concat(iv,"): ").concat(e)].concat(u(i)))}}function cv(e){if(av.logLevel<=de.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(lv);av.warn.apply(av,["Firestore (".concat(iv,"): ").concat(e)].concat(u(i)))}}function lv(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function fv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(iv,") INTERNAL ASSERTION FAILED: ")+e;throw uv(t),new Error(t)}function hv(e,t){e||fv()}function dv(e,t){return e}var pv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},vv=function(e){_(n,e);var t=C(n);function n(e,r){var i;return m(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return k(n)}($),gv=k((function e(){var t=this;m(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),mv=k((function e(t,n){m(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),yv=function(){function e(){m(this,e)}return k(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(rv.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),kv=function(){function e(t){m(this,e),this.token=t,this.changeListener=null}return k(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),bv=function(){function e(t){m(this,e),this.t=t,this.currentUser=rv.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return k(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new gv;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new gv,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(v(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){sv("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(sv("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new gv)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(sv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(hv("string"==typeof n.accessToken),new mv(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return hv(null===e||"string"==typeof e),new rv(e)}}]),e}(),wv=function(){function e(t,n,r,i){m(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=rv.FIRST_PARTY,this.p=new Map}return k(e,[{key:"I",value:function(){return this.g?this.g():(hv(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),xv=function(){function e(t,n,r,i){m(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return k(e,[{key:"getToken",value:function(){return Promise.resolve(new wv(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(rv.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),_v=k((function e(t){m(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Iv=function(){function e(t){m(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return k(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&sv("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,sv("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){sv("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):sv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(hv("string"==typeof t.token),e.A=t.token,new _v(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Sv(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Ev=function(){function e(){m(this,e)}return k(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Sv(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Cv(e,t){return e<t?-1:e>t?1:0}function Tv(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Av(e){return e+"\0"}var Nv=function(){function e(t,n){if(m(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new vv(pv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new vv(pv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new vv(pv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new vv(pv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return k(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Cv(this.nanoseconds,e.nanoseconds):Cv(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Rv=function(){function e(t){m(this,e),this.timestamp=t}return k(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Nv(0,0))}},{key:"max",value:function(){return new e(new Nv(253402300799,999999999))}}]),e}(),Dv=function(){function e(t,n,r){m(this,e),void 0===n?n=0:n>t.length&&fv(),void 0===r?r=t.length-n:r>t.length-n&&fv(),this.segments=t,this.offset=n,this.len=r}return k(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Lv=function(e){_(n,e);var t=C(n);function n(){return m(this,n),t.apply(this,arguments)}return k(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new vv(pv.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,u(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Dv),Ov=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Pv=function(e){_(n,e);var t=C(n);function n(){return m(this,n),t.apply(this,arguments)}return k(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Ov.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new vv(pv.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new vv(pv.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new vv(pv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new vv(pv.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Dv),Mv=function(){function e(t){m(this,e),this.path=t}return k(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Lv.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Lv.fromString(t))}},{key:"fromName",value:function(t){return new e(Lv.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Lv.emptyPath())}},{key:"comparator",value:function(e,t){return Lv.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Lv(t.slice()))}}]),e}(),Fv=k((function e(t,n,r,i){m(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function jv(e){return e.fields.find((function(e){return 2===e.kind}))}function Uv(e){return e.fields.filter((function(e){return 2!==e.kind}))}Fv.UNKNOWN_ID=-1;var Vv=k((function e(t,n){m(this,e),this.fieldPath=t,this.kind=n}));var Bv=function(){function e(t,n){m(this,e),this.sequenceNumber=t,this.offset=n}return k(e,null,[{key:"empty",value:function(){return new e(0,Hv.min())}}]),e}();function zv(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Rv.fromTimestamp(1e9===r?new Nv(n+1,0):new Nv(n,r));return new Hv(i,Mv.empty(),t)}function qv(e){return new Hv(e.readTime,e.key,-1)}var Hv=function(){function e(t,n,r){m(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return k(e,null,[{key:"min",value:function(){return new e(Rv.min(),Mv.empty(),-1)}},{key:"max",value:function(){return new e(Rv.max(),Mv.empty(),-1)}}]),e}();function Gv(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Mv.comparator(e.documentKey,t.documentKey))?n:Cv(e.largestBatchId,t.largestBatchId)}var Wv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Kv=function(){function e(){m(this,e),this.onCommittedListeners=[]}return k(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Qv(e){return $v.apply(this,arguments)}function $v(){return $v=v(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===pv.FAILED_PRECONDITION&&t.message===Wv){e.next=2;break}throw t;case 2:sv("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),$v.apply(this,arguments)}var Yv=function(){function e(t){var n=this;m(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return k(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&fv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=b(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(s){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Xv=function(){function e(t,n){var r=this;m(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new gv,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new eg(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=ag(e.target.error);r.P.reject(new eg(t,n))}}return k(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(sv("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new ng(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new eg(n,t)}}}]),e}(),Zv=function(){function e(t,n,r){m(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(P())&&uv("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return k(e,[{key:"F",value:function(){var e=v(d().mark((function e(t){var n=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return sv("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new eg(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new vv(pv.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new vv(pv.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new eg(t,n))},i.onupgradeneeded=function(e){sv("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){sv("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=v(d().mark((function e(t,n,r,i){var a,o,s,u,c,l=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(d().mark((function e(){var n,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=Xv.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),Yv.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u=e.t1,c="FirebaseError"!==u.name&&o<3,sv("SimpleDb","Transaction failed with error:",u.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(u));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return sv("SimpleDb","Removing database:",e),rg(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!V())return!1;if(e.N())return!0;var t=P(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/ChatFlix",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Jv=function(){function e(t){m(this,e),this.U=t,this.q=!1,this.K=null}return k(e,[{key:"isDone",get:function(){return this.q}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.U=e}},{key:"done",value:function(){this.q=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return rg(this.U.delete())}}]),e}(),eg=function(e){_(n,e);var t=C(n);function n(e,r){var i;return m(this,n),(i=t.call(this,pv.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return k(n)}(vv);function tg(e){return"IndexedDbTransactionError"===e.name}var ng=function(){function e(t){m(this,e),this.store=t}return k(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(sv("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(sv("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),rg(n)}},{key:"add",value:function(e){return sv("SimpleDb","ADD",this.store.name,e,e),rg(this.store.add(e))}},{key:"get",value:function(e){var t=this;return rg(this.store.get(e)).next((function(n){return void 0===n&&(n=null),sv("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return sv("SimpleDb","DELETE",this.store.name,e),rg(this.store.delete(e))}},{key:"count",value:function(){return sv("SimpleDb","COUNT",this.store.name),rg(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Yv((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Yv((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){sv("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new Yv((function(n,r){t.onerror=function(e){var t=ag(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new Yv((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Jv(i),o=t(i.primaryKey,i.value,a);if(o instanceof Yv){var s=o.catch((function(e){return a.done(),Yv.reject(e)}));n.push(s)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return Yv.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function rg(e){return new Yv((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=ag(e.target.error);n(t)}}))}var ig=!1;function ag(e){var t=Zv.D(P());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new vv("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return ig||(ig=!0,setTimeout((function(){throw r}),0)),r}}return e}var og=function(){function e(t,n){m(this,e),this.asyncQueue=t,this.et=n,this.task=null}return k(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;sv("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,v(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=sv,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!tg(e.t4)){e.next=17;break}sv("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Qv(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),sg=function(){function e(t,n){m(this,e),this.localStore=t,this.persistence=n}return k(e,[{key:"st",value:function(){var e=v(d().mark((function e(){var t,n=this,r=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Yv.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return sv("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return sv("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=qv(t);Gv(r,n)>0&&(n=r)})),new Hv(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),ug=function(){function e(t,n){var r=this;m(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return k(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function cg(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function lg(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function fg(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}ug.at=-1;var hg=function(){function e(t,n){m(this,e),this.comparator=t,this.root=n||pg.EMPTY}return k(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,pg.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,pg.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new dg(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new dg(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new dg(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new dg(this.root,e,this.comparator,!0)}}]),e}(),dg=function(){function e(t,n,r,i){m(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return k(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),pg=function(){function e(t,n,r,i,a){m(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return k(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw fv();if(this.right.isRed())throw fv();var e=this.left.check();if(e!==this.right.check())throw fv();return e+(this.isRed()?0:1)}}]),e}();pg.EMPTY=null,pg.RED=!0,pg.BLACK=!1,pg.EMPTY=new(function(){function e(){m(this,e),this.size=0}return k(e,[{key:"key",get:function(){throw fv()}},{key:"value",get:function(){throw fv()}},{key:"color",get:function(){throw fv()}},{key:"left",get:function(){throw fv()}},{key:"right",get:function(){throw fv()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new pg(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var vg=function(){function e(t){m(this,e),this.comparator=t,this.data=new hg(this.comparator)}return k(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new gg(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new gg(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),gg=function(){function e(t){m(this,e),this.iter=t}return k(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function mg(e){return e.hasNext()?e.getNext():void 0}var yg=function(){function e(t){m(this,e),this.fields=t,t.sort(Pv.comparator)}return k(e,[{key:"unionWith",value:function(t){var n,r=new vg(Pv.comparator),i=b(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=b(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=b(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Tv(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var kg=function(e){function t(e){m(this,t),this.binaryString=e}return k(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Cv(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();kg.EMPTY_BYTE_STRING=new kg("");var bg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wg(e){if(hv(!!e),"string"==typeof e){var t=0,n=bg.exec(e);if(hv(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:xg(e.seconds),nanos:xg(e.nanos)}}function xg(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function _g(e){return"string"==typeof e?kg.fromBase64String(e):kg.fromUint8Array(e)}function Ig(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Sg(e){var t=e.mapValue.fields.__previous_value__;return Ig(t)?Sg(t):t}function Eg(e){var t=wg(e.mapValue.fields.__local_write_time__.timestampValue);return new Nv(t.seconds,t.nanos)}var Cg=k((function e(t,n,r,i,a,o,s,u){m(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Tg=function(){function e(t,n){m(this,e),this.projectId=t,this.database=n||"(default)"}return k(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Ag(e){return null==e}function Ng(e){return 0===e&&1/e==-1/0}function Rg(e){return"number"==typeof e&&Number.isInteger(e)&&!Ng(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Dg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Lg={nullValue:"NULL_VALUE"};function Og(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ig(e)?4:Qg(e)?9007199254740991:10:fv()}function Pg(e,t){if(e===t)return!0;var n=Og(e);if(n!==Og(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Eg(e).isEqual(Eg(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=wg(e.timestampValue),r=wg(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return _g(e.bytesValue).isEqual(_g(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return xg(e.geoPointValue.latitude)===xg(t.geoPointValue.latitude)&&xg(e.geoPointValue.longitude)===xg(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return xg(e.integerValue)===xg(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=xg(e.doubleValue),r=xg(t.doubleValue);return n===r?Ng(n)===Ng(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Tv(e.arrayValue.values||[],t.arrayValue.values||[],Pg);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(cg(n)!==cg(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Pg(n[i],r[i])))return!1;return!0}(e,t);default:return fv()}}function Mg(e,t){return void 0!==(e.values||[]).find((function(e){return Pg(e,t)}))}function Fg(e,t){if(e===t)return 0;var n=Og(e),r=Og(t);if(n!==r)return Cv(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Cv(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=xg(e.integerValue||e.doubleValue),r=xg(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return jg(e.timestampValue,t.timestampValue);case 4:return jg(Eg(e),Eg(t));case 5:return Cv(e.stringValue,t.stringValue);case 6:return function(e,t){var n=_g(e),r=_g(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Cv(n[i],r[i]);if(0!==a)return a}return Cv(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Cv(xg(e.latitude),xg(t.latitude));return 0!==n?n:Cv(xg(e.longitude),xg(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Fg(n[i],r[i]);if(a)return a}return Cv(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Dg.mapValue&&t===Dg.mapValue)return 0;if(e===Dg.mapValue)return 1;if(t===Dg.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Cv(r[o],a[o]);if(0!==s)return s;var u=Fg(n[r[o]],i[a[o]]);if(0!==u)return u}return Cv(r.length,a.length)}(e.mapValue,t.mapValue);default:throw fv()}}function jg(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Cv(e,t);var n=wg(e),r=wg(t),i=Cv(n.seconds,r.seconds);return 0!==i?i:Cv(n.nanos,r.nanos)}function Ug(e){return Vg(e)}function Vg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=wg(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?_g(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Mv.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=b(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Vg(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=b(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Vg(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):fv();var t,n}function Bg(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function zg(e){return!!e&&"integerValue"in e}function qg(e){return!!e&&"arrayValue"in e}function Hg(e){return!!e&&"nullValue"in e}function Gg(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Wg(e){return!!e&&"mapValue"in e}function Kg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return lg(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Kg(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Kg(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Qg(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function $g(e){return"nullValue"in e?Lg:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Bg(Tg.empty(),Mv.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:fv()}function Yg(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Bg(Tg.empty(),Mv.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Dg:fv()}function Xg(e,t){var n=Fg(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Zg(e,t){var n=Fg(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Jg=function(){function e(t){m(this,e),this.value=t}return k(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Wg(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kg(t)}},{key:"setAll",value:function(e){var t=this,n=Pv.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Kg(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Wg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Pg(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Wg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){lg(t,(function(t,n){return e[t]=n}));var r,i=b(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Kg(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function em(e){var t=[];return lg(e.fields,(function(e,n){var r=new Pv([e]);if(Wg(n)){var i=em(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=b(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new yg(t)}var tm=function(){function e(t,n,r,i,a,o){m(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return k(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Jg.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Jg.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Rv.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Rv.min(),Rv.min(),Jg.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Rv.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Rv.min(),Jg.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Rv.min(),Jg.empty(),2)}}]),e}(),nm=k((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;m(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ht=null}));function rm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new nm(e,t,n,r,i,a,o)}function im(e){var t=dv(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Ug(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Ag(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Ug(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Ug(e)})).join(",")),t.ht=n}return t.ht}function am(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!wm(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Pg(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!_m(e.startAt,t.startAt)&&_m(e.endAt,t.endAt)}function om(e){return Mv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function sm(e,t){return e.filters.filter((function(e){return e instanceof lm&&e.field.isEqual(t)}))}function um(e,t,n){var r,i=Lg,a=!0,o=b(sm(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Lg,c=!0;switch(s.op){case"<":case"<=":u=$g(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=Lg}Xg({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Xg({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function cm(e,t,n){var r,i=Dg,a=!0,o=b(sm(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Dg,c=!0;switch(s.op){case">=":case">":u=Yg(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=Dg}Zg({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Zg({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var lm=function(e){_(n,e);var t=C(n);function n(e,r,i){var a;return m(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return k(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Fg(t,this.value)):null!==t&&Og(this.value)===Og(t)&&this.ft(Fg(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return fv()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new fm(e,t,r):"array-contains"===t?new vm(e,r):"in"===t?new gm(e,r):"not-in"===t?new mm(e,r):"array-contains-any"===t?new ym(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new hm(e,n):new dm(e,n)}}]),n}(function(){return k((function e(){m(this,e)}))}()),fm=function(e){_(n,e);var t=C(n);function n(e,r,i){var a;return m(this,n),(a=t.call(this,e,r,i)).key=Mv.fromName(i.referenceValue),a}return k(n,[{key:"matches",value:function(e){var t=Mv.comparator(e.key,this.key);return this.ft(t)}}]),n}(lm),hm=function(e){_(n,e);var t=C(n);function n(e,r){var i;return m(this,n),(i=t.call(this,e,"in",r)).keys=pm("in",r),i}return k(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(lm),dm=function(e){_(n,e);var t=C(n);function n(e,r){var i;return m(this,n),(i=t.call(this,e,"not-in",r)).keys=pm("not-in",r),i}return k(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(lm);function pm(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Mv.fromName(e.referenceValue)}))}var vm=function(e){_(n,e);var t=C(n);function n(e,r){return m(this,n),t.call(this,e,"array-contains",r)}return k(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return qg(t)&&Mg(t.arrayValue,this.value)}}]),n}(lm),gm=function(e){_(n,e);var t=C(n);function n(e,r){return m(this,n),t.call(this,e,"in",r)}return k(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Mg(this.value.arrayValue,t)}}]),n}(lm),mm=function(e){_(n,e);var t=C(n);function n(e,r){return m(this,n),t.call(this,e,"not-in",r)}return k(n,[{key:"matches",value:function(e){if(Mg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Mg(this.value.arrayValue,t)}}]),n}(lm),ym=function(e){_(n,e);var t=C(n);function n(e,r){return m(this,n),t.call(this,e,"array-contains-any",r)}return k(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!qg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Mg(t.value.arrayValue,e)}))}}]),n}(lm),km=k((function e(t,n){m(this,e),this.position=t,this.inclusive=n})),bm=k((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";m(this,e),this.field=t,this.dir=n}));function wm(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function xm(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Mv.comparator(Mv.fromName(o.referenceValue),n.key):Fg(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function _m(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Pg(e.position[n],t.position[n]))return!1;return!0}var Im=k((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;m(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this._t=null,this.wt=null,this.startAt,this.endAt}));function Sm(e,t,n,r,i,a,o,s){return new Im(e,t,n,r,i,a,o,s)}function Em(e){return new Im(e)}function Cm(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Tm(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Am(e){var t,n=b(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Nm(e){return null!==e.collectionGroup}function Rm(e){var t=dv(e);if(null===t._t){t._t=[];var n=Am(t),r=Tm(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new bm(n)),t._t.push(new bm(Pv.keyField(),"asc"));else{var i,a=!1,o=b(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t._t.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new bm(Pv.keyField(),u))}}}return t._t}function Dm(e){var t=dv(e);if(!t.wt)if("F"===t.limitType)t.wt=rm(t.path,t.collectionGroup,Rm(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=b(Rm(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new bm(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new km(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new km(t.startAt.position,t.startAt.inclusive):null;t.wt=rm(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.wt}function Lm(e,t,n){return new Im(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Om(e,t){return am(Dm(e),Dm(t))&&e.limitType===t.limitType}function Pm(e){return"".concat(im(Dm(e)),"|lt:").concat(e.limitType)}function Mm(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Ug(t.value));var t})).join(", "),"]")),Ag(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Ug(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Ug(e)})).join(",")),"Target(".concat(t,")")}(Dm(e)),"; limitType=").concat(e.limitType,")")}function Fm(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Mv.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=b(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=b(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=xm(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Rm(e),t))&&!(e.endAt&&!function(e,t,n){var r=xm(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Rm(e),t))}(e,t)}function jm(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Um(e){return function(t,n){var r,i=!1,a=b(Rm(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Vm(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Vm(e,t,n){var r=e.field.isKeyField()?Mv.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Fg(r,i):fv()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return fv()}}function Bm(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ng(t)?"-0":t}}function zm(e){return{integerValue:""+e}}function qm(e,t){return Rg(t)?zm(t):Bm(e,t)}var Hm=k((function e(){m(this,e),this._=void 0}));function Gm(e,t,n){return e instanceof Qm?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof $m?Ym(e,t):e instanceof Xm?Zm(e,t):function(e,t){var n=Km(e,t),r=ey(n)+ey(e.yt);return zg(n)&&zg(e.yt)?zm(r):Bm(e.It,r)}(e,t)}function Wm(e,t,n){return e instanceof $m?Ym(e,t):e instanceof Xm?Zm(e,t):n}function Km(e,t){return e instanceof Jm?zg(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Qm=function(e){_(n,e);var t=C(n);function n(){return m(this,n),t.apply(this,arguments)}return k(n)}(Hm),$m=function(e){_(n,e);var t=C(n);function n(e){var r;return m(this,n),(r=t.call(this)).elements=e,r}return k(n)}(Hm);function Ym(e,t){var n,r=ty(t),i=b(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Pg(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Xm=function(e){_(n,e);var t=C(n);function n(e){var r;return m(this,n),(r=t.call(this)).elements=e,r}return k(n)}(Hm);function Zm(e,t){var n,r=ty(t),i=b(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Pg(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Jm=function(e){_(n,e);var t=C(n);function n(e,r){var i;return m(this,n),(i=t.call(this)).It=e,i.yt=r,i}return k(n)}(Hm);function ey(e){return xg(e.integerValue||e.doubleValue)}function ty(e){return qg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ny=k((function e(t,n){m(this,e),this.field=t,this.transform=n}));var ry=k((function e(t,n){m(this,e),this.version=t,this.transformResults=n})),iy=function(){function e(t,n){m(this,e),this.updateTime=t,this.exists=n}return k(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function ay(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var oy=k((function e(){m(this,e)}));function sy(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ky(e.key,iy.none()):new hy(e.key,e.data,iy.none());var n,r=e.data,i=Jg.empty(),a=new vg(Pv.comparator),o=b(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new dy(e.key,i,new yg(a.toArray()),iy.none())}function uy(e,t,n){e instanceof hy?function(e,t,n){var r=e.value.clone(),i=vy(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof dy?function(e,t,n){if(ay(e.precondition,t)){var r=vy(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(py(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function cy(e,t,n,r){return e instanceof hy?function(e,t,n,r){if(!ay(e.precondition,t))return n;var i=e.value.clone(),a=gy(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof dy?function(e,t,n,r){if(!ay(e.precondition,t))return n;var i=gy(e.fieldTransforms,r,t),a=t.data;return a.setAll(py(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return ay(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ly(e,t){var n,r=null,i=b(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Km(a.transform,o||null);null!=s&&(null===r&&(r=Jg.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function fy(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Tv(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof $m&&t instanceof $m||e instanceof Xm&&t instanceof Xm?Tv(e.elements,t.elements,Pg):e instanceof Jm&&t instanceof Jm?Pg(e.yt,t.yt):e instanceof Qm&&t instanceof Qm}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var hy=function(e){_(n,e);var t=C(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return m(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return k(n,[{key:"getFieldMask",value:function(){return null}}]),n}(oy),dy=function(e){_(n,e);var t=C(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return m(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return k(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(oy);function py(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function vy(e,t,n){var r=new Map;hv(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Wm(o,s,n[i]))}return r}function gy(e,t,n){var r,i=new Map,a=b(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Gm(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var my,yy,ky=function(e){_(n,e);var t=C(n);function n(e,r){var i;return m(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return k(n,[{key:"getFieldMask",value:function(){return null}}]),n}(oy),by=function(e){_(n,e);var t=C(n);function n(e,r){var i;return m(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return k(n,[{key:"getFieldMask",value:function(){return null}}]),n}(oy),wy=k((function e(t){m(this,e),this.count=t}));function xy(e){switch(e){default:return fv();case pv.CANCELLED:case pv.UNKNOWN:case pv.DEADLINE_EXCEEDED:case pv.RESOURCE_EXHAUSTED:case pv.INTERNAL:case pv.UNAVAILABLE:case pv.UNAUTHENTICATED:return!1;case pv.INVALID_ARGUMENT:case pv.NOT_FOUND:case pv.ALREADY_EXISTS:case pv.PERMISSION_DENIED:case pv.FAILED_PRECONDITION:case pv.ABORTED:case pv.OUT_OF_RANGE:case pv.UNIMPLEMENTED:case pv.DATA_LOSS:return!0}}function _y(e){if(void 0===e)return uv("GRPC error has no .code"),pv.UNKNOWN;switch(e){case my.OK:return pv.OK;case my.CANCELLED:return pv.CANCELLED;case my.UNKNOWN:return pv.UNKNOWN;case my.DEADLINE_EXCEEDED:return pv.DEADLINE_EXCEEDED;case my.RESOURCE_EXHAUSTED:return pv.RESOURCE_EXHAUSTED;case my.INTERNAL:return pv.INTERNAL;case my.UNAVAILABLE:return pv.UNAVAILABLE;case my.UNAUTHENTICATED:return pv.UNAUTHENTICATED;case my.INVALID_ARGUMENT:return pv.INVALID_ARGUMENT;case my.NOT_FOUND:return pv.NOT_FOUND;case my.ALREADY_EXISTS:return pv.ALREADY_EXISTS;case my.PERMISSION_DENIED:return pv.PERMISSION_DENIED;case my.FAILED_PRECONDITION:return pv.FAILED_PRECONDITION;case my.ABORTED:return pv.ABORTED;case my.OUT_OF_RANGE:return pv.OUT_OF_RANGE;case my.UNIMPLEMENTED:return pv.UNIMPLEMENTED;case my.DATA_LOSS:return pv.DATA_LOSS;default:return fv()}}(yy=my||(my={}))[yy.OK=0]="OK",yy[yy.CANCELLED=1]="CANCELLED",yy[yy.UNKNOWN=2]="UNKNOWN",yy[yy.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yy[yy.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yy[yy.NOT_FOUND=5]="NOT_FOUND",yy[yy.ALREADY_EXISTS=6]="ALREADY_EXISTS",yy[yy.PERMISSION_DENIED=7]="PERMISSION_DENIED",yy[yy.UNAUTHENTICATED=16]="UNAUTHENTICATED",yy[yy.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yy[yy.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yy[yy.ABORTED=10]="ABORTED",yy[yy.OUT_OF_RANGE=11]="OUT_OF_RANGE",yy[yy.UNIMPLEMENTED=12]="UNIMPLEMENTED",yy[yy.INTERNAL=13]="INTERNAL",yy[yy.UNAVAILABLE=14]="UNAVAILABLE",yy[yy.DATA_LOSS=15]="DATA_LOSS";var Iy=function(){function e(t,n){m(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return k(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=b(n);try{for(i.s();!(r=i.n()).done;){var a=f(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){lg(this.inner,(function(t,n){var r,i=b(n);try{for(i.s();!(r=i.n()).done;){var a=f(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return fg(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Sy=new hg(Mv.comparator);function Ey(){return Sy}var Cy=new hg(Mv.comparator);function Ty(){for(var e=Cy,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Ay(e){var t=Cy;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Ny(){return Dy()}function Ry(){return Dy()}function Dy(){return new Iy((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Ly=new hg(Mv.comparator),Oy=new vg(Mv.comparator);function Py(){for(var e=Oy,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var My=new vg(Cv);function Fy(){return My}var jy=function(){function e(t,n,r,i,a){m(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return k(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Uy.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Rv.min(),i,Fy(),Ey(),Py())}}]),e}(),Uy=function(){function e(t,n,r,i,a){m(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return k(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Py(),Py(),Py())}}]),e}(),Vy=k((function e(t,n,r,i){m(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),By=k((function e(t,n){m(this,e),this.targetId=t,this.At=n})),zy=k((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kg.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;m(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),qy=function(){function e(){m(this,e),this.Rt=0,this.bt=Wy(),this.Pt=kg.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return k(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=Py(),t=Py(),n=Py();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:fv()}})),new Uy(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=Wy()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Ot",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Mt",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),Hy=function(){function e(t){m(this,e),this.Bt=t,this.Lt=new Map,this.Ut=Ey(),this.qt=Gy(),this.Kt=new vg(Cv)}return k(e,[{key:"Gt",value:function(e){var t,n=b(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(s){n.e(s)}finally{n.f()}var i,a=b(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:fv()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(om(i))if(0===n){var a=new Mv(i.path);this.jt(t,a,tm.newNoDocument(a,Rv.min()))}else hv(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&om(a.target)){var o=new Mv(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,tm.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=Py();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new jy(e,n,this.Kt,this.Ut,r);return this.Ut=Ey(),this.qt=Gy(),this.Kt=new vg(Cv),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Mt",value:function(e){this.zt(e).Mt()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new qy,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new vg(Cv),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||sv("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new qy),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Gy(){return new hg(Mv.comparator)}function Wy(){return new hg(Mv.comparator)}var Ky={asc:"ASCENDING",desc:"DESCENDING"},Qy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$y=k((function e(t,n){m(this,e),this.databaseId=t,this.gt=n}));function Yy(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Xy(e,t){return e.gt?t.toBase64():t.toUint8Array()}function Zy(e,t){return Yy(e,t.toTimestamp())}function Jy(e){return hv(!!e),Rv.fromTimestamp(function(e){var t=wg(e);return new Nv(t.seconds,t.nanos)}(e))}function ek(e,t){return function(e){return new Lv(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function tk(e){var t=Lv.fromString(e);return hv(Ik(t)),t}function nk(e,t){return ek(e.databaseId,t.path)}function rk(e,t){var n=tk(t);if(n.get(1)!==e.databaseId.projectId)throw new vv(pv.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new vv(pv.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Mv(sk(n))}function ik(e,t){return ek(e.databaseId,t)}function ak(e){var t=tk(e);return 4===t.length?Lv.emptyPath():sk(t)}function ok(e){return new Lv(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function sk(e){return hv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function uk(e,t,n){return{name:nk(e,t),fields:n.value.mapValue.fields}}function ck(e,t,n){var r=rk(e,t.name),i=Jy(t.updateTime),a=new Jg({mapValue:{fields:t.fields}}),o=tm.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function lk(e,t){return"found"in t?function(e,t){hv(!!t.found),t.found.name,t.found.updateTime;var n=rk(e,t.found.name),r=Jy(t.found.updateTime),i=new Jg({mapValue:{fields:t.found.fields}});return tm.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){hv(!!t.missing),hv(!!t.readTime);var n=rk(e,t.missing),r=Jy(t.readTime);return tm.newNoDocument(n,r)}(e,t):fv()}function fk(e,t){var n;if(t instanceof hy)n={update:uk(e,t.key,t.value)};else if(t instanceof ky)n={delete:nk(e,t.key)};else if(t instanceof dy)n={update:uk(e,t.key,t.data),updateMask:_k(t.fieldMask)};else{if(!(t instanceof by))return fv();n={verify:nk(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Qm)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof $m)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Xm)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Jm)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw fv()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Zy(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:fv()}(e,t.precondition)),n}function hk(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?iy.updateTime(Jy(e.updateTime)):void 0!==e.exists?iy.exists(e.exists):iy.none()}(t.currentDocument):iy.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)hv("REQUEST_TIME"===t.setToServerValue),n=new Qm;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new $m(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Xm(i)}else"increment"in t?n=new Jm(e,t.increment):fv();var a=Pv.fromServerFormat(t.fieldPath);return new ny(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=rk(e,t.update.name),a=new Jg({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new yg(t.map((function(e){return Pv.fromServerFormat(e)})))}(t.updateMask);return new dy(i,a,o,n,r)}return new hy(i,a,n,r)}if(t.delete){var s=rk(e,t.delete);return new ky(s,n)}if(t.verify){var u=rk(e,t.verify);return new by(u,n)}return fv()}function dk(e,t){return{documents:[ik(e,t.path)]}}function pk(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ik(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ik(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Gg(e.value))return{unaryFilter:{field:kk(e.field),op:"IS_NAN"}};if(Hg(e.value))return{unaryFilter:{field:kk(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Gg(e.value))return{unaryFilter:{field:kk(e.field),op:"IS_NOT_NAN"}};if(Hg(e.value))return{unaryFilter:{field:kk(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kk(e.field),op:yk(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:kk(e.field),direction:mk(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.gt||Ag(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function vk(e){var t=ak(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){hv(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=gk(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new bm(bk(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Ag(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new km(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new km(n,t)}(n.endAt)),Sm(t,i,s,o,u,"F",c,l)}function gk(e){return e?void 0!==e.unaryFilter?[xk(e)]:void 0!==e.fieldFilter?[wk(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return gk(e)})).reduce((function(e,t){return e.concat(t)})):fv():[]}function mk(e){return Ky[e]}function yk(e){return Qy[e]}function kk(e){return{fieldPath:e.canonicalString()}}function bk(e){return Pv.fromServerFormat(e.fieldPath)}function wk(e){return lm.create(bk(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fv()}}(e.fieldFilter.op),e.fieldFilter.value)}function xk(e){switch(e.unaryFilter.op){case"IS_NAN":var t=bk(e.unaryFilter.field);return lm.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=bk(e.unaryFilter.field);return lm.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=bk(e.unaryFilter.field);return lm.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=bk(e.unaryFilter.field);return lm.create(i,"!=",{nullValue:"NULL_VALUE"});default:return fv()}}function _k(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Ik(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Sk(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Ck(t)),t=Ek(e.get(n),t);return Ck(t)}function Ek(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Ck(e){return e+"\x01\x01"}function Tk(e){var t=e.length;if(hv(t>=2),2===t)return hv("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Lv.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&fv(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:fv()}a=o+2}return new Lv(r)}var Ak=["userId","batchId"];function Nk(e,t){return[e,Sk(t)]}function Rk(e,t,n){return[e,Sk(t),n]}var Dk={},Lk=["prefixPath","collectionGroup","readTime","documentId"],Ok=["prefixPath","collectionGroup","documentId"],Pk=["collectionGroup","readTime","prefixPath","documentId"],Mk=["canonicalId","targetId"],Fk=["targetId","path"],jk=["path","targetId"],Uk=["collectionId","parent"],Vk=["indexId","uid"],Bk=["uid","sequenceNumber"],zk=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],qk=["indexId","uid","orderedDocumentKey"],Hk=["userId","collectionPath","documentId"],Gk=["userId","collectionPath","largestBatchId"],Wk=["userId","collectionGroup","largestBatchId"],Kk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Qk=[].concat(u(Kk),["documentOverlays"]),$k=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Yk=$k,Xk=[].concat(Yk,["indexConfiguration","indexState","indexEntries"]),Zk=function(e){_(n,e);var t=C(n);function n(e,r){var i;return m(this,n),(i=t.call(this)).ie=e,i.currentSequenceNumber=r,i}return k(n)}(Kv);function Jk(e,t){var n=dv(e);return Zv.M(n.ie,t)}var eb=function(){function e(t,n,r,i){m(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return k(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&uy(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=b(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=cy(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=b(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=cy(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Ry();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=sy(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Rv.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Py())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Tv(this.mutations,e.mutations,(function(e,t){return fy(e,t)}))&&Tv(this.baseMutations,e.baseMutations,(function(e,t){return fy(e,t)}))}}]),e}(),tb=function(){function e(t,n,r,i){m(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return k(e,null,[{key:"from",value:function(t,n,r){hv(t.mutations.length===r.length);for(var i=Ly,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),nb=function(){function e(t,n){m(this,e),this.largestBatchId=t,this.mutation=n}return k(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),rb=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Rv.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Rv.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:kg.EMPTY_BYTE_STRING;m(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return k(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),ib=k((function e(t){m(this,e),this.re=t}));function ab(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ob(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:nk(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Yy(e,t.version.toTimestamp())}}(e.re,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:sb(t.version)};else{if(!t.isUnknownDocument())return fv();r.unknownDocument={path:n.path.toArray(),version:sb(t.version)}}return r}function ob(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function sb(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ub(e){var t=new Nv(e.seconds,e.nanoseconds);return Rv.fromTimestamp(t)}function cb(e,t){for(var n=(t.baseMutations||[]).map((function(t){return hk(e.re,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return hk(e.re,t)})),s=Nv.fromMillis(t.localWriteTimeMs);return new eb(t.batchId,s,n,o)}function lb(e){var t,n,r=ub(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?ub(e.lastLimboFreeSnapshotVersion):Rv.min();return void 0!==e.query.documents?(hv(1===(n=e.query).documents.length),t=Dm(Em(ak(n.documents[0])))):t=function(e){return Dm(vk(e))}(e.query),new rb(t,e.targetId,0,e.lastListenSequenceNumber,r,i,kg.fromBase64String(e.resumeToken))}function fb(e,t){var n,r=sb(t.snapshotVersion),i=sb(t.lastLimboFreeSnapshotVersion);n=om(t.target)?dk(e.re,t.target):pk(e.re,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:im(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function hb(e){var t=vk({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Lm(t,t.limit,"L"):t}function db(e,t){return new nb(t.largestBatchId,hk(e.re,t.overlayMutation))}function pb(e,t){var n=t.path.lastSegment();return[e,Sk(t.path.popLast()),n]}function vb(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:sb(r.readTime),documentKey:Sk(r.documentKey.path),largestBatchId:r.largestBatchId}}var gb=function(){function e(){m(this,e)}return k(e,[{key:"getBundleMetadata",value:function(e,t){return mb(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:ub(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return mb(e).put({bundleId:(n=t).id,createTime:sb(Jy(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return yb(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:hb(t.bundledQuery),readTime:ub(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return yb(e).put(function(e){return{name:e.name,readTime:sb(Jy(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function mb(e){return Jk(e,"bundles")}function yb(e){return Jk(e,"namedQueries")}var kb=function(){function e(t,n){m(this,e),this.It=t,this.userId=n}return k(e,[{key:"getOverlay",value:function(e,t){var n=this;return bb(e).get(pb(this.userId,t)).next((function(e){return e?db(n.It,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Ny();return Yv.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new nb(t,a);i.push(r.ue(e,o))})),Yv.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Sk(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(bb(e).Y("collectionPathOverlayIndex",i))})),Yv.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Ny(),a=Sk(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return bb(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=b(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=db(r.It,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Ny(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return bb(e).Z({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=db(a.It,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ue",value:function(e,t){return bb(e).put(function(e,t,n){var r=f(pb(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:fk(e.re,n.mutation)}}(this.It,this.userId,t))}}],[{key:"oe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function bb(e){return Jk(e,"documentOverlays")}var wb=function(){function e(){m(this,e)}return k(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(xg(e.integerValue));else if("doubleValue"in e){var n=xg(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),Ng(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(_g(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?Qg(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):fv()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=b(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),Mv.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();function xb(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function _b(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=xb(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}wb.Te=new wb;var Ib=function(){function e(){m(this,e),this.buffer=new Uint8Array(1024),this.position=0}return k(e,[{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Pe(n.value),n=t.next();this.ve()}},{key:"Ve",value:function(e){var t,n=b(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"Se",value:function(e){var t,n=b(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{var a=r.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ve()}},{key:"De",value:function(e){var t=this.Ce(e),n=_b(t);this.xe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ne",value:function(e){var t=this.Ce(e),n=_b(t);this.xe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"ke",value:function(){this.Oe(255),this.Oe(255)}},{key:"Me",value:function(){this.Fe(255),this.Fe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ce",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}},{key:"Pe",value:function(e){var t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}},{key:"Re",value:function(){this.Oe(0),this.Oe(1)}},{key:"ve",value:function(){this.Fe(0),this.Fe(1)}},{key:"Oe",value:function(e){this.xe(1),this.buffer[this.position++]=e}},{key:"Fe",value:function(e){this.xe(1),this.buffer[this.position++]=~e}},{key:"xe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Sb=function(){function e(t){m(this,e),this.Be=t}return k(e,[{key:"me",value:function(e){this.Be.Ee(e)}},{key:"de",value:function(e){this.Be.Ve(e)}},{key:"fe",value:function(e){this.Be.De(e)}},{key:"he",value:function(){this.Be.ke()}}]),e}(),Eb=function(){function e(t){m(this,e),this.Be=t}return k(e,[{key:"me",value:function(e){this.Be.be(e)}},{key:"de",value:function(e){this.Be.Se(e)}},{key:"fe",value:function(e){this.Be.Ne(e)}},{key:"he",value:function(){this.Be.Me()}}]),e}(),Cb=function(){function e(){m(this,e),this.Be=new Ib,this.Le=new Sb(this.Be),this.Ue=new Eb(this.Be)}return k(e,[{key:"seed",value:function(e){this.Be.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Le:this.Ue}},{key:"$e",value:function(){return this.Be.$e()}},{key:"reset",value:function(){this.Be.reset()}}]),e}(),Tb=function(){function e(t,n,r,i){m(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return k(e,[{key:"Ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Ab(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Nb(e.arrayValue,t.arrayValue))?n:0!==(n=Nb(e.directionalValue,t.directionalValue))?n:Mv.comparator(e.documentKey,t.documentKey)}function Nb(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Rb=function(){function e(t){m(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];var n,r=b(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.dt()?this.je=i:this.Qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return k(e,[{key:"We",value:function(e){var t=jv(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=Uv(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.je){var a=n[r];if(!this.He(this.je,a)||!this.Je(this.Ge[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ge.length||!this.Je(this.Ge[i++],o))return!1}return!0}},{key:"ze",value:function(e){var t,n=b(this.Qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.He(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"He",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Je",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Db=function(){function e(){m(this,e),this.Ye=new Lb}return k(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),Yv.resolve()}},{key:"getCollectionParents",value:function(e,t){return Yv.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Yv.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Yv.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Yv.resolve(null)}},{key:"getIndexType",value:function(e,t){return Yv.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Yv.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Yv.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Yv.resolve(Hv.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Yv.resolve(Hv.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Yv.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Yv.resolve()}}]),e}(),Lb=function(){function e(){m(this,e),this.index={}}return k(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new vg(Lv.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new vg(Lv.comparator)).toArray()}}]),e}(),Ob=new Uint8Array(0),Pb=function(){function e(t,n){m(this,e),this.user=t,this.databaseId=n,this.Xe=new Lb,this.Ze=new Iy((function(e){return im(e)}),(function(e,t){return am(e,t)})),this.uid=t.uid||""}return k(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:Sk(i)};return Mb(e).put(a)}return Yv.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Av(t),""],!1,!0);return Mb(e).W(r).next((function(e){var r,i=b(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Tk(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=jb(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Ub(e);return a.next((function(e){o.put(vb(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=jb(e),r=Ub(e),i=Fb(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Fb(e),i=!0,a=new Map;return Yv.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Py(),o=[];return Yv.forEach(a,(function(i,a){var s;sv("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(im(t)));var u=function(e,t){var n=jv(t);if(void 0===n)return null;var r,i=b(sm(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=b(Uv(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=b(sm(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=b(Uv(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?um(e,o.fieldPath,e.startAt):cm(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new km(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=b(Uv(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?cm(e,o.fieldPath,e.endAt):um(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new km(r,i)}(a,i),h=n.nn(i,a,l),d=n.nn(i,a,f),p=n.sn(i,a,c),v=n.rn(i.indexId,u,h,l.inclusive,d,f.inclusive,p);return Yv.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=Mv.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Yv.resolve(null)}))}},{key:"tn",value:function(e){var t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}},{key:"rn",value:function(e,t,n,r,i,a,o){for(var s=this,c=(null!=t?t.length:1)*Math.max(n.length,i.length),l=c/(null!=t?t.length:1),f=[],h=function(c){var h=t?s.on(t[c/l]):Ob,d=s.un(e,h,n[c%l],r),p=s.cn(e,h,i[c%l],a),v=o.map((function(t){return s.un(e,h,t,!0)}));f.push.apply(f,u(s.createRange(d,p,v)))},d=0;d<c;++d)h(d);return f}},{key:"un",value:function(e,t,n,r){var i=new Tb(e,Mv.empty(),t,n);return r?i:i.Ke()}},{key:"cn",value:function(e,t,n,r){var i=new Tb(e,Mv.empty(),t,n);return r?i.Ke():i}},{key:"en",value:function(e,t){var n=new Rb(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=b(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return Yv.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new vg(Pv.comparator),r=!1,i=b(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,s=b(e.orderBy);try{for(s.s();!(o=s.n()).done;){var u=o.value;u.field.isKeyField()||(n=n.add(u.field))}}catch(c){s.e(c)}finally{s.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"an",value:function(e,t){var n,r=new Cb,i=b(Uv(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.qe(a.kind);wb.Te.ce(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.$e()}},{key:"on",value:function(e){var t=new Cb;return wb.Te.ce(e,t.qe(0)),t.$e()}},{key:"hn",value:function(e,t){var n=new Cb;return wb.Te.ce(Bg(this.databaseId,t),n.qe(function(e){var t=Uv(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"sn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Cb);var i,a=0,o=b(Uv(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=b(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.ln(t,u.fieldPath)&&qg(c))r=this.fn(r,u,c);else{var h=f.qe(u.kind);wb.Te.ce(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.dn(r)}},{key:"nn",value:function(e,t,n){return this.sn(e,t,n.position)}},{key:"dn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"fn",value:function(e,t,n){var r,i=u(e),a=[],o=b(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,c=r.value,l=b(i);try{for(l.s();!(s=l.n()).done;){var f=s.value,h=new Cb;h.seed(f.$e()),wb.Te.ce(c,h.qe(t.kind)),a.push(h)}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"ln",value:function(e,t){return!!e.filters.find((function(e){return e instanceof lm&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=jb(e),i=Ub(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return Yv.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Bv(t.sequenceNumber,new Hv(ub(t.readTime),new Mv(Tk(t.documentKey)),t.largestBatchId)):Bv.empty(),r=e.fields.map((function(e){var t=f(e,2),n=t[0],r=t[1];return new Vv(Pv.fromServerFormat(n),r)}));return new Fv(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Cv(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=jb(e),a=Ub(e);return this._n(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Yv.forEach(t,(function(t){return a.put(vb(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Yv.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Yv.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Yv.forEach(a,(function(r){return n.wn(e,t,r).next((function(t){var a=n.mn(i,r);return t.isEqual(a)?Yv.resolve():n.gn(e,i,r,t,a)}))}))}))}))}},{key:"yn",value:function(e,t,n,r){return Fb(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"pn",value:function(e,t,n,r){return Fb(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(n,t.key),t.key.path.toArray()])}},{key:"wn",value:function(e,t,n){var r=Fb(e),i=new vg(Ab);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.hn(n,t)])},(function(e,r){i=i.add(new Tb(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"mn",value:function(e,t){var n=new vg(Ab),r=this.an(t,e);if(null==r)return n;var i=jv(t);if(null!=i){var a=e.data.field(i.fieldPath);if(qg(a)){var o,s=b(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new Tb(t.indexId,e.key,this.on(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new Tb(t.indexId,e.key,Ob,r));return n}},{key:"gn",value:function(e,t,n,r,i){var a=this;sv("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=mg(a),u=mg(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=mg(o)):l?(i(s),s=mg(a)):(s=mg(a),u=mg(o))}}(r,i,Ab,(function(r){o.push(a.yn(e,t,n,r))}),(function(r){o.push(a.pn(e,t,n,r))})),Yv.waitFor(o)}},{key:"_n",value:function(e){var t=1;return Ub(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Ab(e,t)})).filter((function(e,t,n){return!t||0!==Ab(e,n[t-1])}));var r=[];r.push(e);var i,a=b(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=Ab(o,e),u=Ab(o,t);if(0===s)r[0]=e.Ke();else if(s>0&&u<0)r.push(o),r.push(o.Ke());else if(u>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Ob,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Ob,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Vb)}},{key:"getMinOffset",value:function(e,t){var n=this;return Yv.mapArray(this.tn(t),(function(t){return n.en(e,t).next((function(e){return e||fv()}))})).next(Vb)}}]),e}();function Mb(e){return Jk(e,"collectionParents")}function Fb(e){return Jk(e,"indexEntries")}function jb(e){return Jk(e,"indexConfiguration")}function Ub(e){return Jk(e,"indexState")}function Vb(e){hv(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Gv(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Hv(t.readTime,t.documentKey,n)}var Bb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zb=function(){function e(t,n,r){m(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return k(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function qb(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Z({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){hv(1===s)})));var c,l=[],f=b(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Rk(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Yv.waitFor(a).next((function(){return l}))}function Hb(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw fv();t=e.noDocument}return JSON.stringify(t).length}zb.DEFAULT_COLLECTION_PERCENTILE=10,zb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zb.DEFAULT=new zb(41943040,zb.DEFAULT_COLLECTION_PERCENTILE,zb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zb.DISABLED=new zb(-1,0,0);var Gb=function(){function e(t,n,r,i){m(this,e),this.userId=t,this.It=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return k(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Kb(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Qb(e),o=Kb(e);return o.add({}).next((function(s){hv("number"==typeof s);var u,c=new eb(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return fk(e.re,t)})),i=n.mutations.map((function(t){return fk(e.re,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.It,i.userId,c),f=[],h=new vg((function(e,t){return Cv(e.canonicalString(),t.canonicalString())})),d=b(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=Rk(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Dk))}}catch(g){d.e(g)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[s]=c.keys()})),Yv.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Kb(e).get(t).next((function(e){return e?(hv(e.userId===n.userId),cb(n.It,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?Yv.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Kb(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(hv(t.batchId>=r),a=cb(n.It,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Kb(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Kb(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return cb(t.It,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Nk(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Qb(e).Z({range:i},(function(r,i,o){var s=f(r,3),u=s[0],c=s[1],l=s[2],h=Tk(c);if(u===n.userId&&t.path.isEqual(h))return Kb(e).get(l).next((function(e){if(!e)throw fv();hv(e.userId===n.userId),a.push(cb(n.It,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new vg(Cv),i=[];return t.forEach((function(t){var a=Nk(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=Qb(e).Z({range:o},(function(e,i,a){var o=f(e,3),s=o[0],u=o[1],c=o[2],l=Tk(u);s===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(s)})),Yv.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Nk(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new vg(Cv);return Qb(e).Z({range:o},(function(e,t,a){var o=f(e,3),u=o[0],c=o[1],l=o[2],h=Tk(c);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(l)):a.done()})).next((function(){return n.En(e,s)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Kb(e).get(t).next((function(e){if(null===e)throw fv();hv(e.userId===n.userId),r.push(cb(n.It,e))})))})),Yv.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return qb(e.ie,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),Yv.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Yv.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Qb(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Tk(e[1]);i.push(a)}else r.done()})).next((function(){hv(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Wb(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return $b(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"oe",value:function(t,n,r,i){return hv(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Wb(e,t,n){var r=Nk(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Qb(e).Z({range:a,X:!0},(function(e,n,r){var a=f(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function Kb(e){return Jk(e,"mutations")}function Qb(e){return Jk(e,"documentMutations")}function $b(e){return Jk(e,"mutationQueues")}var Yb=function(){function e(t){m(this,e),this.bn=t}return k(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),Xb=function(){function e(t,n){m(this,e),this.referenceDelegate=t,this.It=n}return k(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new Yb(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return Rv.fromTimestamp(new Nv(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Zb(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return hv(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Zb(e).Z((function(o,s){var u=lb(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return Yv.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Zb(e).Z((function(e,n){var r=lb(n);t(r)}))}},{key:"Vn",value:function(e){return Jb(e).get("targetGlobalKey").next((function(e){return hv(null!==e),e}))}},{key:"Sn",value:function(e,t){return Jb(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return Zb(e).put(fb(this.It,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=im(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Zb(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=lb(n);am(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=ew(e);return t.forEach((function(t){var o=Sk(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Yv.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=ew(e);return Yv.forEach(t,(function(t){var a=Sk(t.path);return Yv.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=ew(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ew(e),i=Py();return r.Z({range:n,X:!0},(function(e,t,n){var r=Tk(e[1]),a=new Mv(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Sk(t.path),r=IDBKeyRange.bound([n],[Av(n)],!1,!0),i=0;return ew(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=f(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"se",value:function(e,t){return Zb(e).get(t).next((function(e){return e?lb(e):null}))}}]),e}();function Zb(e){return Jk(e,"targets")}function Jb(e){return Jk(e,"targetGlobal")}function ew(e){return Jk(e,"targetDocuments")}function tw(e,t){var n=f(e,2),r=n[0],i=n[1],a=f(t,2),o=a[0],s=a[1],u=Cv(r,o);return 0===u?Cv(i,s):u}var nw=function(){function e(t){m(this,e),this.xn=t,this.buffer=new vg(tw),this.Nn=0}return k(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();tw(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),rw=function(){function e(t,n,r){m(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return k(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;sv("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,v(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!tg(e.t0)){e.next=12;break}sv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Qv(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),iw=function(){function e(t,n){m(this,e),this.$n=t,this.params=n}return k(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Yv.resolve(ug.at);var r=new nw(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(sv("LruGarbageCollector","Garbage collection skipped; disabled"),Yv.resolve(Bb)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(sv("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Bb):n.Un(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"Un",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(sv("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),ov()<=de.DEBUG&&sv("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),Yv.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),aw=function(){function e(t,n){m(this,e),this.db=t,this.garbageCollector=function(e,t){return new iw(e,t)}(this,n)}return k(e,[{key:"Bn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"qn",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return ow(e,n)}},{key:"removeReference",value:function(e,t,n){return ow(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return ow(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return $b(e).tt((function(r){return Wb(e,r,t).next((function(e){return e&&(n=!0),Yv.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,s){if(s<=t){var u=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Rv.min()),ew(e).delete([0,Sk(o.path)])}))}));i.push(u)}})).next((function(){return Yv.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return ow(e,t)}},{key:"Kn",value:function(e,t){var n,r=ew(e),i=ug.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=f(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==ug.at&&t(new Mv(Tk(n)),i),i=u,n=s):i=ug.at})).next((function(){i!==ug.at&&t(new Mv(Tk(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function ow(e,t){return ew(e).put(function(e,t){return{targetId:0,path:Sk(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var sw=function(){function e(){m(this,e),this.changes=new Iy((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return k(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,tm.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Yv.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),uw=function(){function e(t){m(this,e),this.It=t}return k(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return hw(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return hw(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],ob(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=tm.newInvalidDocument(t);return hw(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(dw(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:tm.newInvalidDocument(t)};return hw(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(dw(t))},(function(e,i){r={document:n.jn(t,i),size:Hb(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Ey();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=Ey(),i=new hg(Mv.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,Hb(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return Yv.resolve();var r=new vg(vw);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(dw(r.first()),dw(r.last())),a=r.getIterator(),o=a.getNext();return hw(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Mv.fromSegments([].concat(u(t.prefixPath),[t.collectionGroup,t.documentId]));o&&vw(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(dw(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),ob(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return hw(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Ey(),i=b(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(Mv.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(s){i.e(s)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Ey(),o=pw(t,n),s=pw(t,Hv.max());return hw(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.jn(Mv.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new lw(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return fw(e).get("remoteDocumentGlobalKey").next((function(e){return hv(!!e),e}))}},{key:"Qn",value:function(e,t){return fw(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=ck(e.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Mv.fromSegments(t.noDocument.path),i=ub(t.noDocument.readTime);n=tm.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return fv();var a=Mv.fromSegments(t.unknownDocument.path),o=ub(t.unknownDocument.version);n=tm.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Nv(e[0],e[1]);return Rv.fromTimestamp(t)}(t.readTime)),n}(this.It,t);if(!n.isNoDocument()||!n.version.isEqual(Rv.min()))return n}return tm.newInvalidDocument(e)}}]),e}();function cw(e){return new uw(e)}var lw=function(e){_(n,e);var t=C(n);function n(e,r){var i;return m(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new Iy((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return k(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new vg((function(e,t){return Cv(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=ab(t.Yn.It,o);i=i.add(a.path.popLast());var c=Hb(u);r+=c-s.size,n.push(t.Yn.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=ab(t.Yn.It,o.convertToNoDocument(Rv.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),Yv.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(sw);function fw(e){return Jk(e,"remoteDocumentGlobal")}function hw(e){return Jk(e,"remoteDocumentsV14")}function dw(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function pw(e,t){var n=t.documentKey.path.toArray();return[e,ob(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function vw(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Cv(n[a],r[a]))return i;return(i=Cv(n.length,r.length))||((i=Cv(n[n.length-2],r[r.length-2]))||Cv(n[n.length-1],r[r.length-1]))}var gw=k((function e(t,n){m(this,e),this.overlayedDocument=t,this.mutatedFields=n})),mw=function(){function e(t,n,r,i){m(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return k(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&cy(r.mutation,e,yg.empty(),Nv.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Py()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Py(),i=Ny();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Ty();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Ny();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Py())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Ey(),a=Dy(),o=Dy();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof dy)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),cy(o.mutation,t,o.mutation.getFieldMask(),Nv.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new gw(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Dy(),i=new hg((function(e,t){return e-t})),a=Py();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=b(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||yg.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||Py()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=Ry();c.forEach((function(e){if(!a.has(e)){var n=sy(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return Yv.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Mv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Nm(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Yv.resolve(Ny()),s=-1,u=a;return o.next((function(t){return Yv.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?Yv.resolve():i.getBaseDocument(e,t,n).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,Py())})).next((function(e){return{batchId:s,changes:Ay(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Mv(t)).next((function(e){var t=Ty();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Ty();return this.indexManager.getCollectionParents(e,i).next((function(o){return Yv.forEach(o,(function(o){var s=function(e,t){return new Im(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,tm.newInvalidDocument(n)))}));var n=Ty();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&cy(a.mutation,i,yg.empty(),Nv.now()),Fm(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):Yv.resolve(tm.newInvalidDocument(t))}}]),e}(),yw=function(){function e(t){m(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return k(e,[{key:"getBundleMetadata",value:function(e,t){return Yv.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:Jy(n.createTime)}),Yv.resolve()}},{key:"getNamedQuery",value:function(e,t){return Yv.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:hb(e.bundledQuery),readTime:Jy(e.readTime)}}(t)),Yv.resolve()}}]),e}(),kw=function(){function e(){m(this,e),this.overlays=new hg(Mv.comparator),this.es=new Map}return k(e,[{key:"getOverlay",value:function(e,t){return Yv.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Ny();return Yv.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),Yv.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),Yv.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Ny(),i=t.length+1,a=new Mv(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Yv.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new hg((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=Ny(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Ny(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Yv.resolve(u)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new nb(t,n));var a=this.es.get(t);void 0===a&&(a=Py(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),bw=function(){function e(){m(this,e),this.ns=new vg(ww.ss),this.rs=new vg(ww.os)}return k(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new ww(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new ww(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new Mv(new Lv([])),r=new ww(n,e),i=new ww(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new Mv(new Lv([])),n=new ww(t,e),r=new ww(t,e+1),i=Py();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new ww(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),ww=function(){function e(t,n){m(this,e),this.key=t,this._s=n}return k(e,null,[{key:"ss",value:function(e,t){return Mv.comparator(e.key,t.key)||Cv(e._s,t._s)}},{key:"os",value:function(e,t){return Cv(e._s,t._s)||Mv.comparator(e.key,t.key)}}]),e}(),xw=function(){function e(t,n){m(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new vg(ww.ss)}return k(e,[{key:"checkEmpty",value:function(e){return Yv.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new eb(i,t,n,r);this.mutationQueue.push(a);var o,s=b(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.gs=this.gs.add(new ww(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Yv.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Yv.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return Yv.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Yv.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return Yv.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new ww(t,0),i=new ww(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),Yv.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new vg(Cv);return t.forEach((function(e){var t=new ww(e,0),i=new ww(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),Yv.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Mv.isDocumentKey(i)||(i=i.child(""));var a=new ww(new Mv(i),0),o=new vg(Cv);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),Yv.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;hv(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return Yv.forEach(t.mutations,(function(i){var a=new ww(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new ww(t,0),r=this.gs.firstAfterOrEqual(n);return Yv.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Yv.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),_w=function(){function e(t){m(this,e),this.Es=t,this.docs=new hg(Mv.comparator),this.size=0}return k(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Yv.resolve(n?n.document.mutableCopy():tm.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Ey();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():tm.newInvalidDocument(e))})),Yv.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Ey(),i=new Mv(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||Gv(qv(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return Yv.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){fv()}},{key:"As",value:function(e,t){return Yv.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Iw(this)}},{key:"getSize",value:function(e){return Yv.resolve(this.size)}}]),e}(),Iw=function(e){_(n,e);var t=C(n);function n(e){var r;return m(this,n),(r=t.call(this)).Yn=e,r}return k(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),Yv.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(sw),Sw=function(){function e(t){m(this,e),this.persistence=t,this.Rs=new Iy((function(e){return im(e)}),am),this.lastRemoteSnapshotVersion=Rv.min(),this.highestTargetId=0,this.bs=0,this.Ps=new bw,this.targetCount=0,this.vs=Yb.Pn()}return k(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),Yv.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Yv.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Yv.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),Yv.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),Yv.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new Yb(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,Yv.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),Yv.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Yv.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Yv.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Yv.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return Yv.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),Yv.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Yv.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),Yv.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return Yv.resolve(n)}},{key:"containsKey",value:function(e,t){return Yv.resolve(this.Ps.containsKey(t))}}]),e}(),Ew=function(){function e(t,n){var r=this;m(this,e),this.Vs={},this.overlays={},this.Ss=new ug(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new Sw(this),this.indexManager=new Db,this.remoteDocumentCache=new _w((function(e){return r.referenceDelegate.xs(e)})),this.It=new ib(n),this.Ns=new yw(this.It)}return k(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new kw,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new xw(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;sv("MemoryPersistence","Starting transaction:",e);var i=new Cw(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return Yv.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Cw=function(e){_(n,e);var t=C(n);function n(e){var r;return m(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return k(n)}(Kv),Tw=function(){function e(t){m(this,e),this.persistence=t,this.Fs=new bw,this.$s=null}return k(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw fv()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),Yv.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),Yv.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),Yv.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Yv.forEach(this.Ls,(function(r){var i=Mv.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,Rv.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return Yv.or([function(){return Yv.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),Aw=function(){function e(t){m(this,e),this.It=t}return k(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new Xv("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ak,{unique:!0}),e.createObjectStore("documentMutations")}(e),Nw(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Yv.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Nw(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Rv.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ak,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Yv.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.qs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Hk});t.createIndex("collectionPathOverlayIndex",Gk,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Wk,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Lk});t.createIndex("documentKeyIndex",Ok),t.createIndex("collectionGroupIndex",Pk)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Vk}).createIndex("sequenceNumberIndex",Bk,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:zk}).createIndex("documentKeyIndex",qk,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=Hb(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return Yv.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return Yv.forEach(r,(function(r){hv(r.userId===n.userId);var i=cb(t.It,r);return qb(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new Lv(n),o=function(e){return[0,Sk(e)]}(a);r.push(t.get(o).next((function(n){return n?Yv.resolve():function(n){return t.put({targetId:0,path:Sk(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Yv.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Uk});var n=t.store("collectionParents"),r=new Lb,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Sk(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new Lv(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=f(e,3),r=(n[0],n[1]),a=(n[2],Tk(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=lb(r),a=fb(t.It,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Mv(Lv.fromString(i.document.name).popFirst(5)):i.noDocument?Mv.fromSegments(i.noDocument.path):i.unknownDocument?Mv.fromSegments(i.unknownDocument.path):fv()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return Yv.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=cw(this.It),a=new Ew(Tw.Bs,this.It.re);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Py();cb(n.It,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Yv.forEach(r,(function(e,r){var o=new rv(r),s=kb.oe(n.It,o),u=a.getIndexManager(o),c=Gb.oe(o,n.It,u,a.referenceDelegate);return new mw(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new Zk(t,ug.at),e).next()}))}))}}]),e}();function Nw(e){e.createObjectStore("targetDocuments",{keyPath:Fk}).createIndex("documentTargetsIndex",jk,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Mk,{unique:!0}),e.createObjectStore("targetGlobal")}var Rw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Dw=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(m(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=s,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new vv(pv.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new aw(this,i),this.ii=n+"main",this.It=new ib(u),this.ri=new Zv(this.ii,this.Xs,new Aw(this.It)),this.Cs=new Xb(this.referenceDelegate,this.It),this.remoteDocumentCache=cw(this.It),this.Ns=new gb,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&uv("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return k(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new vv(pv.FAILED_PRECONDITION,Rw);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new ug(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=v(d().mark((function n(r){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=v(d().mark((function t(n){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(v(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Ow(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(tg(t))return sv("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return sv("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return Lw(e).get("owner").next((function(e){return Yv.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return Ow(e).delete(this.clientId)}},{key:"yi",value:function(){var e=v(d().mark((function e(){var t,n,r,i,a=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Jk(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Yv.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=b(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?Yv.resolve(!0):Lw(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new vv(pv.FAILED_PRECONDITION,Rw);return!1}}return!(!t.networkEnabled||!t.inForeground)||Ow(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&sv("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=v(d().mark((function e(){var t=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Zk(e,ug.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Ow(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return Gb.oe(e,this.It,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Pb(e,this.It.re.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return kb.oe(this.It,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;sv("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.Xs)?Xk:14===i?Yk:13===i?$k:12===i?Qk:11===i?Kk:void fv();return this.ri.runTransaction(e,o,s,(function(i){return a=new Zk(i,r.Ss?r.Ss.next():ug.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw uv("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new vv(pv.FAILED_PRECONDITION,Wv);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return Lw(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new vv(pv.FAILED_PRECONDITION,Rw)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Lw(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=Lw(e);return n.get("owner").next((function(e){return t.mi(e)?(sv("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Yv.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(uv("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!M()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return sv("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return uv("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(hf){uv("Failed to set zombie client id.",hf)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(hf){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return Zv.C()}}]),e}();function Lw(e){return Jk(e,"owner")}function Ow(e){return Jk(e,"clientMetadata")}function Pw(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Mw=function(){function e(t,n,r,i){m(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return k(e,null,[{key:"Ci",value:function(t,n){var r,i=Py(),a=Py(),o=b(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Fw=function(){function e(){m(this,e),this.xi=!1}return k(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(Cm(t))return Yv.resolve(null);var r=Dm(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Lm(t,null,"F"),r=Dm(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Py.apply(void 0,u(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,Lm(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return Cm(t)||r.isEqual(Rv.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(ov()<=de.DEBUG&&sv("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Mm(t)),i.Bi(e,o,t,zv(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new vg(Um(e));return t.forEach((function(t,r){Fm(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return ov()<=de.DEBUG&&sv("QueryEngine","Using full collection scan to execute query:",Mm(t)),this.Ni.getDocumentsMatchingQuery(e,t,Hv.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),jw=function(){function e(t,n,r,i){m(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new hg(Cv),this.qi=new Iy((function(e){return im(e)}),am),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return k(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mw(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function Uw(e,t,n,r){return new jw(e,t,n,r)}function Vw(e,t){return Bw.apply(this,arguments)}function Bw(){return Bw=v(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dv(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Py(),u=b(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=b(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=b(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var g,m=b(v.mutations);try{for(m.s();!(g=m.n()).done;){var y=g.value;s=s.add(y.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Bw.apply(this,arguments)}function zw(e,t){var n=dv(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Yv.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);hv(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Py(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function qw(e){var t=dv(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function Hw(e,t){var n=dv(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(kg.EMPTY_BYTE_STRING,Rv.min()).withLastLimboFreeSnapshotVersion(Rv.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var s=Ey(),u=Py();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Gw(e,a,t.documentUpdates).next((function(e){s=e.Wi,u=e.zi}))),!r.isEqual(Rv.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Yv.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Ui=i,e}))}function Gw(e,t,n){var r=Py(),i=Py();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Ey();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Rv.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):sv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function Ww(e,t){var n=dv(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Kw(e,t){var n=dv(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,Yv.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new rb(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function Qw(e,t,n){return $w.apply(this,arguments)}function $w(){return $w=v(d().mark((function e(t,n,r){var i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=dv(t),a=i.Ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),tg(e.t1)){e.next=12;break}throw e.t1;case 12:sv("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),$w.apply(this,arguments)}function Yw(e,t,n){var r=dv(e),i=Rv.min(),a=Py();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=dv(e),i=r.qi.get(n);return void 0!==i?Yv.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,Dm(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:Rv.min(),n?a:Py())})).next((function(e){return Jw(r,jm(t),e),{documents:e,Hi:a}}))}))}function Xw(e,t){var n=dv(e),r=dv(n.Cs),i=n.Ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.se(e,t).next((function(e){return e?e.target:null}))}))}function Zw(e,t){var n=dv(e),r=n.Ki.get(t)||Rv.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,zv(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Jw(n,t,e),e}))}function Jw(e,t,n){var r=e.Ki.get(t)||Rv.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function ex(e,t,n,r){return tx.apply(this,arguments)}function tx(){return tx=v(d().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,p,v;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=dv(t),o=Py(),s=Ey(),u=b(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),s=s.insert(f,h)}catch(d){u.e(d)}finally{u.f()}return p=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,Kw(a,function(e){return Dm(Em(Lv.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return v=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Gw(e,p,s).next((function(t){return p.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,v.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,v.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),tx.apply(this,arguments)}function nx(e,t){return rx.apply(this,arguments)}function rx(){return rx=v(d().mark((function e(t,n){var r,i,a,o=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Py(),e.next=3,Kw(t,Dm(hb(n.bundledQuery)));case 3:return i=e.sent,a=dv(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Jy(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(kg.EMPTY_BYTE_STRING,t);return a.Ui=a.Ui.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),rx.apply(this,arguments)}function ix(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function ax(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function ox(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var sx=function(){function e(t,n,r,i){m(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return k(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new vv(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(uv("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),ux=function(){function e(t,n,r){m(this,e),this.targetId=t,this.state=n,this.error=r}return k(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new vv(i.error.code,i.error.message))),a?new e(t,i.state,r):(uv("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),cx=function(){function e(t,n){m(this,e),this.clientId=t,this.activeTargetIds=n}return k(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Fy(),o=0;i&&o<r.activeTargetIds.length;++o)i=Rg(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(uv("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),lx=function(){function e(t,n){m(this,e),this.clientId=t,this.onlineState=n}return k(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(uv("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),fx=function(){function e(){m(this,e),this.activeTargetIds=Fy()}return k(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),hx=function(){function e(t,n,r,i,a){m(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new hg(Cv),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=ix(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new fx),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return k(e,[{key:"start",value:function(){var e=v(d().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=b(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(ix(this.persistenceKey,i)))&&(o=cx.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(s=this.storage.getItem(this.wr))&&(u=this.yr(s))&&this.pr(u),c=b(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(ox(this.persistenceKey,e));if(n){var r=ux.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(ox(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return sv("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){sv("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){sv("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(sv("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void uv("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(v(d().mark((function e(){var r,i,a,o,s,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(s));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}u=function(e){var t=ug.at;if(null!=e)try{var n=JSON.parse(e);hv("number"==typeof n),t=n}catch(e){uv("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==ug.at&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new sx(this.currentUser,e,t,n),i=ax(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=ax(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=ox(this.persistenceKey,e),i=new ux(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return cx.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return sx.Zi(new rv(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return ux.Zi(r,t)}},{key:"yr",value:function(e){return lx.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=v(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:sv("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Br(o,s).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=Fy();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),dx=function(){function e(){m(this,e),this.Lr=new fx,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return k(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new fx,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),px=function(){function e(){m(this,e)}return k(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),vx=function(){function e(){var t=this;m(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return k(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){sv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=b(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){sv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=b(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),gx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},mx=function(){function e(t){m(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return k(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),yx=function(e){_(n,e);var t=C(n);function n(e){var r;return m(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return k(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new tv;o.setWithCredentials(!0),o.listenOnce(Yp.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case $p.NO_ERROR:var t=o.getResponseJson();sv("Connection","XHR received:",JSON.stringify(t)),i(t);break;case $p.TIMEOUT:sv("Connection",'RPC "'+e+'" timed out'),a(new vv(pv.DEADLINE_EXCEEDED,"Request time out"));break;case $p.HTTP_ERROR:var n=o.getStatus();if(sv("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(pv).indexOf(t)>=0?t:pv.UNKNOWN}(r.status);a(new vv(s,r.message))}else a(new vv(pv.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new vv(pv.UNAVAILABLE,"Connection failed."));break;default:fv()}}finally{sv("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Kp(),a=Qp(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Jp({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var s=r.join("");sv("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new mx({Hr:function(e){l?sv("Connection","Not sending because WebChannel is closed:",e):(c||(sv("Connection","Opening WebChannel transport."),u.open(),c=!0),sv("Connection","WebChannel sending:",e),u.send(e))},Jr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,ev.EventType.OPEN,(function(){l||sv("Connection","WebChannel transport opened.")})),h(u,ev.EventType.CLOSE,(function(){l||(l=!0,sv("Connection","WebChannel transport closed"),f.io())})),h(u,ev.EventType.ERROR,(function(e){l||(l=!0,cv("Connection","WebChannel transport errored:",e),f.io(new vv(pv.UNAVAILABLE,"The operation could not be completed")))})),h(u,ev.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];hv(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){sv("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=my[e];if(void 0!==t)return _y(t)}(a),s=i.message;void 0===o&&(o=pv.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new vv(o,s)),u.close()}else sv("Connection","WebChannel received:",n),f.ro(n)}})),h(a,Xp.STAT_EVENT,(function(e){e.stat===Zp.PROXY?sv("Connection","Detected buffering proxy"):e.stat===Zp.NOPROXY&&sv("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){m(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return k(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);sv("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return sv("RestConnection","Received: ",e),e}),(function(t){throw cv("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+iv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=gx[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function kx(){return"undefined"!=typeof window?window:null}function bx(){return"undefined"!=typeof document?document:null}function wx(e){return new $y(e,!0)}var xx=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;m(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return k(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&sv("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),_x=function(){function e(t,n,r,i,a,o,s,u){m(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new xx(t,n)}return k(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=v(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=v(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=v(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===pv.RESOURCE_EXHAUSTED?(uv(n.toString()),uv("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===pv.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=f(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new vv(pv.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(v(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return sv("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(sv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Ix=function(e){_(n,e);var t=C(n);function n(e,r,i,a,o,s){var u;return m(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).It=o,u}return k(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:fv()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(hv(void 0===t||"string"==typeof t),kg.fromBase64String(t||"")):(hv(void 0===t||t instanceof Uint8Array),kg.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?pv.UNKNOWN:_y(e.code);return new vv(t,e.message||"")}(o);n=new zy(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=rk(e,u.document.name),l=Jy(u.document.updateTime),f=new Jg({mapValue:{fields:u.document.fields}}),h=tm.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new Vy(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var g=rk(e,v.document),m=v.readTime?Jy(v.readTime):Rv.min(),y=tm.newNoDocument(g,m),k=v.removedTargetIds||[];n=new Vy([],k,y.key,y)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=rk(e,b.document),x=b.removedTargetIds||[];n=new Vy([],x,w,null)}else{if(!("filter"in t))return fv();t.filter;var _=t.filter;_.targetId;var I=_.count||0,S=new wy(I),E=_.targetId;n=new By(E,S)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return Rv.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Rv.min():t.readTime?Jy(t.readTime):Rv.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=ok(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=om(r)?{documents:dk(e,r)}:{query:pk(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Xy(e,t.resumeToken):t.snapshotVersion.compareTo(Rv.min())>0&&(n.readTime=Yy(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return fv()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=ok(this.It),t.removeTarget=e,this.Bo(t)}}]),n}(_x),Sx=function(e){_(n,e);var t=C(n);function n(e,r,i,a,o,s){var u;return m(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).It=o,u.Jo=!1,u}return k(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,Ft(I(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(hv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(hv(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Jy(e.updateTime):Jy(t);return n.isEqual(Rv.min())&&(n=Jy(t)),new ry(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Jy(e.commitTime);return this.listener.Zo(n,t)}return hv(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=ok(this.It),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return fk(t.It,e)}))};this.Bo(n)}}]),n}(_x),Ex=function(e){_(n,e);var t=C(n);function n(e,r,i,a){var o;return m(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.It=a,o.nu=!1,o}return k(n,[{key:"su",value:function(){if(this.nu)throw new vv(pv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=f(i,2),o=a[0],s=a[1];return r.connection.ao(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===pv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new vv(pv.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=f(a,2),s=o[0],u=o[1];return i.connection._o(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===pv.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new vv(pv.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return k((function e(){m(this,e)}))}());var Cx=function(){function e(t,n){m(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return k(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(uv(t),this.ou=!1):sv("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),Tx=k((function e(t,n,r,i,a){var o=this;m(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr((function(e){r.enqueueAndForget(v(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Ux(o),!e.t0){e.next=5;break}return sv("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=v(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=dv(t))._u.add(4),e.next=4,Rx(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,Ax(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new Cx(r,i)}));function Ax(e){return Nx.apply(this,arguments)}function Nx(){return Nx=v(d().mark((function e(t){var n,r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ux(t)){e.next=18;break}n=b(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Nx.apply(this,arguments)}function Rx(e){return Dx.apply(this,arguments)}function Dx(){return Dx=v(d().mark((function e(t){var n,r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=b(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Dx.apply(this,arguments)}function Lx(e,t){var n=dv(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),jx(n)?Fx(n):p_(n).ko()&&Px(n,t))}function Ox(e,t){var n=dv(e),r=p_(n);n.du.delete(t),r.ko()&&Mx(n,t),0===n.du.size&&(r.ko()?r.Fo():Ux(n)&&n.gu.set("Unknown"))}function Px(e,t){e.yu.Mt(t.targetId),p_(e).zo(t)}function Mx(e,t){e.yu.Mt(t),p_(e).Ho(t)}function Fx(e){e.yu=new Hy({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e.du.get(t)||null}}),p_(e).start(),e.gu.uu()}function jx(e){return Ux(e)&&!p_(e).No()&&e.du.size>0}function Ux(e){return 0===dv(e)._u.size}function Vx(e){e.yu=void 0}function Bx(e){return zx.apply(this,arguments)}function zx(){return zx=v(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){Px(t,e)}));case 1:case"end":return e.stop()}}),e)}))),zx.apply(this,arguments)}function qx(e,t){return Hx.apply(this,arguments)}function Hx(){return Hx=v(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Vx(t),jx(t)?(t.gu.hu(n),Fx(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Hx.apply(this,arguments)}function Gx(e,t,n){return Wx.apply(this,arguments)}function Wx(){return Wx=v(d().mark((function e(t,n,r){var i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof zy&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=v(d().mark((function e(t,n){var r,i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=b(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),sv("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Kx(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Vy?t.yu.Gt(n):n instanceof By?t.yu.Yt(n):t.yu.Wt(n),r.isEqual(Rv.min())){e.next=29;break}return e.prev=14,e.next=17,qw(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(kg.EMPTY_BYTE_STRING,n.snapshotVersion)),Mx(e,t);var r=new rb(n.target,t,1,n.sequenceNumber);Px(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),sv("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Kx(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Wx.apply(this,arguments)}function Kx(e,t,n){return Qx.apply(this,arguments)}function Qx(){return Qx=v(d().mark((function e(t,n,r){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(tg(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,Rx(t);case 5:t.gu.set("Offline"),r||(r=function(){return qw(t.localStore)}),t.asyncQueue.enqueueRetryable(v(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sv("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,Ax(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Qx.apply(this,arguments)}function $x(e,t){return t().catch((function(n){return Kx(e,n,t)}))}function Yx(e){return Xx.apply(this,arguments)}function Xx(){return Xx=v(d().mark((function e(t){var n,r,i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=dv(t),r=v_(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!Zx(n)){e.next=19;break}return e.prev=3,e.next=6,Ww(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,Jx(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Kx(n,e.t0);case 17:e.next=2;break;case 19:e_(n)&&t_(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Xx.apply(this,arguments)}function Zx(e){return Ux(e)&&e.fu.length<10}function Jx(e,t){e.fu.push(t);var n=v_(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function e_(e){return Ux(e)&&!v_(e).No()&&e.fu.length>0}function t_(e){v_(e).start()}function n_(e){return r_.apply(this,arguments)}function r_(){return r_=v(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v_(t).eu();case 1:case"end":return e.stop()}}),e)}))),r_.apply(this,arguments)}function i_(e){return a_.apply(this,arguments)}function a_(){return a_=v(d().mark((function e(t){var n,r,i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=v_(t),r=b(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),a_.apply(this,arguments)}function o_(e,t,n){return s_.apply(this,arguments)}function s_(){return s_=v(d().mark((function e(t,n,r){var i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=tb.from(i,n,r),e.next=3,$x(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Yx(t);case 5:case"end":return e.stop()}}),e)}))),s_.apply(this,arguments)}function u_(e,t){return c_.apply(this,arguments)}function c_(){return c_=v(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&v_(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=v(d().mark((function e(t,n){var r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!xy(i=n.code)||i===pv.ABORTED){e.next=7;break}return r=t.fu.shift(),v_(t).Mo(),e.next=5,$x(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Yx(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e_(t)&&t_(t);case 5:case"end":return e.stop()}}),e)}))),c_.apply(this,arguments)}function l_(e,t){return f_.apply(this,arguments)}function f_(){return f_=v(d().mark((function e(t,n){var r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=dv(t)).asyncQueue.verifyOperationInProgress(),sv("RemoteStore","RemoteStore received new credentials"),i=Ux(r),r._u.add(3),e.next=6,Rx(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,Ax(r);case 12:case"end":return e.stop()}}),e)}))),f_.apply(this,arguments)}function h_(e,t){return d_.apply(this,arguments)}function d_(){return d_=v(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=dv(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,Ax(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,Rx(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),d_.apply(this,arguments)}function p_(e){return e.pu||(e.pu=function(e,t,n){var r=dv(e);return r.su(),new Ix(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:Bx.bind(null,e),Zr:qx.bind(null,e),Wo:Gx.bind(null,e)}),e.wu.push(function(){var t=v(d().mark((function t(n){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),jx(e)?Fx(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:Vx(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function v_(e){return e.Iu||(e.Iu=function(e,t,n){var r=dv(e);return r.su(),new Sx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:n_.bind(null,e),Zr:u_.bind(null,e),tu:i_.bind(null,e),Zo:o_.bind(null,e)}),e.wu.push(function(){var t=v(d().mark((function t(n){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,Yx(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(sv("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var g_=function(){function e(t,n,r,i,a){m(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new gv,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return k(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vv(pv.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function m_(e,t){if(uv("AsyncQueue","".concat(t,": ").concat(e)),tg(e))return new vv(pv.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var y_=function(){function e(t){m(this,e),this.comparator=t?function(e,n){return t(e,n)||Mv.comparator(e.key,n.key)}:function(e,t){return Mv.comparator(e.key,t.key)},this.keyedMap=Ty(),this.sortedSet=new hg(this.comparator)}return k(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),k_=function(){function e(){m(this,e),this.Tu=new hg(Mv.comparator)}return k(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):fv():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),b_=function(){function e(t,n,r,i,a,o,s,u,c){m(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return k(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Om(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,y_.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),w_=k((function e(){m(this,e),this.Au=void 0,this.listeners=[]})),x_=k((function e(){m(this,e),this.queries=new Iy((function(e){return Pm(e)}),Om),this.onlineState="Unknown",this.Ru=new Set}));function __(e,t){return I_.apply(this,arguments)}function I_(){return I_=v(d().mark((function e(t,n){var r,i,a,o,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=dv(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new w_),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=m_(e.t0,"Initialization of query '".concat(Mm(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&A_(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),I_.apply(this,arguments)}function S_(e,t){return E_.apply(this,arguments)}function E_(){return E_=v(d().mark((function e(t,n){var r,i,a,o,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=dv(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),E_.apply(this,arguments)}function C_(e,t){var n,r=dv(e),i=!1,a=b(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=b(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&A_(r)}function T_(e,t,n){var r=dv(e),i=r.queries.get(t);if(i){var a,o=b(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function A_(e){e.Ru.forEach((function(e){e.next()}))}var N_=function(){function e(t,n,r){m(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return k(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=b(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new b_(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=b_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),R_=function(){function e(t,n){m(this,e),this.ku=t,this.byteLength=n}return k(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),D_=function(){function e(t){m(this,e),this.It=t}return k(e,[{key:"Ji",value:function(e){return rk(this.It,e)}},{key:"Yi",value:function(e){return e.metadata.exists?ck(this.It,e.document,!1):tm.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return Jy(e)}}]),e}(),L_=function(){function e(t,n,r){m(this,e),this.Mu=t,this.localStore=n,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=O_(t)}return k(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=Lv.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new D_(this.It),i=b(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Ji(a.metadata.name),u=b(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||Py()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=v(d().mark((function e(){var t,n,r,i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ex(this.localStore,new D_(this.It),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=b(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,nx(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function O_(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var P_=k((function e(t){m(this,e),this.key=t})),M_=k((function e(t){m(this,e),this.key=t})),F_=function(){function e(t,n){m(this,e),this.query=t,this.Uu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Py(),this.mutatedKeys=Py(),this.Gu=Um(t),this.Qu=new y_(this.Gu)}return k(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new k_,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Fm(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Gu(f,u)>0||c&&n.Gu(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:s,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fv()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],s=0===this.Ku.size&&this.current?1:0,u=s!==this.qu;return this.qu=s,0!==a.length||u?{snapshot:new b_(this.query,e.Qu,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new k_,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=Py(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new M_(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new P_(e))})),n}},{key:"tc",value:function(e){this.Uu=e.Hi,this.Ku=Py();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return b_.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}]),e}(),j_=k((function e(t,n,r){m(this,e),this.query=t,this.targetId=n,this.view=r})),U_=k((function e(t){m(this,e),this.key=t,this.nc=!1})),V_=function(){function e(t,n,r,i,a,o){m(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Iy((function(e){return Pm(e)}),Om),this.rc=new Map,this.oc=new Set,this.uc=new hg(Mv.comparator),this.cc=new Map,this.ac=new bw,this.hc={},this.lc=new Map,this.fc=Yb.vn(),this.onlineState="Unknown",this.dc=void 0}return k(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function B_(e,t){return z_.apply(this,arguments)}function z_(){return z_=v(d().mark((function e(t,n){var r,i,a,o,s,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=OI(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,Kw(r.localStore,Dm(n));case 8:return s=e.sent,r.isPrimaryClient&&Lx(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,q_(r,n,i,"current"===u,s.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),z_.apply(this,arguments)}function q_(e,t,n,r,i){return H_.apply(this,arguments)}function H_(){return H_=v(d().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=v(d().mark((function e(t,n,r,i){var a,o,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,Yw(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(lI(t,n.targetId,s.Xu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Yw(t.localStore,n,!0);case 3:return o=e.sent,s=new F_(n,o.Hi),u=s.Wu(o.documents),c=Uy.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),lI(t,r,l.Xu),f=new j_(n,r,s),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),H_.apply(this,arguments)}function G_(e,t){return W_.apply(this,arguments)}function W_(){return W_=v(d().mark((function e(t,n){var r,i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=dv(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!Om(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Qw(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Ox(r.remoteStore,i.targetId),uI(r,i.targetId)})).catch(Qv);case 9:e.next=14;break;case 11:return uI(r,i.targetId),e.next=14,Qw(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),W_.apply(this,arguments)}function K_(e,t,n){return Q_.apply(this,arguments)}function Q_(){return Q_=v(d().mark((function e(t,n,r){var i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=PI(t),e.prev=1,e.next=4,function(e,t){var n,r,i=dv(e),a=Nv.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Py());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=Ey(),u=Py();return i.Gi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=b(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=ly(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new dy(c.key,l,em(l.value.mapValue),iy.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Ay(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new hg(Cv)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,dI(i,a.changes);case 9:return e.next=11,Yx(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=m_(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Q_.apply(this,arguments)}function $_(e,t){return Y_.apply(this,arguments)}function Y_(){return Y_=v(d().mark((function e(t,n){var r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dv(t),e.prev=1,e.next=4,Hw(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(hv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?hv(n.nc):e.removedDocuments.size>0&&(hv(n.nc),n.nc=!1))})),e.next=8,dI(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Qv(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Y_.apply(this,arguments)}function X_(e,t,n){var r=dv(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=dv(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=b(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&A_(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Z_(e,t,n){return J_.apply(this,arguments)}function J_(){return J_=v(d().mark((function e(t,n,r){var i,a,o,s,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=dv(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new hg(Mv.comparator)).insert(o,tm.newNoDocument(o,Rv.min())),u=Py().add(o),c=new jy(Rv.min(),new Map,new vg(Cv),s,u),e.next=9,$_(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),hI(i),e.next=16;break;case 14:return e.next=16,Qw(i.localStore,n,!1).then((function(){return uI(i,n,r)})).catch(Qv);case 16:case"end":return e.stop()}}),e)}))),J_.apply(this,arguments)}function eI(e,t){return tI.apply(this,arguments)}function tI(){return tI=v(d().mark((function e(t,n){var r,i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dv(t),i=n.batch.batchId,e.prev=1,e.next=4,zw(r.localStore,n);case 4:return a=e.sent,sI(r,i,null),oI(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,dI(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Qv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),tI.apply(this,arguments)}function nI(e,t,n){return rI.apply(this,arguments)}function rI(){return rI=v(d().mark((function e(t,n,r){var i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dv(t),e.prev=1,e.next=4,function(e,t){var n=dv(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return hv(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,sI(i,n,r),oI(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,dI(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Qv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),rI.apply(this,arguments)}function iI(e,t){return aI.apply(this,arguments)}function aI(){return aI=v(d().mark((function e(t,n){var r,i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ux((r=dv(t)).remoteStore)||sv("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=dv(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=m_(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),aI.apply(this,arguments)}function oI(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function sI(e,t,n){var r=dv(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function uI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=b(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||cI(e,t)}))}function cI(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(Ox(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),hI(e))}function lI(e,t,n){var r,i=b(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof P_?(e.ac.addReference(a.key,t),fI(e,a)):a instanceof M_?(sv("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||cI(e,a.key)):fv()}}catch(o){i.e(o)}finally{i.f()}}function fI(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(sv("SyncEngine","New document in limbo: "+n),e.oc.add(r),hI(e))}function hI(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new Mv(Lv.fromString(t)),r=e.fc.next();e.cc.set(r,new U_(n)),e.uc=e.uc.insert(n,r),Lx(e.remoteStore,new rb(Dm(Em(n.path)),r,2,ug.at))}}function dI(e,t,n){return pI.apply(this,arguments)}function pI(){return pI=v(d().mark((function e(t,n,r){var i,a,o,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=dv(t),a=[],o=[],s=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){s.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=Mw.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.sc.Wo(a),e.next=9,function(){var e=v(d().mark((function e(t,n){var r,i,a,o,s,u,c,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dv(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Yv.forEach(n,(function(t){return Yv.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Yv.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),tg(e.t0)){e.next=10;break}throw e.t0;case 10:sv("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=b(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Ui.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Ui=r.Ui.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),pI.apply(this,arguments)}function vI(e,t){return gI.apply(this,arguments)}function gI(){return gI=v(d().mark((function e(t,n){var r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=dv(t)).currentUser.isEqual(n)){e.next=11;break}return sv("SyncEngine","User change. New user:",n.toKey()),e.next=5,Vw(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new vv(pv.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,dI(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),gI.apply(this,arguments)}function mI(e,t){var n=dv(e),r=n.cc.get(t);if(r&&r.nc)return Py().add(r.key);var i=Py(),a=n.rc.get(t);if(!a)return i;var o,s=b(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.ic.get(u);i=i.unionWith(c.view.ju)}}catch(l){s.e(l)}finally{s.f()}return i}function yI(e,t){return kI.apply(this,arguments)}function kI(){return kI=v(d().mark((function e(t,n){var r,i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dv(t),e.next=3,Yw(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&lI(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),kI.apply(this,arguments)}function bI(e,t){return wI.apply(this,arguments)}function wI(){return wI=v(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dv(t),e.abrupt("return",Zw(r.localStore,n).then((function(e){return dI(r,e)})));case 2:case"end":return e.stop()}}),e)}))),wI.apply(this,arguments)}function xI(e,t,n,r){return _I.apply(this,arguments)}function _I(){return _I=v(d().mark((function e(t,n,r,i){var a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=dv(t),e.next=3,function(e,t){var n=dv(e),r=dv(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Yv.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Yx(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(sI(a,n,i||null),oI(a,n),function(e,t){dv(dv(e).mutationQueue).An(t)}(a.localStore,n)):fv();case 11:return e.next=13,dI(a,o);case 13:e.next=16;break;case 15:sv("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),_I.apply(this,arguments)}function II(e,t){return SI.apply(this,arguments)}function SI(){return SI=v(d().mark((function e(t,n){var r,i,a,o,s,u,c,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(OI(r=dv(t)),PI(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,EI(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,h_(r.remoteStore,!0);case 9:o=b(a);try{for(o.s();!(s=o.n()).done;)u=s.value,Lx(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return uI(r,t),Qw(r.localStore,t,!0)})),Ox(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,EI(r,c);case 21:return function(e){var t=dv(e);t.cc.forEach((function(e,n){Ox(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new hg(Mv.comparator)}(r),r.dc=!1,e.next=25,h_(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),SI.apply(this,arguments)}function EI(e,t,n){return CI.apply(this,arguments)}function CI(){return CI=v(d().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,p,v,g,m,y;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=dv(t),a=[],o=[],s=b(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,Kw(i.localStore,Dm(f[0]));case 11:l=e.sent,h=b(f),e.prev=13,h.s();case 15:if((p=h.n()).done){e.next=24;break}return v=p.value,g=i.ic.get(v),e.next=20,yI(i,g);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Xw(i.localStore,c);case 36:return y=e.sent,e.next=39,Kw(i.localStore,y);case 39:return l=e.sent,e.next=42,q_(i,TI(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),CI.apply(this,arguments)}function TI(e){return Sm(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function AI(e){var t=dv(e);return dv(dv(t.localStore).persistence).vi()}function NI(e,t,n,r){return RI.apply(this,arguments)}function RI(){return RI=v(d().mark((function e(t,n,r,i){var a,o,s,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=dv(t)).dc){e.next=3;break}return e.abrupt("return",void sv("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Zw(a.localStore,jm(o[0]));case 10:return s=e.sent,u=jy.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,kg.EMPTY_BYTE_STRING),e.next=14,dI(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,Qw(a.localStore,n,!0);case 17:return uI(a,n,i),e.abrupt("break",20);case 19:fv();case 20:case"end":return e.stop()}}),e)}))),RI.apply(this,arguments)}function DI(e,t,n){return LI.apply(this,arguments)}function LI(){return LI=v(d().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=OI(t)).dc){e.next=45;break}a=b(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.rc.has(s)){e.next=10;break}return sv("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,Xw(i.localStore,s);case 12:return u=e.sent,e.next=15,Kw(i.localStore,u);case 15:return c=e.sent,e.next=18,q_(i,TI(u),c.targetId,!1,c.resumeToken);case 18:Lx(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=b(r),e.prev=30,h=d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,Qw(i.localStore,t,!1).then((function(){Ox(i.remoteStore,t),uI(i,t)})).catch(Qv);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),LI.apply(this,arguments)}function OI(e){var t=dv(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=$_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=mI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Z_.bind(null,t),t.sc.Wo=C_.bind(null,t.eventManager),t.sc.wc=T_.bind(null,t.eventManager),t}function PI(e){var t=dv(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=eI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=nI.bind(null,t),t}function MI(e,t,n){var r=dv(e);(function(){var e=v(d().mark((function e(t,n,r){var i,a,o,s,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=dv(e),r=Jy(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(O_(i)),a=new L_(i,t.localStore,n.It),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,dI(t,u.Lu,void 0);case 31:return e.next=33,function(e,t){var n=dv(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(cv("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var FI=function(){function e(){m(this,e),this.synchronizeTabs=!1}return k(e,[{key:"initialize",value:function(){var e=v(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=wx(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return Uw(this.persistence,new Fw,e.initialUser,this.It)}},{key:"yc",value:function(e){return new Ew(Tw.Bs,this.It)}},{key:"gc",value:function(e){return new dx}},{key:"terminate",value:function(){var e=v(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),jI=function(e){_(n,e);var t=C(n);function n(e,r,i){var a;return m(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return k(n,[{key:"initialize",value:function(){var e=v(d().mark((function e(t){var r=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ft(I(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,PI(this.Ac.syncEngine);case 6:return e.next=8,Yx(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return Uw(this.persistence,new Fw,e.initialUser,this.It)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new rw(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new sg(t,this.persistence);return new og(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=Pw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?zb.withCacheSize(this.cacheSizeBytes):zb.DEFAULT;return new Dw(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,kx(),bx(),this.It,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new dx}}]),n}(FI),UI=function(e){_(n,e);var t=C(n);function n(e,r){var i;return m(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return k(n,[{key:"initialize",value:function(){var e=v(d().mark((function e(t){var r,i=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ft(I(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof hx,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:xI.bind(null,r),$r:NI.bind(null,r),Br:DI.bind(null,r),vi:AI.bind(null,r),Mr:bI.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=v(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,II(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=kx();if(!hx.C(t))throw new vv(pv.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Pw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new hx(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(jI),VI=function(){function e(){m(this,e)}return k(e,[{key:"initialize",value:function(){var e=v(d().mark((function e(t,n){var r=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return X_(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=vI.bind(null,this.syncEngine),e.next=12,h_(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new x_}},{key:"createDatastore",value:function(e){var t,n=wx(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new yx(t));return function(e,t,n,r){return new Ex(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return X_(o.syncEngine,e,0)},a=vx.C()?new vx:new px,new Tx(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new V_(e,t,n,r,i,a);return o&&(s.dc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=v(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=dv(t),sv("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,Rx(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function BI(e,t,n){if(!n)throw new vv(pv.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function zI(e,t,n,r){if(!0===t&&!0===r)throw new vv(pv.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function qI(e){if(!Mv.isDocumentKey(e))throw new vv(pv.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function HI(e){if(Mv.isDocumentKey(e))throw new vv(pv.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function GI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":fv()}function WI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new vv(pv.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=GI(e);throw new vv(pv.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function KI(e,t){if(t<=0)throw new vv(pv.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var QI=new Map,$I=function(){function e(t){var n;if(m(this,e),void 0===t.host){if(void 0!==t.ssl)throw new vv(pv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new vv(pv.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,zI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return k(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),YI=function(){function e(t,n,r,i){m(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $I({}),this._settingsFrozen=!1}return k(e,[{key:"app",get:function(){if(!this._app)throw new vv(pv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new vv(pv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $I(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new yv;switch(e.type){case"gapi":var t=e.client;return new xv(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new vv(pv.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=QI.get(e);t&&(sv("ComponentProvider","Removing Datastore"),QI.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function XI(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=WI(e,YI))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&cv("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=rv.MOCK_USER;else{o=Q(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new vv(pv.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new rv(u)}e._authCredentials=new kv(new mv(o,s))}}var ZI=function(){function e(t,n,r){m(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return k(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new eS(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),JI=function(){function e(t,n,r){m(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return k(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),eS=function(e){_(n,e);var t=C(n);function n(e,r,i){var a;return m(this,n),(a=t.call(this,e,r,Em(i)))._path=i,a.type="collection",a}return k(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new ZI(this.firestore,null,new Mv(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(JI);function tS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ue(e),BI("collection","path",t),e instanceof YI){var a=Lv.fromString.apply(Lv,[t].concat(r));return HI(a),new eS(e,null,a)}if(!(e instanceof ZI||e instanceof eS))throw new vv(pv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Lv.fromString.apply(Lv,[t].concat(r)));return HI(o),new eS(e.firestore,null,o)}function nS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ue(e),1===arguments.length&&(t=Ev.R()),BI("doc","path",t),e instanceof YI){var a=Lv.fromString.apply(Lv,[t].concat(r));return qI(a),new ZI(e,null,new Mv(a))}if(!(e instanceof ZI||e instanceof eS))throw new vv(pv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Lv.fromString.apply(Lv,[t].concat(r)));return qI(o),new ZI(e.firestore,e instanceof eS?e.converter:null,new Mv(o))}function rS(e,t){return e=ue(e),t=ue(t),(e instanceof ZI||e instanceof eS)&&(t instanceof ZI||t instanceof eS)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function iS(e,t){return e=ue(e),t=ue(t),e instanceof JI&&t instanceof JI&&e.firestore===t.firestore&&Om(e._query,t._query)&&e.converter===t.converter}function aS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return v(d().mark((function r(){var i;return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return v(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var oS=function(){function e(t){m(this,e),this.observer=t,this.muted=!1}return k(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):uv("Uncaught Error in snapshot listener:",e)}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),sS=function(){function e(t,n){var r=this;m(this,e),this.Pc=t,this.It=n,this.metadata=new gv,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return k(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=v(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=v(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=v(d().mark((function e(){var t,n,r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new R_(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=v(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=v(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=v(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),uS=function(){function e(t){m(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return k(e,[{key:"lookup",value:function(){var e=v(d().mark((function e(t){var n,r=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new vv(pv.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=v(d().mark((function e(t,n){var r,i,a,o,s,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dv(t),i=ok(r.It)+"/documents",a={documents:n.map((function(e){return nk(r.It,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=lk(r.It,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());hv(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new ky(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=v(d().mark((function e(){var t,n=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Mv.fromPath(t);n.mutations.push(new by(r,n.precondition(r)))})),e.next=7,function(){var e=v(d().mark((function e(t,n){var r,i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dv(t),i=ok(r.It)+"/documents",a={writes:n.map((function(e){return fk(r.It,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw fv();t=Rv.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new vv(pv.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Rv.min())?iy.exists(!1):iy.updateTime(t):iy.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Rv.min()))throw new vv(pv.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return iy.updateTime(t)}return iy.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),cS=function(){function e(t,n,r,i,a){m(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new xx(this.asyncQueue,"transaction_retry")}return k(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro(v(d().mark((function t(){var n,r;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new uS(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!Ag(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!xy(t)}return!1}}]),e}(),lS=function(){function e(t,n,r,i){var a=this;m(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=rv.UNAUTHENTICATED,this.clientId=Ev.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=v(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sv("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return sv("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return k(e,[{key:"getConfiguration",value:function(){var e=v(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new vv(pv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new gv;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(v(d().mark((function n(){var r;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=m_(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function fS(e,t){return hS.apply(this,arguments)}function hS(){return hS=v(d().mark((function e(t,n){var r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),sv("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=v(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Vw(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),hS.apply(this,arguments)}function dS(e,t){return pS.apply(this,arguments)}function pS(){return pS=v(d().mark((function e(t,n){var r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,vS(t);case 3:return r=e.sent,sv("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return l_(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return l_(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),pS.apply(this,arguments)}function vS(e){return gS.apply(this,arguments)}function gS(){return gS=v(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return sv("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,fS(t,new FI);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),gS.apply(this,arguments)}function mS(e){return yS.apply(this,arguments)}function yS(){return yS=v(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return sv("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,dS(t,new VI);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),yS.apply(this,arguments)}function kS(e){return vS(e).then((function(e){return e.persistence}))}function bS(e){return vS(e).then((function(e){return e.localStore}))}function wS(e){return mS(e).then((function(e){return e.remoteStore}))}function xS(e){return mS(e).then((function(e){return e.syncEngine}))}function _S(e){return mS(e).then((function(e){return e.datastore}))}function IS(e){return SS.apply(this,arguments)}function SS(){return SS=v(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mS(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=B_.bind(null,n.syncEngine),r.onUnlisten=G_.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),SS.apply(this,arguments)}function ES(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new gv;return e.asyncQueue.enqueueAndForget(v(d().mark((function i(){return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new oS({next:function(a){t.enqueueAndForget((function(){return S_(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new vv(pv.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new vv(pv.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new N_(Em(n.path),a,{includeMetadataChanges:!0,Nu:!0});return __(e,o)},i.next=3,IS(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function CS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new gv;return e.asyncQueue.enqueueAndForget(v(d().mark((function i(){return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new oS({next:function(n){t.enqueueAndForget((function(){return S_(e,o)})),n.fromCache&&"server"===r.source?i.reject(new vv(pv.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new N_(n,a,{includeMetadataChanges:!0,Nu:!0});return __(e,o)},i.next=3,IS(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var TS=function(){function e(){var t=this;m(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new xx(this,"async_queue_retry"),this.Wc=function(){var e=bx();e&&sv("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=bx();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return k(e,[{key:"isShuttingDown",get:function(){return this.Uc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;var t=bx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.Uc)return new Promise((function(){}));var n=new gv;return this.Hc((function(){return t.Uc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=v(d().mark((function e(){var t=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),tg(e.t0)){e.next=12;break}throw e.t0;case 12:sv("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw uv("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=g_.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.qc.push(i),i}},{key:"zc",value:function(){this.Kc&&fv()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=v(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=b(this.qc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.qc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=b(t.qc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.qc.indexOf(e);this.qc.splice(t,1)}}]),e}();function AS(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=b(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var NS=function(){function e(){m(this,e),this._progressObserver={},this._taskCompletionResolver=new gv,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return k(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),RS=function(e){_(n,e);var t=C(n);function n(e,r,i,a){var o;return m(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new TS,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return k(n,[{key:"_terminate",value:function(){return this._firestoreClient||LS(this),this._firestoreClient.terminate()}}]),n}(YI);function DS(e){return e._firestoreClient||LS(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function LS(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Cg(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new lS(e._authCredentials,e._appCheckCredentials,e._queue,r)}function OS(e,t,n){var r=new gv;return e.asyncQueue.enqueue(v(d().mark((function i(){var a;return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,fS(e,n);case 3:return i.next=5,dS(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===pv.FAILED_PRECONDITION||e.code===pv.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:cv("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function PS(e){return function(e){return e.asyncQueue.enqueue(v(d().mark((function t(){var n,r;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,kS(e);case 2:return n=t.sent,t.next=5,wS(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=dv(e);return t._u.delete(0),Ax(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(DS(e=WI(e,RS)))}function MS(e){return function(e){return e.asyncQueue.enqueue(v(d().mark((function t(){var n,r;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,kS(e);case 2:return n=t.sent,t.next=5,wS(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=v(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=dv(t))._u.add(0),e.next=4,Rx(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(DS(e=WI(e,RS)))}function FS(e,t){var n=DS(e=WI(e,RS)),r=new NS;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new sS(e,t)}(function(e,t){if(e instanceof Uint8Array)return aS(e,t);if(e instanceof ArrayBuffer)return aS(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,wx(t));e.asyncQueue.enqueueAndForget(v(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=MI,t.next=3,xS(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function jS(e,t){return function(e,t){return e.asyncQueue.enqueue(v(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=dv(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,bS(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(DS(e=WI(e,RS)),t).then((function(t){return t?new JI(e,null,t.query):null}))}function US(e){if(e._initialized||e._terminated)throw new vv(pv.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var VS=function(){function e(t){m(this,e),this._byteString=t}return k(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(kg.fromBase64String(t))}catch(t){throw new vv(pv.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(kg.fromUint8Array(t))}}]),e}(),BS=function(){function e(){m(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new vv(pv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pv(n)}return k(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var zS=k((function e(t){m(this,e),this._methodName=t})),qS=function(){function e(t,n){if(m(this,e),!isFinite(t)||t<-90||t>90)throw new vv(pv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new vv(pv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return k(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Cv(this._lat,e._lat)||Cv(this._long,e._long)}}]),e}(),HS=/^__.*__$/,GS=function(){function e(t,n,r){m(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return k(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new dy(e,this.data,this.fieldMask,t,this.fieldTransforms):new hy(e,this.data,t,this.fieldTransforms)}}]),e}(),WS=function(){function e(t,n,r){m(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return k(e,[{key:"toMutation",value:function(e,t){return new dy(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function KS(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fv()}}var QS=function(){function e(t,n,r,i,a,o){m(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return k(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return pE(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(KS(this.sa)&&HS.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),$S=function(){function e(t,n,r){m(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||wx(t)}return k(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new QS({sa:e,methodName:t,fa:n,path:Pv.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function YS(e){var t=e._freezeSettings(),n=wx(e._databaseId);return new $S(e._databaseId,!!t.ignoreUndefinedProperties,n)}function XS(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);lE("Data must be an object, but it was:",o,r);var s,u,c=uE(r,o);if(a.merge)s=new yg(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=b(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=fE(t,d,n);if(!o.contains(p))throw new vv(pv.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));vE(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new yg(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new GS(new Jg(c),s,u)}var ZS=function(e){_(n,e);var t=C(n);function n(){return m(this,n),t.apply(this,arguments)}return k(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(zS);function JS(e,t,n){return new QS({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.It,t.ignoreUndefinedProperties)}var eE=function(e){_(n,e);var t=C(n);function n(){return m(this,n),t.apply(this,arguments)}return k(n,[{key:"_toFieldTransform",value:function(e){return new ny(e.path,new Qm)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(zS),tE=function(e){_(n,e);var t=C(n);function n(e,r){var i;return m(this,n),(i=t.call(this,e))._a=r,i}return k(n,[{key:"_toFieldTransform",value:function(e){var t=JS(this,e,!0),n=this._a.map((function(e){return sE(e,t)})),r=new $m(n);return new ny(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(zS),nE=function(e){_(n,e);var t=C(n);function n(e,r){var i;return m(this,n),(i=t.call(this,e))._a=r,i}return k(n,[{key:"_toFieldTransform",value:function(e){var t=JS(this,e,!0),n=this._a.map((function(e){return sE(e,t)})),r=new Xm(n);return new ny(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(zS),rE=function(e){_(n,e);var t=C(n);function n(e,r){var i;return m(this,n),(i=t.call(this,e)).wa=r,i}return k(n,[{key:"_toFieldTransform",value:function(e){var t=new Jm(e.It,qm(e.It,this.wa));return new ny(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(zS);function iE(e,t,n,r){var i=e.da(1,t,n);lE("Data must be an object, but it was:",i,r);var a=[],o=Jg.empty();lg(r,(function(e,r){var s=dE(t,e,n);r=ue(r);var u=i.ca(s);if(r instanceof ZS)a.push(s);else{var c=sE(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new yg(a);return new WS(o,s,i.fieldTransforms)}function aE(e,t,n,r,i,a){var o=e.da(1,t,n),s=[fE(t,r,n)],u=[i];if(a.length%2!=0)throw new vv(pv.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(fE(t,a[c])),u.push(a[c+1]);for(var l=[],f=Jg.empty(),h=s.length-1;h>=0;--h)if(!vE(l,s[h])){var d=s[h],p=u[h];p=ue(p);var v=o.ca(d);if(p instanceof ZS)l.push(d);else{var g=sE(p,v);null!=g&&(l.push(d),f.set(d,g))}}var m=new yg(l);return new WS(f,m,o.fieldTransforms)}function oE(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return sE(n,e.da(r?4:3,t))}function sE(e,t){if(cE(e=ue(e)))return lE("Unsupported field value:",t,e),uE(e,t);if(e instanceof zS)return function(e,t){if(!KS(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=b(e);try{for(a.s();!(n=a.n()).done;){var o=sE(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=ue(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return qm(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Nv.fromDate(e);return{timestampValue:Yy(t.It,n)}}if(e instanceof Nv){var r=new Nv(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Yy(t.It,r)}}if(e instanceof qS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof VS)return{bytesValue:Xy(t.It,e._byteString)};if(e instanceof ZI){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:ek(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(GI(e)))}(e,t)}function uE(e,t){var n={};return fg(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lg(e,(function(e,r){var i=sE(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function cE(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Nv||e instanceof qS||e instanceof VS||e instanceof ZI||e instanceof zS)}function lE(e,t,n){if(!cE(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=GI(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function fE(e,t,n){if((t=ue(t))instanceof BS)return t._internalPath;if("string"==typeof t)return dE(e,t);throw pE("Field path arguments must be of type string or ",e,!1,void 0,n)}var hE=new RegExp("[~\\*/\\[\\]]");function dE(e,t,n){if(t.search(hE)>=0)throw pE("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return T(BS,u(t.split(".")))._internalPath}catch(r){throw pE("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function pE(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new vv(pv.INVALID_ARGUMENT,s+e+u)}function vE(e,t){return e.some((function(e){return e.isEqual(t)}))}var gE=function(){function e(t,n,r,i,a){m(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return k(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new ZI(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new mE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(yE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),mE=function(e){_(n,e);var t=C(n);function n(){return m(this,n),t.apply(this,arguments)}return k(n,[{key:"data",value:function(){return Ft(I(n.prototype),"data",this).call(this)}}]),n}(gE);function yE(e,t){return"string"==typeof t?dE(e,t):t instanceof BS?t._internalPath:t._delegate._internalPath}function kE(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new vv(pv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var bE=k((function e(){m(this,e)}));function wE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var xE=function(e){_(n,e);var t=C(n);function n(e,r,i){var a;return m(this,n),(a=t.call(this)).ma=e,a.ga=r,a.ya=i,a.type="where",a}return k(n,[{key:"_apply",value:function(e){var t=YS(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new vv(pv.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){LE(o,a);var u,c=[],l=b(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(DE(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=DE(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||LE(o,a),s=oE(n,"where",o,"in"===a||"not-in"===a);var h=lm.create(i,a,s);return function(e,t){if(t.dt()){var n=Am(e);if(null!==n&&!n.isEqual(t.field))throw new vv(pv.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Tm(e);null!==r&&OE(e,t.field,r)}var i=function(e,t){var n,r=b(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new vv(pv.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new vv(pv.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new JI(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Im(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(bE);var _E=function(e){_(n,e);var t=C(n);function n(e,r){var i;return m(this,n),(i=t.call(this)).ma=e,i.pa=r,i.type="orderBy",i}return k(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new vv(pv.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new vv(pv.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new bm(t,n);return function(e,t){if(null===Tm(e)){var n=Am(e);null!==n&&OE(e,n,t.field)}}(e,r),r}(e._query,this.ma,this.pa);return new JI(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Im(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(bE);var IE=function(e){_(n,e);var t=C(n);function n(e,r,i){var a;return m(this,n),(a=t.call(this)).type=e,a.Ia=r,a.Ta=i,a}return k(n,[{key:"_apply",value:function(e){return new JI(e.firestore,e.converter,Lm(e._query,this.Ia,this.Ta))}}]),n}(bE);var SE=function(e){_(n,e);var t=C(n);function n(e,r,i){var a;return m(this,n),(a=t.call(this)).type=e,a.Ea=r,a.Aa=i,a}return k(n,[{key:"_apply",value:function(e){var t=RE(e,this.type,this.Ea,this.Aa);return new JI(e.firestore,e.converter,function(e,t){return new Im(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(bE);function EE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new SE("startAt",t,!0)}function CE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new SE("startAfter",t,!1)}var TE=function(e){_(n,e);var t=C(n);function n(e,r,i){var a;return m(this,n),(a=t.call(this)).type=e,a.Ea=r,a.Aa=i,a}return k(n,[{key:"_apply",value:function(e){var t=RE(e,this.type,this.Ea,this.Aa);return new JI(e.firestore,e.converter,function(e,t){return new Im(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(bE);function AE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new TE("endBefore",t,!1)}function NE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new TE("endAt",t,!0)}function RE(e,t,n,r){if(n[0]=ue(n[0]),n[0]instanceof gE)return function(e,t,n,r,i){if(!r)throw new vv(pv.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=b(Rm(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(Bg(t,r.key));else{var c=r.data.field(u.field);if(Ig(c))throw new vv(pv.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new vv(pv.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new km(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=YS(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new vv(pv.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new vv(pv.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Nm(e)&&-1!==c.indexOf("/"))throw new vv(pv.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Lv.fromString(c));if(!Mv.isDocumentKey(l))throw new vv(pv.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Mv(l);s.push(Bg(t,f))}else{var h=oE(n,r,c);s.push(h)}}return new km(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function DE(e,t,n){if("string"==typeof(n=ue(n))){if(""===n)throw new vv(pv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nm(t)&&-1!==n.indexOf("/"))throw new vv(pv.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Lv.fromString(n));if(!Mv.isDocumentKey(r))throw new vv(pv.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Bg(e,new Mv(r))}if(n instanceof ZI)return Bg(e,n._key);throw new vv(pv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(GI(n),"."))}function LE(e,t){if(!Array.isArray(e)||0===e.length)throw new vv(pv.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new vv(pv.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function OE(e,t,n){if(!n.isEqual(t))throw new vv(pv.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var PE=function(){function e(){m(this,e)}return k(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Og(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xg(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_g(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw fv()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return lg(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new qS(xg(e.latitude),xg(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Sg(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Eg(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=wg(e);return new Nv(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Lv.fromString(e);hv(Ik(n));var r=new Tg(n.get(1),n.get(3)),i=new Mv(n.popFirst(5));return r.isEqual(t)||uv("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function ME(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var FE=function(e){_(n,e);var t=C(n);function n(e){var r;return m(this,n),(r=t.call(this)).firestore=e,r}return k(n,[{key:"convertBytes",value:function(e){return new VS(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new ZI(this.firestore,null,t)}}]),n}(PE),jE=function(){function e(t,n){m(this,e),this.hasPendingWrites=t,this.fromCache=n}return k(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),UE=function(e){_(n,e);var t=C(n);function n(e,r,i,a,o,s){var u;return m(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return k(n,[{key:"exists",value:function(){return Ft(I(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new VE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(yE("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(gE),VE=function(e){_(n,e);var t=C(n);function n(){return m(this,n),t.apply(this,arguments)}return k(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ft(I(n.prototype),"data",this).call(this,e)}}]),n}(UE),BE=function(){function e(t,n,r,i){m(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new jE(i.hasPendingWrites,i.fromCache),this.query=r}return k(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new VE(n._firestore,n._userDataWriter,r.key,r,new jE(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new vv(pv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new VE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new jE(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new VE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new jE(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:zE(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function zE(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fv()}}function qE(e,t){return e instanceof UE&&t instanceof UE?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof BE&&t instanceof BE&&e._firestore===t._firestore&&iS(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var HE=function(e){_(n,e);var t=C(n);function n(e){var r;return m(this,n),(r=t.call(this)).firestore=e,r}return k(n,[{key:"convertBytes",value:function(e){return new VS(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new ZI(this.firestore,null,t)}}]),n}(PE);function GE(e){e=WI(e,ZI);var t=WI(e.firestore,RS),n=DS(t),r=new HE(t);return function(e,t){var n=new gv;return e.asyncQueue.enqueueAndForget(v(d().mark((function r(){return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=v(d().mark((function e(t,n,r){var i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=dv(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new vv(pv.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=m_(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,bS(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new UE(t,r,e._key,n,new jE(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function WE(e){e=WI(e,JI);var t=WI(e.firestore,RS),n=DS(t),r=new HE(t);return function(e,t){var n=new gv;return e.asyncQueue.enqueueAndForget(v(d().mark((function r(){return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=v(d().mark((function e(t,n,r){var i,a,o,s,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Yw(t,n,!0);case 3:i=e.sent,a=new F_(n,i.Hi),o=a.Wu(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=m_(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,bS(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new BE(t,r,e,n)}))}function KE(e,t,n){e=WI(e,ZI);var r=WI(e.firestore,RS),i=ME(e.converter,t,n);return XE(r,[XS(YS(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,iy.none())])}function QE(e,t,n){e=WI(e,ZI);for(var r=WI(e.firestore,RS),i=YS(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return XE(r,[("string"==typeof(t=ue(t))||t instanceof BS?aE(i,"updateDoc",e._key,t,n,o):iE(i,"updateDoc",e._key,t)).toMutation(e._key,iy.exists(!0))])}function $E(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=ue(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||AS(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(AS(n[u])){var p=n[u];n[u]=null===(i=p.next)||void 0===i?void 0:i.bind(p),n[u+1]=null===(a=p.error)||void 0===a?void 0:a.bind(p),n[u+2]=null===(o=p.complete)||void 0===o?void 0:o.bind(p)}if(e instanceof ZI)l=WI(e.firestore,RS),f=Em(e._key.path),c={next:function(t){n[u]&&n[u](ZE(l,e,t))},error:n[u+1],complete:n[u+2]};else{var g=WI(e,JI);l=WI(g.firestore,RS),f=g._query;var m=new HE(l);c={next:function(e){n[u]&&n[u](new BE(l,m,g,e))},error:n[u+1],complete:n[u+2]},kE(e._query)}return function(e,t,n,r){var i=new oS(r),a=new N_(t,i,n);return e.asyncQueue.enqueueAndForget(v(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=__,t.next=3,IS(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(v(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=S_,t.next=3,IS(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(DS(l),f,h,c)}function YE(e,t){return function(e,t){var n=new oS(t);return e.asyncQueue.enqueueAndForget(v(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){dv(e).Ru.add(t),t.next()},t.next=3,IS(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(v(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){dv(e).Ru.delete(t)},t.next=3,IS(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(DS(e=WI(e,RS)),AS(t)?t:{next:t})}function XE(e,t){return function(e,t){var n=new gv;return e.asyncQueue.enqueueAndForget(v(d().mark((function r(){return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=K_,r.next=3,xS(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(DS(e),t)}function ZE(e,t,n){var r=n.docs.get(t._key),i=new HE(e);return new UE(e,i,t._key,r,new jE(n.hasPendingWrites,n.fromCache),t.converter)}var JE={maxAttempts:5},eC=function(){function e(t,n){m(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=YS(t)}return k(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=tC(e,this._firestore),i=ME(r.converter,t,n),a=XS(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,iy.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=tC(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=ue(t))||t instanceof BS?aE(this._dataReader,"WriteBatch.update",i._key,t,n,o):iE(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,iy.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=tC(e,this._firestore);return this._mutations=this._mutations.concat(new ky(t._key,iy.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new vv(pv.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function tC(e,t){if((e=ue(e)).firestore!==t)throw new vv(pv.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var nC=function(e){_(n,e);var t=C(n);function n(e,r){var i;return m(this,n),(i=t.call(this,e,r))._firestore=e,i}return k(n,[{key:"get",value:function(e){var t=this,r=tC(e,this._firestore),i=new HE(this._firestore);return Ft(I(n.prototype),"get",this).call(this,e).then((function(e){return new UE(t._firestore,i,r._key,e._document,new jE(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){m(this,e),this._firestore=t,this._transaction=n,this._dataReader=YS(t)}return k(e,[{key:"get",value:function(e){var t=this,n=tC(e,this._firestore),r=new FE(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return fv();var i=e[0];if(i.isFoundDocument())return new gE(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new gE(t._firestore,r,n._key,null,n.converter);throw fv()}))}},{key:"set",value:function(e,t,n){var r=tC(e,this._firestore),i=ME(r.converter,t,n),a=XS(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=tC(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=ue(t))||t instanceof BS?aE(this._dataReader,"Transaction.update",i._key,t,n,o):iE(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=tC(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function rC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new tE("arrayUnion",t)}function iC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new nE("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){iv=e}(at),Ze(new ce("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new RS(new bv(e.getProvider("auth-internal")),new Iv(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new vv(pv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tg(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),ft(nv,"3.7.2",e),ft(nv,"3.7.2","esm2017")}();function aC(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new vv("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function oC(){if("undefined"===typeof Uint8Array)throw new vv("unimplemented","Uint8Arrays are not available in this environment.")}function sC(){if("undefined"==typeof atob)throw new vv("unimplemented","Blobs are unavailable in Firestore in this environment.")}var uC=function(){function e(t){m(this,e),this._delegate=t}return k(e,[{key:"toBase64",value:function(){return sC(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return oC(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return sC(),new e(VS.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return oC(),new e(VS.fromUint8Array(t))}}]),e}();function cC(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=b(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var lC=function(){function e(){m(this,e)}return k(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){US(e=WI(e,RS));var n=DS(e),r=e._freezeSettings(),i=new VI;return OS(n,i,new jI(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){US(e=WI(e,RS));var t=DS(e),n=e._freezeSettings(),r=new VI;return OS(t,r,new UI(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new vv(pv.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new gv;return e._queue.enqueueAndForgetEvenWhileRestricted(v(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=v(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Zv.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Zv.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Pw(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),fC=function(){function e(t,n,r){var i=this;m(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Tg||(this._appCompat=t)}return k(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||cv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};XI(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return PS(this._delegate)}},{key:"disableNetwork",value:function(){return MS(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&zI("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new gv;return e.asyncQueue.enqueueAndForget(v(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=iI,n.next=3,xS(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(DS(e=WI(e,RS)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return YE(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new vv("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new SC(this,tS(this._delegate,e))}catch(jT){throw mC(jT,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new gC(this,nS(this._delegate,e))}catch(jT){throw mC(jT,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new xC(this,function(e,t){if(e=WI(e,YI),BI("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new vv(pv.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new JI(e,null,function(e){return new Im(Lv.emptyPath(),e)}(t))}(this._delegate,e))}catch(jT){throw mC(jT,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=WI(e,RS);var r=Object.assign(Object.assign({},JE),n);return function(e){if(e.maxAttempts<1)throw new vv(pv.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new gv;return e.asyncQueue.enqueueAndForget(v(d().mark((function i(){var a;return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,_S(e);case 2:a=i.sent,new cS(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(DS(e),(function(n){return t(new nC(e,n))}),r)}(this._delegate,(function(n){return e(new dC(t,n))}))}},{key:"batch",value:function(){var e=this;return DS(this._delegate),new pC(new eC(this._delegate,(function(t){return XE(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return FS(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return jS(this._delegate,e).then((function(e){return e?new xC(t,e):null}))}}]),e}(),hC=function(e){_(n,e);var t=C(n);function n(e){var r;return m(this,n),(r=t.call(this)).firestore=e,r}return k(n,[{key:"convertBytes",value:function(e){return new uC(new VS(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return gC.forKey(t,this.firestore,null)}}]),n}(PE);var dC=function(){function e(t,n){m(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new hC(t)}return k(e,[{key:"get",value:function(e){var t=this,n=EC(e);return this._delegate.get(n).then((function(e){return new bC(t._firestore,new UE(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=EC(e);return n?(aC("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=EC(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=EC(e);return this._delegate.delete(t),this}}]),e}(),pC=function(){function e(t){m(this,e),this._delegate=t}return k(e,[{key:"set",value:function(e,t,n){var r=EC(e);return n?(aC("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=EC(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=EC(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),vC=function(){function e(t,n,r){m(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return k(e,[{key:"fromFirestore",value:function(e,t){var n=new VE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new wC(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new hC(t),n),i.set(n,a)),a}}]),e}();vC.INSTANCES=new WeakMap;var gC=function(){function e(t,n){m(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new hC(t)}return k(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new SC(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new SC(this.firestore,tS(this._delegate,e))}catch(jT){throw mC(jT,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=ue(e))instanceof ZI&&rS(this._delegate,e)}},{key:"set",value:function(e,t){t=aC("DocumentReference.set",t);try{return t?KE(this._delegate,e,t):KE(this._delegate,e)}catch(jT){throw mC(jT,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?QE(this._delegate,e):QE.apply(void 0,[this._delegate,e,t].concat(r))}catch(jT){throw mC(jT,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return XE(WI(e.firestore,RS),[new ky(e._key,iy.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=yC(n),a=kC(n,(function(t){return new bC(e.firestore,new UE(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return $E(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?GE(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=WI(e,ZI);var t=WI(e.firestore,RS);return ES(DS(t),e._key,{source:"server"}).then((function(n){return ZE(t,e,n)}))}(this._delegate):function(e){e=WI(e,ZI);var t=WI(e.firestore,RS);return ES(DS(t),e._key).then((function(n){return ZE(t,e,n)}))}(this._delegate),t.then((function(e){return new bC(n.firestore,new UE(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(vC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new vv("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new ZI(n._delegate,r,new Mv(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new ZI(n._delegate,r,t))}}]),e}();function mC(e,t,n){return e.message=e.message.replace(t,n),e}function yC(e){var t,n=b(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!cC(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function kC(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=cC(e[0])?e[0]:cC(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var bC=function(){function e(t,n){m(this,e),this._firestore=t,this._delegate=n}return k(e,[{key:"ref",get:function(){return new gC(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return qE(this._delegate,e._delegate)}}]),e}(),wC=function(e){_(n,e);var t=C(n);function n(){return m(this,n),t.apply(this,arguments)}return k(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||fv()}(void 0!==t),t}}]),n}(bC),xC=function(){function e(t,n){m(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new hC(t)}return k(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,wE(this._delegate,function(e,t,n){var r=t,i=yE("where",e);return new xE(i,r,n)}(t,n,r)))}catch(jT){throw mC(jT,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,wE(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=yE("orderBy",e);return new _E(n,t)}(t,n)))}catch(jT){throw mC(jT,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,wE(this._delegate,function(e){return KI("limit",e),new IE("limit",e,"F")}(t)))}catch(jT){throw mC(jT,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,wE(this._delegate,function(e){return KI("limitToLast",e),new IE("limitToLast",e,"L")}(t)))}catch(jT){throw mC(jT,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,wE(this._delegate,EE.apply(void 0,arguments)))}catch(jT){throw mC(jT,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,wE(this._delegate,CE.apply(void 0,arguments)))}catch(jT){throw mC(jT,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,wE(this._delegate,AE.apply(void 0,arguments)))}catch(jT){throw mC(jT,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,wE(this._delegate,NE.apply(void 0,arguments)))}catch(jT){throw mC(jT,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return iS(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?WE(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=WI(e,JI);var t=WI(e.firestore,RS),n=DS(t),r=new HE(t);return CS(n,e._query,{source:"server"}).then((function(n){return new BE(t,r,e,n)}))}(this._delegate):function(e){e=WI(e,JI);var t=WI(e.firestore,RS),n=DS(t),r=new HE(t);return kE(e._query),CS(n,e._query).then((function(n){return new BE(t,r,e,n)}))}(this._delegate),t.then((function(e){return new IC(n.firestore,new BE(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=yC(n),a=kC(n,(function(t){return new IC(e.firestore,new BE(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return $E(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(vC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),_C=function(){function e(t,n){m(this,e),this._firestore=t,this._delegate=n}return k(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new wC(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),IC=function(){function e(t,n){m(this,e),this._firestore=t,this._delegate=n}return k(e,[{key:"query",get:function(){return new xC(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new wC(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new _C(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new wC(n._firestore,r))}))}},{key:"isEqual",value:function(e){return qE(this._delegate,e._delegate)}}]),e}(),SC=function(e){_(n,e);var t=C(n);function n(e,r){var i;return m(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return k(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new gC(this.firestore,e):null}},{key:"doc",value:function(e){try{return new gC(this.firestore,void 0===e?nS(this._delegate):nS(this._delegate,e))}catch(jT){throw mC(jT,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=WI(e.firestore,RS),r=nS(e),i=ME(e.converter,t);return XE(n,[XS(YS(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,iy.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new gC(t.firestore,e)}))}},{key:"isEqual",value:function(e){return rS(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(vC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(xC);function EC(e){return WI(e,ZI)}var CC=function(){function e(){m(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=T(BS,n)}return k(e,[{key:"isEqual",value:function(e){return(e=ue(e))instanceof BS&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Pv.keyField().canonicalString())}}]),e}(),TC=function(){function e(t){m(this,e),this._delegate=t}return k(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new eE("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new ZS("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=rC.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=iC.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new rE("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),AC={Firestore:fC,GeoPoint:qS,Timestamp:Nv,Blob:uC,Transaction:dC,WriteBatch:pC,DocumentReference:gC,DocumentSnapshot:bC,Query:xC,QueryDocumentSnapshot:wC,QuerySnapshot:IC,CollectionReference:SC,FieldPath:CC,FieldValue:TC,setLogLevel:function(e){!function(e){av.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new ce("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},AC)))}(e,(function(e,t){return new fC(e,t,new lC)})),e.registerVersion("@firebase/firestore-compat","0.2.2")}(Pt);var NC=(0,t.createContext)();function RC(){return(0,t.useContext)(NC)}function DC(e){var n=e.children,r=f((0,t.useState)(!1),2),i=r[0],a=r[1],o=f((0,t.useState)(null),2),s=o[0],u=o[1];return(0,gc.jsx)(NC.Provider,{value:{modalVisible:i,openModal:function(e){u(e),a(!0)},closeModal:function(){u(null),a(!1)},modalContent:s},children:n})}var LC={"form-wrapper":"AuthForm_form-wrapper__52Wg8",welcome:"AuthForm_welcome__gVbVi","continue-btn":"AuthForm_continue-btn__S+Y1j","account-title":"AuthForm_account-title__fHfJR","create-forgot-btn":"AuthForm_create-forgot-btn__jjgIt","error-message":"AuthForm_error-message__+w-sj"},OC=lc.auth(),PC=function(){var e=v(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return OC=lc.auth(),t=new lc.auth.GoogleAuthProvider,e.prev=2,e.next=5,OC.signInWithPopup(t);case 5:return n=e.sent,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(2),console.error("Error signing in with Google:",e.t0),alert(e.t0.message),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),MC=function(){var e=v(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{OC.signOut()}catch(t){alert(t.message)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),FC=function(){var e=v(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$i(OC,t).then((function(){return"Password reset email sent!"})).catch((function(e){return e.message})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function jC(e){if(null==e)throw new TypeError("Cannot destructure "+e)}var UC=function(e){var t=Object.assign({},(jC(e),e));return(0,gc.jsxs)("svg",xe(xe({viewBox:"-0.5 0 48 48",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},t),{},{children:[(0,gc.jsx)("title",{children:"Google-color"}),(0,gc.jsx)("desc",{children:"Created with Sketch."}),(0,gc.jsx)("defs",{}),(0,gc.jsx)("g",{id:"Icons",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:(0,gc.jsx)("g",{id:"Color-",transform:"translate(-401.000000, -860.000000)",children:(0,gc.jsxs)("g",{id:"Google",transform:"translate(401.000000, 860.000000)",children:[(0,gc.jsx)("path",{d:"M9.82727273,24 C9.82727273,22.4757333 10.0804318,21.0144 10.5322727,19.6437333 L2.62345455,13.6042667 C1.08206818,16.7338667 0.213636364,20.2602667 0.213636364,24 C0.213636364,27.7365333 1.081,31.2608 2.62025,34.3882667 L10.5247955,28.3370667 C10.0772273,26.9728 9.82727273,25.5168 9.82727273,24",id:"Fill-1",fill:"#FBBC05"}),(0,gc.jsx)("path",{d:"M23.7136364,10.1333333 C27.025,10.1333333 30.0159091,11.3066667 32.3659091,13.2266667 L39.2022727,6.4 C35.0363636,2.77333333 29.6954545,0.533333333 23.7136364,0.533333333 C14.4268636,0.533333333 6.44540909,5.84426667 2.62345455,13.6042667 L10.5322727,19.6437333 C12.3545909,14.112 17.5491591,10.1333333 23.7136364,10.1333333",id:"Fill-2",fill:"#EB4335"}),(0,gc.jsx)("path",{d:"M23.7136364,37.8666667 C17.5491591,37.8666667 12.3545909,33.888 10.5322727,28.3562667 L2.62345455,34.3946667 C6.44540909,42.1557333 14.4268636,47.4666667 23.7136364,47.4666667 C29.4455,47.4666667 34.9177955,45.4314667 39.0249545,41.6181333 L31.5177727,35.8144 C29.3995682,37.1488 26.7323182,37.8666667 23.7136364,37.8666667",id:"Fill-3",fill:"#34A853"}),(0,gc.jsx)("path",{d:"M46.1454545,24 C46.1454545,22.6133333 45.9318182,21.12 45.6113636,19.7333333 L23.7136364,19.7333333 L23.7136364,28.8 L36.3181818,28.8 C35.6879545,31.8912 33.9724545,34.2677333 31.5177727,35.8144 L39.0249545,41.6181333 C43.3393409,37.6138667 46.1454545,31.6490667 46.1454545,24",id:"Fill-4",fill:"#4285F4"})]})})})]}))},VC={"reset-password-form":"ResetPasswordForm_reset-password-form__IpIiq","back-btn":"ResetPasswordForm_back-btn__w-RlL"},BC=function(e){var n=e.setForgotPassword,r=f((0,t.useState)(""),2),i=r[0],a=r[1],o=f((0,t.useState)(""),2),s=o[0],u=o[1],c=function(){var e=v(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,FC();case 3:n=e.sent,a(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,gc.jsxs)("div",{className:VC["reset-password-form"],children:[(0,gc.jsx)("h1",{children:"Forgot your password?"}),(0,gc.jsx)("p",{className:VC.text,children:"No worries. Enter your registered email address below, and we'll send you a link to reset your password."}),(0,gc.jsxs)("form",{onSubmit:c,children:[(0,gc.jsx)("input",{type:"email",name:"email",value:s,onChange:function(e){return u(e.target.value)},placeholder:"Email",required:!0}),i,(0,gc.jsx)("button",{type:"submit",children:"Send"})]}),(0,gc.jsx)("button",{className:VC["back-btn"],onClick:function(){return n(!1)},children:"Go back"})]})},zC=function(){var e=f((0,t.useState)({email:"",password:"",passwordConfirm:"",displayName:""}),2),n=e[0],r=e[1],i=f((0,t.useState)(null),2),a=i[0],o=i[1],s=f((0,t.useState)(!0),2),u=s[0],c=s[1],l=f((0,t.useState)(!1),2),h=l[0],p=l[1],m=RC().closeModal,y=function(e){var t=e.target,i=t.name,a=t.value;r(xe(xe({},n),{},g({},i,a)))},k=function(){var e=v(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,PC();case 3:if(!(t=e.sent)){e.next=9;break}return n=t.user,m(),e.next=9,fc(n);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),alert(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return h?(0,gc.jsx)(BC,{setForgotPassword:p}):(0,gc.jsxs)("div",{className:LC["form-wrapper"],children:[(0,gc.jsx)("h2",{className:LC.welcome,children:"WELCOME"}),(0,gc.jsxs)("button",{className:LC["continue-btn"],onClick:k,children:[(0,gc.jsx)(UC,{height:"20px"})," Continue with Google"]}),(0,gc.jsx)("span",{children:"or"}),(0,gc.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st(),t=Je(e,"auth");if(t.isInitialized())return t.getImmediate();var n=pn(e,{popupRedirectResolver:Qs,persistence:[uo,Fa,Ua]}),r=W("authTokenSyncURL");if(r){var i=iu(r);Ca(n,i,(function(){return i(n.currentUser)})),Ea(n,(function(e){return i(e)}))}var a=q("auth");return a&&Sr(n,"http://".concat(a)),n}();if(u)ia(t,n.email,n.password).then((function(e){var t=e.user;m(),console.log(t)})).catch((function(e){o(e.message)}));else{if(n.password!==n.passwordConfirm)return void o("Passwords do not match, please retype");na(t,n.email,n.password).then((function(e){var t=e.user;pa(t,{displayName:n.displayName}).then((function(){fc(t),m()}))})).catch((function(e){o(e.message)}))}},children:[!u&&(0,gc.jsx)("input",{type:"text",name:"displayName",value:n.displayName,onChange:y,placeholder:"Username",required:!0}),(0,gc.jsx)("input",{type:"email",name:"email",value:n.email,onChange:y,placeholder:"Email",required:!0}),(0,gc.jsx)("input",{type:"password",name:"password",value:n.password,onChange:y,autoComplete:"current-password",placeholder:"Password",required:!0}),!u&&(0,gc.jsx)("input",{type:"password",name:"passwordConfirm",value:n.passwordConfirm,onChange:y,placeholder:"Confirm password",required:!0}),(0,gc.jsx)("div",{children:(0,gc.jsx)("p",{className:LC["error-message"],children:a})}),(0,gc.jsx)("button",{type:"submit",children:u?"Log in":"Sign up"}),u?(0,gc.jsxs)(gc.Fragment,{children:[(0,gc.jsxs)("span",{className:LC["account-title"],children:["No account?"," ",(0,gc.jsx)("button",{className:LC["create-forgot-btn"],type:"button",onClick:function(){return c(!1)},children:"Create one"})]}),(0,gc.jsx)("button",{className:LC["create-forgot-btn"],type:"button",onClick:function(){return p(!0)},children:"Forgot Password ?"})]}):(0,gc.jsxs)("span",{className:LC["account-title"],children:["Already have an account?"," ",(0,gc.jsx)("button",{className:LC["create-login-btn"],type:"button",onClick:function(){return c(!0)},children:"Login here"})]})]})]})},qC="ChatInterface_chat__ifNA+",HC="ChatInterface_chat-fullscreen__vV1LJ",GC="ChatInterface_chat-header__eo6T8",WC="ChatInterface_hamburger-btn__sM7wU",KC="ChatInterface_logo-title-wrapper__lhpl4",QC="ChatInterface_chat-header-image-wrapper__LXsTF",$C="ChatInterface_chat-header-buttons-wrapper__4Yd1V",YC="ChatInterface_unread-messages-badge__XPtO4",XC="ChatInterface_chat-header-icon-wrapper__M+f2e",ZC="ChatInterface_chat-body__ckJeG",JC="ChatInterface_chat-body-hidden__5sa7w",eT="ChatInterface_messages-container__534JD",tT="ChatInterface_scroll-down-icon__CsfTO",nT="ChatInterface_message-to-replay__83rR8",rT="ChatInterface_display__Er6rd",iT="ChatInterface_empty-chat-message__ETN2G",aT="ChatInterface_images-preview-wrapper__fQZNV",oT="ChatInterface_image-preview__p-E29",sT="ChatInterface_is-code-btn__bIG+L",uT="ChatInterface_buttons-wrapper__VstA5",cT="ChatInterface_img-uploader__BweSg",lT="ChatInterface_active__5soF6",fT="ChatInterface_replay-message-content__sb0eD",hT="ChatInterface_replay-message-text__djp8C",dT="ChatInterface_loader__8bRrK",pT=n.p+"static/media/placeholder.dc921a5627bee609abe6.png",vT={"chat-fullscreen":"ChatInterface_chat-fullscreen__vV1LJ",message:"Message_message__8Y5rz","first-unread-message":"Message_first-unread-message__9i3H4",sent:"Message_sent__CWEaT","same-sender":"Message_same-sender__vylf1","profile-image-wrapper":"Message_profile-image-wrapper__39wO+","text-wrapper":"Message_text-wrapper__DDCOS","have-reactions":"Message_have-reactions__mO6HA","user-name":"Message_user-name__75j3Y",received:"Message_received__8kvXZ","message-wrapper":"Message_message-wrapper__SKWgT","replay-wrapper":"Message_replay-wrapper__lrgNH","code-wrapper":"Message_code-wrapper__2QjUL","image-wrapper":"Message_image-wrapper__yXFAQ","reactions-wrapper":"Message_reactions-wrapper__gxts-","reactions-menu":"Message_reactions-menu__2wuhM","actions-menu":"Message_actions-menu__6Fzdh","selected-item":"Message_selected-item__a4VdP","selected-icon":"Message_selected-icon__kxjkr","actions-and-reactions-wrapper":"Message_actions-and-reactions-wrapper__p+27i"},gT="UserProfile_user-card__WtS8M",mT="UserProfile_profile-img-wrapper__VPWra",yT="UserProfile_img-and-input-wrapper__kbcn7",kT="UserProfile_img-uploader__FPLxw",bT="UserProfile_status__pu9VH",wT="UserProfile_buttons-wrapper__vKrAP",xT="UserProfile_social-media-icon-wrapper__DzhxB",_T="UserProfile_social-media-icon__+S2Z5",IT="UserProfile_social-media-icon-disabled__mV0TL",ST="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPgSURBVHhe7ZzRcuMwCEWT/v83eze3tTKOIxmQQGCb87LZbqSLOMZOdzp9PoLy78X60oTni/VlKEIVZS3hiCiC3IvwlFDDW4xLeDQJLTzkTA08i4g9M8VMCTqriD0zxJgHXEVGwVqK2ebaIkYbEa2eFiabahze6sCFqDWqbjh6SGsJLSLVrbZR76G8JLTwPofKJj2HiCZij9eZhjeQFh5dxJ7Z5/tZ/+ziVeuyvmRxNhlAWvPyYn3ZRXeDJFfOGUXUmHHmrgmRTMZVZADJWSTytoibxQ26kogaVn0QvTmCjFoN5Wu13Nm11JDUwH6jRbgEbn4L77q4+aw3aYdK4GZz8ayRkz30sXeL50ElWOypeXZyI84BtGVYNK2GR91U5uE/agRI4WRq4lH/UWbzljW7MeAumUcMPUM0ry7Pxmhmc3pylFcVwilQU8bVGJGi9ilrBM4FYE2EGsCXSU5hmtMRpRGF2Wfb54knRLPgq9PTqw8hs6/W2XkcvHsgmpCcDjnSnrk91GdfiRI8a3sLoYrI6eiH6t22924TktT5FUJNR2JPccCakLxdjcPtocst6wwT6VXjzxmacxWoKYELckK4o5bokJ+ygpFCGnjdGVyE3Pk2SJ39UMidG+dF3rKCkUKCkUKC4SYk8vPJs7ackGC4Cok4Jd415YQEI4UEw11IpNtWhFpyQoIRQkiEKzNCDSDMhHg2JIoMkLesYIQS4nGlRpoOEG5CZjYomgxwKMTrByBmNCqiDBD2GWLZME8Z1EUeQgiKBOtf31g0rrbnGh/ix6GeVCEWTSnUslt5VJ0Ukn1b79WAOgcpBGgWOJLHWVtjZL/W2l6ozN8w8k0KRVEZNVq53L1G129p7SWBykWGuRBqb4qR7Bqe9VDZ2JslBEgL4ewpQZq/x7seTj72fG9KLeAWwAke5Yq1lH3UhFDrr85of8p6thBQC+WsuxO9PSrr3t8Y1jaiSBnf9PRk23vRd+rbsJ7guzDSpw8h3CmRhtwR7m+43vf8S0A2ey6kEJBS5rCXAcL+9/tdqU4IyCmxpTYdoCkEpBQbWjJA3rKCcTghIKdEl6PpAKQQkFJ0oGSAvGUFgzUhIKdkDM50ALYQkFL64MoAIiEgpciQyADiZwgClmVJKQS4cKUygHhBISflmB4ZoPtTFgJzUr7pnYxC98JCTsonIzLAsBCQUv4YlQFUhIC7S9GQAdSEgLtK0ZIBVIUU7iJGU0TBRAi4uhQLGcBMSOFqYqxEFMyFgKtIsZYBpggpnFXMDBGFqUIKZxEzU0TBRUghohgPCVtcw7d4y/EWUQgjZMsMOVEEfPJ4/AfAd0irP2nx3gAAAABJRU5ErkJggg==",ET=function(e){var t=Object.assign({},(jC(e),e));return(0,gc.jsxs)("svg",xe(xe({viewBox:"0 -0.5 21 21",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},t),{},{children:[(0,gc.jsx)("desc",{children:"Created with Sketch."}),(0,gc.jsx)("defs",{}),(0,gc.jsx)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"white",fillRule:"evenodd",children:(0,gc.jsx)("g",{id:"Dribbble-Light-Preview",transform:"translate(-379.000000, -359.000000)",fill:"white",children:(0,gc.jsx)("g",{id:"icons",transform:"translate(56.000000, 160.000000)",children:(0,gc.jsx)("path",{d:"M323,219 L343.660141,219 L343.660141,217.042095 L323,217.042095 L323,219 Z M330.231049,212.147332 L330.231049,209.51395 L339.088052,201.64513 L340.979487,203.643172 L332.880712,212.147332 L330.231049,212.147332 Z M344,203.64513 L339.144867,199 L328.165035,208.687714 L328.165035,214.105237 L333.764966,214.105237 L344,203.64513 Z",id:"edit-[#1482]"})})})})]}))},CT=function(e){var t=Object.assign({},(jC(e),e));return(0,gc.jsxs)("svg",xe(xe({viewBox:"0 -2 30 30",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},t),{},{children:[(0,gc.jsx)("title",{children:"upload"}),(0,gc.jsx)("desc",{children:"Created with Sketch Beta."}),(0,gc.jsx)("defs",{}),(0,gc.jsx)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:(0,gc.jsx)("g",{id:"Icon-Set-Filled",transform:"translate(-571.000000, -676.000000)",fill:"#000000",children:(0,gc.jsx)("path",{d:"M599,692 C597.896,692 597,692.896 597,694 L597,698 L575,698 L575,694 C575,692.896 574.104,692 573,692 C571.896,692 571,692.896 571,694 L571,701 C571,701.479 571.521,702 572,702 L600,702 C600.604,702 601,701.542 601,701 L601,694 C601,692.896 600.104,692 599,692 L599,692 Z M582,684 L584,684 L584,693 C584,694.104 584.896,695 586,695 C587.104,695 588,694.104 588,693 L588,684 L590,684 C590.704,684 591.326,684.095 591.719,683.7 C592.11,683.307 592.11,682.668 591.719,682.274 L586.776,676.283 C586.566,676.073 586.289,675.983 586.016,675.998 C585.742,675.983 585.465,676.073 585.256,676.283 L580.313,682.274 C579.921,682.668 579.921,683.307 580.313,683.7 C580.705,684.095 581.608,684 582,684 L582,684 Z",id:"upload"})})})]}))},TT=function(e){var t=Object.assign({},(jC(e),e));return(0,gc.jsx)("svg",xe(xe({version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 97.75 97.75",height:20},t),{},{children:(0,gc.jsx)("g",{children:(0,gc.jsx)("path",{d:"M48.875,0C21.882,0,0,21.882,0,48.875S21.882,97.75,48.875,97.75S97.75,75.868,97.75,48.875S75.868,0,48.875,0z\r M30.562,81.966h-13.74V37.758h13.74V81.966z M23.695,31.715c-4.404,0-7.969-3.57-7.969-7.968c0.001-4.394,3.565-7.964,7.969-7.964\r c4.392,0,7.962,3.57,7.962,7.964C31.657,28.146,28.086,31.715,23.695,31.715z M82.023,81.966H68.294V60.467\r c0-5.127-0.095-11.721-7.142-11.721c-7.146,0-8.245,5.584-8.245,11.35v21.869H39.179V37.758h13.178v6.041h0.185\r c1.835-3.476,6.315-7.14,13-7.14c13.913,0,16.481,9.156,16.481,21.059V81.966z"})})}))},AT=function(e){var t=Object.assign({},(jC(e),e));return(0,gc.jsxs)("svg",xe(xe({viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},t),{},{children:[(0,gc.jsx)("title",{children:"github [#142]"}),(0,gc.jsx)("desc",{children:"Created with Sketch."}),(0,gc.jsx)("defs",{}),(0,gc.jsx)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fillRule:"evenodd",children:(0,gc.jsx)("g",{id:"Dribbble-Light-Preview",transform:"translate(-140.000000, -7559.000000)",children:(0,gc.jsx)("g",{id:"icons",transform:"translate(56.000000, 160.000000)",children:(0,gc.jsx)("path",{d:"M94,7399 C99.523,7399 104,7403.59 104,7409.253 C104,7413.782 101.138,7417.624 97.167,7418.981 C96.66,7419.082 96.48,7418.762 96.48,7418.489 C96.48,7418.151 96.492,7417.047 96.492,7415.675 C96.492,7414.719 96.172,7414.095 95.813,7413.777 C98.04,7413.523 100.38,7412.656 100.38,7408.718 C100.38,7407.598 99.992,7406.684 99.35,7405.966 C99.454,7405.707 99.797,7404.664 99.252,7403.252 C99.252,7403.252 98.414,7402.977 96.505,7404.303 C95.706,7404.076 94.85,7403.962 94,7403.958 C93.15,7403.962 92.295,7404.076 91.497,7404.303 C89.586,7402.977 88.746,7403.252 88.746,7403.252 C88.203,7404.664 88.546,7405.707 88.649,7405.966 C88.01,7406.684 87.619,7407.598 87.619,7408.718 C87.619,7412.646 89.954,7413.526 92.175,7413.785 C91.889,7414.041 91.63,7414.493 91.54,7415.156 C90.97,7415.418 89.522,7415.871 88.63,7414.304 C88.63,7414.304 88.101,7413.319 87.097,7413.247 C87.097,7413.247 86.122,7413.234 87.029,7413.87 C87.029,7413.87 87.684,7414.185 88.139,7415.37 C88.139,7415.37 88.726,7417.2 91.508,7416.58 C91.513,7417.437 91.522,7418.245 91.522,7418.489 C91.522,7418.76 91.338,7419.077 90.839,7418.982 C86.865,7417.627 84,7413.783 84,7409.253 C84,7403.59 88.478,7399 94,7399",id:"github-[#142]"})})})})]}))},NT="Loader_loader-wrapper__G8FWl",RT="Loader_loader__h1gM4",DT=function(){return(0,gc.jsx)("div",{className:NT,children:(0,gc.jsx)("div",{className:RT})})},LT=function(e){var n=e.uid,r=e.personalProfile,i=f((0,t.useState)(null),2),a=i[0],o=i[1],s=f((0,t.useState)(null),2),u=s[0],c=s[1],l=f((0,t.useState)(null),2),h=l[0],p=l[1],m=f((0,t.useState)({displayName:"",title:"",aboutMe:"",email:"",linkedin:"",github:""}),2),y=m[0],k=m[1],b=f((0,t.useState)(!1),2),w=b[0],x=b[1],_=f((0,t.useState)(""),2),I=_[0],S=_[1],E=Gl();(0,t.useEffect)((function(){var e=function(){var e=v(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hc((null===r||void 0===r?void 0:r.uid)||n);case 2:t=e.sent,k({displayName:t.displayName,title:t.title,aboutMe:t.aboutMe,email:t.email,linkedin:t.linkedin,github:t.github}),o(r||t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n,r]);var C=function(){p(null),x((function(e){return!e}))},T=function(){var e=v(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,S("loading"),e.next=5,pa(a,y);case 5:return e.next=7,dc(a.uid,y);case 7:if(y.email===a.email){e.next=10;break}return e.next=10,ga(a,y.email);case 10:if(!u){e.next=27;break}return n=Hl(E,"profile-images/".concat(a.uid,"/").concat(u.name)),e.prev=12,e.next=15,zl(n,u);case 15:return e.next=17,ql(n);case 17:return r=e.sent,e.next=20,pa(a,{photoURL:r});case 20:return e.next=22,dc(a.uid,{photoURL:r});case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(12),S("Error updating profile picture");case 27:S("Profile updated successfully!"),e.next=34;break;case 30:e.prev=30,e.t1=e.catch(1),console.error(e.t1),S("Error updating profile...");case 34:C(),setTimeout((function(){S("")}),3e3);case 36:case"end":return e.stop()}}),e,null,[[1,30],[12,24]])})));return function(t){return e.apply(this,arguments)}}(),A=function(e){k(xe(xe({},y),{},g({},e.target.name,e.target.value)))};return(0,gc.jsxs)("form",{onSubmit:T,className:gT,children:[(0,gc.jsx)("input",{type:"text",value:y.title,onChange:A,placeholder:"Title",name:"title",disabled:!w}),(0,gc.jsxs)("div",{className:yT,children:[(0,gc.jsx)("div",{className:mT,children:(0,gc.jsx)("img",{src:h||(null===a||void 0===a?void 0:a.photoURL)||ST,alt:"Profile"})}),w&&(0,gc.jsxs)("button",{type:"button",className:kT,children:[(0,gc.jsx)(CT,{}),(0,gc.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0];if(t){c(t);var n=new FileReader;n.onload=function(e){p(e.target.result)},n.readAsDataURL(t)}},placeholder:"none",name:"photoURL"})]})]}),(0,gc.jsx)("input",{type:"text",value:y.displayName,onChange:A,placeholder:"Enter new username",disabled:!w,name:"displayName",maxLength:25,required:!0}),(0,gc.jsx)("textarea",{type:"text",value:y.aboutMe,onChange:A,placeholder:"About Me",name:"aboutMe",disabled:!w}),(0,gc.jsx)("input",{type:"email",value:y.email,onChange:A,placeholder:"email",disabled:!w,name:"email",required:!0}),w?(0,gc.jsxs)(gc.Fragment,{children:[(0,gc.jsx)("input",{type:"url",value:y.linkedin,onChange:A,name:"linkedin",placeholder:"Linkedin"}),(0,gc.jsx)("input",{type:"url",value:y.github,onChange:A,placeholder:"Github",name:"github"})]}):(0,gc.jsxs)("div",{className:xT,children:[(0,gc.jsx)("a",{href:(null===y||void 0===y?void 0:y.linkedin)||void 0,target:"_blank",rel:"noopener noreferrer",children:(0,gc.jsx)(TT,{className:"".concat(_T," ").concat(!(null!==y&&void 0!==y&&y.linkedin)&&IT)})}),(0,gc.jsx)("a",{href:(null===y||void 0===y?void 0:y.github)||void 0,target:"_blank",rel:"noopener noreferrer",children:(0,gc.jsx)(AT,{className:"".concat(_T," ").concat(!(null!==y&&void 0!==y&&y.github)&&IT)})})]}),"loading"===I?(0,gc.jsx)(DT,{}):(0,gc.jsx)("p",{className:bT,children:I}),r&&(0,gc.jsxs)("div",{className:wT,children:[(0,gc.jsx)("button",{onClick:C,type:"button",children:w?"Cancel":(0,gc.jsxs)(gc.Fragment,{children:["Edit Profile ",(0,gc.jsx)(ET,{height:"15px"})]})}),w&&(0,gc.jsx)("button",{type:"submit",children:"Save"})]})]})};function OT(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=OT(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var PT,MT,FT,jT,UT=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=OT(e))&&(r&&(r+=" "),r+=t);return r},VT=Object.create,BT=Object.defineProperty,zT=Object.defineProperties,qT=Object.getOwnPropertyDescriptor,HT=Object.getOwnPropertyDescriptors,GT=Object.getOwnPropertyNames,WT=Object.getOwnPropertySymbols,KT=Object.getPrototypeOf,QT=Object.prototype.hasOwnProperty,$T=Object.prototype.propertyIsEnumerable,YT=function(e,t,n){return t in e?BT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},XT=function(e,t){for(var n in t||(t={}))QT.call(t,n)&&YT(e,n,t[n]);if(WT){var r,i=b(WT(t));try{for(i.s();!(r=i.n()).done;){n=r.value;$T.call(t,n)&&YT(e,n,t[n])}}catch(a){i.e(a)}finally{i.f()}}return e},ZT=function(e,t){return zT(e,HT(t))},JT=function(e,t){var n={};for(var r in e)QT.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&WT){var i,a=b(WT(e));try{for(a.s();!(i=a.n()).done;){r=i.value;t.indexOf(r)<0&&$T.call(e,r)&&(n[r]=e[r])}}catch(o){a.e(o)}finally{a.f()}}return n},eA=function(e,t){return function(){return t||(0,e[GT(e)[0]])((t={exports:{}}).exports,t),t.exports}}({"../../node_modules/.pnpm/prismjs@1.29.0_patch_hash=vrxx3pzkik6jpmgpayxfjunetu/node_modules/prismjs/prism.js":function(e,t){var n=function(){var e=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,t=0,n={},r={util:{encode:function e(t){return t instanceof i?new i(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function e(t,n){var i,a;switch(n=n||{},r.util.type(t)){case"Object":if(a=r.util.objId(t),n[a])return n[a];for(var o in i={},n[a]=i,t)t.hasOwnProperty(o)&&(i[o]=e(t[o],n));return i;case"Array":return a=r.util.objId(t),n[a]?n[a]:(i=[],n[a]=i,t.forEach((function(t,r){i[r]=e(t,n)})),i);default:return t}},getLanguage:function(t){for(;t;){var n=e.exec(t.className);if(n)return n[1].toLowerCase();t=t.parentElement}return"none"},setLanguage:function(t,n){t.className=t.className.replace(RegExp(e,"gi"),""),t.classList.add("language-"+n)},isActive:function(e,t,n){for(var r="no-"+t;e;){var i=e.classList;if(i.contains(t))return!0;if(i.contains(r))return!1;e=e.parentElement}return!!n}},languages:{plain:n,plaintext:n,text:n,txt:n,extend:function(e,t){var n=r.util.clone(r.languages[e]);for(var i in t)n[i]=t[i];return n},insertBefore:function(e,t,n,i){var a=(i=i||r.languages)[e],o={};for(var s in a)if(a.hasOwnProperty(s)){if(s==t)for(var u in n)n.hasOwnProperty(u)&&(o[u]=n[u]);n.hasOwnProperty(s)||(o[s]=a[s])}var c=i[e];return i[e]=o,r.languages.DFS(r.languages,(function(t,n){n===c&&t!=e&&(this[t]=o)})),o},DFS:function e(t,n,i,a){a=a||{};var o=r.util.objId;for(var s in t)if(t.hasOwnProperty(s)){n.call(t,s,t[s],i||s);var u=t[s],c=r.util.type(u);"Object"!==c||a[o(u)]?"Array"!==c||a[o(u)]||(a[o(u)]=!0,e(u,n,s,a)):(a[o(u)]=!0,e(u,n,null,a))}}},plugins:{},highlight:function(e,t,n){var a={code:e,grammar:t,language:n};if(r.hooks.run("before-tokenize",a),!a.grammar)throw new Error('The language "'+a.language+'" has no grammar.');return a.tokens=r.tokenize(a.code,a.grammar),r.hooks.run("after-tokenize",a),i.stringify(r.util.encode(a.tokens),a.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var r in n)t[r]=n[r];delete t.rest}var i=new s;return u(i,i.head,e),o(e,i,t,i.head,0),function(e){var t=[],n=e.head.next;for(;n!==e.tail;)t.push(n.value),n=n.next;return t}(i)},hooks:{all:{},add:function(e,t){var n=r.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=r.hooks.all[e];if(n&&n.length)for(var i,a=0;i=n[a++];)i(t)}},Token:i};function i(e,t,n,r){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length}function a(e,t,n,r){e.lastIndex=t;var i=e.exec(n);if(i&&r&&i[1]){var a=i[1].length;i.index+=a,i[0]=i[0].slice(a)}return i}function o(e,t,n,s,l,f){for(var h in n)if(n.hasOwnProperty(h)&&n[h]){var d=n[h];d=Array.isArray(d)?d:[d];for(var p=0;p<d.length;++p){if(f&&f.cause==h+","+p)return;var v=d[p],g=v.inside,m=!!v.lookbehind,y=!!v.greedy,k=v.alias;if(y&&!v.pattern.global){var b=v.pattern.toString().match(/[imsuy]*$/)[0];v.pattern=RegExp(v.pattern.source,b+"g")}for(var w=v.pattern||v,x=s.next,_=l;x!==t.tail&&!(f&&_>=f.reach);_+=x.value.length,x=x.next){var I=x.value;if(t.length>e.length)return;if(!(I instanceof i)){var S,E=1;if(y){if(!(S=a(w,_,e,m))||S.index>=e.length)break;var C=S.index,T=S.index+S[0].length,A=_;for(A+=x.value.length;C>=A;)A+=(x=x.next).value.length;if(_=A-=x.value.length,x.value instanceof i)continue;for(var N=x;N!==t.tail&&(A<T||"string"===typeof N.value);N=N.next)E++,A+=N.value.length;E--,I=e.slice(_,A),S.index-=_}else if(!(S=a(w,0,I,m)))continue;C=S.index;var R=S[0],D=I.slice(0,C),L=I.slice(C+R.length),O=_+I.length;f&&O>f.reach&&(f.reach=O);var P=x.prev;if(D&&(P=u(t,P,D),_+=D.length),c(t,P,E),x=u(t,P,new i(h,g?r.tokenize(R,g):R,k,R)),L&&u(t,x,L),E>1){var M={cause:h+","+p,reach:O};o(e,t,n,x.prev,_,M),f&&M.reach>f.reach&&(f.reach=M.reach)}}}}}}function s(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function u(e,t,n){var r=t.next,i={value:n,prev:t,next:r};return t.next=i,r.prev=i,e.length++,i}function c(e,t,n){for(var r=t.next,i=0;i<n&&r!==e.tail;i++)r=r.next;t.next=r,r.prev=t,e.length-=i}return i.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var i="";return t.forEach((function(t){i+=e(t,n)})),i}var a={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},o=t.alias;o&&(Array.isArray(o)?Array.prototype.push.apply(a.classes,o):a.classes.push(o)),r.hooks.run("wrap",a);var s="";for(var u in a.attributes)s+=" "+u+'="'+(a.attributes[u]||"").replace(/"/g,"&quot;")+'"';return"<"+a.tag+' class="'+a.classes.join(" ")+'"'+s+">"+a.content+"</"+a.tag+">"},r}();t.exports=n,n.default=n}}),tA=(PT=eA(),FT=null!=PT?VT(KT(PT)):{},function(e,t,n,r){if(t&&"object"===typeof t||"function"===typeof t){var i,a=b(GT(t));try{var o=function(){var a=i.value;QT.call(e,a)||a===n||BT(e,a,{get:function(){return t[a]},enumerable:!(r=qT(t,a))||r.enumerable})};for(a.s();!(i=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}}return e}(!MT&&PT&&PT.__esModule?FT:BT(FT,"default",{value:PT,enumerable:!0}),PT));!function(e){var t={pattern:/\\[\\(){}[\]^$+*?|.]/,alias:"escape"},n=/\\(?:x[\da-fA-F]{2}|u[\da-fA-F]{4}|u\{[\da-fA-F]+\}|0[0-7]{0,2}|[123][0-7]{2}|c[a-zA-Z]|.)/,r="(?:[^\\\\-]|"+n.source+")",i=(r=RegExp(r+"-"+r),{pattern:/(<|')[^<>']+(?=[>']$)/,lookbehind:!0,alias:"variable"});e.languages.regex={"char-class":{pattern:/((?:^|[^\\])(?:\\\\)*)\[(?:[^\\\]]|\\[\s\S])*\]/,lookbehind:!0,inside:{"char-class-negation":{pattern:/(^\[)\^/,lookbehind:!0,alias:"operator"},"char-class-punctuation":{pattern:/^\[|\]$/,alias:"punctuation"},range:{pattern:r,inside:{escape:n,"range-punctuation":{pattern:/-/,alias:"operator"}}},"special-escape":t,"char-set":{pattern:/\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},escape:n}},"special-escape":t,"char-set":{pattern:/\.|\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},backreference:[{pattern:/\\(?![123][0-7]{2})[1-9]/,alias:"keyword"},{pattern:/\\k<[^<>']+>/,alias:"keyword",inside:{"group-name":i}}],anchor:{pattern:/[$^]|\\[ABbGZz]/,alias:"function"},escape:n,group:[{pattern:/\((?:\?(?:<[^<>']+>|'[^<>']+'|[>:]|<?[=!]|[idmnsuxU]+(?:-[idmnsuxU]+)?:?))?/,alias:"punctuation",inside:{"group-name":i}},{pattern:/\)/,alias:"punctuation"}],quantifier:{pattern:/(?:[+*?]|\{\d+(?:,\d*)?\})[?+]?/,alias:"number"},alternation:{pattern:/\|/,alias:"keyword"}}}(tA),tA.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},tA.languages.javascript=tA.languages.extend("clike",{"class-name":[tA.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),tA.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,tA.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:tA.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:tA.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:tA.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:tA.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:tA.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),tA.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:tA.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),tA.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),tA.languages.markup&&(tA.languages.markup.tag.addInlined("script","javascript"),tA.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),tA.languages.js=tA.languages.javascript,tA.languages.actionscript=tA.languages.extend("javascript",{keyword:/\b(?:as|break|case|catch|class|const|default|delete|do|dynamic|each|else|extends|final|finally|for|function|get|if|implements|import|in|include|instanceof|interface|internal|is|namespace|native|new|null|override|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|use|var|void|while|with)\b/,operator:/\+\+|--|(?:[+\-*\/%^]|&&?|\|\|?|<<?|>>?>?|[!=]=?)=?|[~?@]/}),tA.languages.actionscript["class-name"].alias="function",delete tA.languages.actionscript.parameter,delete tA.languages.actionscript["literal-property"],tA.languages.markup&&tA.languages.insertBefore("actionscript","string",{xml:{pattern:/(^|[^.])<\/?\w+(?:\s+[^\s>\/=]+=("|')(?:\\[\s\S]|(?!\2)[^\\])*\2)*\s*\/?>/,lookbehind:!0,inside:tA.languages.markup}}),function(e){var t=/#(?!\{).+/,n={pattern:/#\{[^}]+\}/,alias:"variable"};e.languages.coffeescript=e.languages.extend("javascript",{comment:t,string:[{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,inside:{interpolation:n}}],keyword:/\b(?:and|break|by|catch|class|continue|debugger|delete|do|each|else|extend|extends|false|finally|for|if|in|instanceof|is|isnt|let|loop|namespace|new|no|not|null|of|off|on|or|own|return|super|switch|then|this|throw|true|try|typeof|undefined|unless|until|when|while|window|with|yes|yield)\b/,"class-member":{pattern:/@(?!\d)\w+/,alias:"variable"}}),e.languages.insertBefore("coffeescript","comment",{"multiline-comment":{pattern:/###[\s\S]+?###/,alias:"comment"},"block-regex":{pattern:/\/{3}[\s\S]*?\/{3}/,alias:"regex",inside:{comment:t,interpolation:n}}}),e.languages.insertBefore("coffeescript","string",{"inline-javascript":{pattern:/`(?:\\[\s\S]|[^\\`])*`/,inside:{delimiter:{pattern:/^`|`$/,alias:"punctuation"},script:{pattern:/[\s\S]+/,alias:"language-javascript",inside:e.languages.javascript}}},"multiline-string":[{pattern:/'''[\s\S]*?'''/,greedy:!0,alias:"string"},{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string",inside:{interpolation:n}}]}),e.languages.insertBefore("coffeescript","keyword",{property:/(?!\d)\w+(?=\s*:(?!:))/}),delete e.languages.coffeescript["template-string"],e.languages.coffee=e.languages.coffeescript}(tA),function(e){var t=e.languages.javadoclike={parameter:{pattern:/(^[\t ]*(?:\/{3}|\*|\/\*\*)\s*@(?:arg|arguments|param)\s+)\w+/m,lookbehind:!0},keyword:{pattern:/(^[\t ]*(?:\/{3}|\*|\/\*\*)\s*|\{)@[a-z][a-zA-Z-]+\b/m,lookbehind:!0},punctuation:/[{}]/};Object.defineProperty(t,"addSupport",{value:function(t,n){(t="string"==typeof t?[t]:t).forEach((function(t){var r=function(e){e.inside||(e.inside={}),e.inside.rest=n},i="doc-comment";if(a=e.languages[t]){var a,o=a[i];if((o=o||(a=e.languages.insertBefore(t,"comment",{"doc-comment":{pattern:/(^|[^\\])\/\*\*[^/][\s\S]*?(?:\*\/|$)/,lookbehind:!0,alias:"comment"}}))[i])instanceof RegExp&&(o=a[i]={pattern:o}),Array.isArray(o))for(var s=0,u=o.length;s<u;s++)o[s]instanceof RegExp&&(o[s]={pattern:o[s]}),r(o[s]);else r(o)}}))}}),t.addSupport(["java","javascript","php"],t)}(tA),function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;(t=(e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css,e.languages.markup))&&(t.tag.addInlined("style","css"),t.tag.addAttribute("style","css"))}(tA),function(e){var t=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,n=(t=(e.languages.css.selector={pattern:e.languages.css.selector.pattern,lookbehind:!0,inside:t={"pseudo-element":/:(?:after|before|first-letter|first-line|selection)|::[-\w]+/,"pseudo-class":/:[-\w]+/,class:/\.[-\w]+/,id:/#[-\w]+/,attribute:{pattern:RegExp("\\[(?:[^[\\]\"']|"+t.source+")*\\]"),greedy:!0,inside:{punctuation:/^\[|\]$/,"case-sensitivity":{pattern:/(\s)[si]$/i,lookbehind:!0,alias:"keyword"},namespace:{pattern:/^(\s*)(?:(?!\s)[-*\w\xA0-\uFFFF])*\|(?!=)/,lookbehind:!0,inside:{punctuation:/\|$/}},"attr-name":{pattern:/^(\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+/,lookbehind:!0},"attr-value":[t,{pattern:/(=\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+(?=\s*$)/,lookbehind:!0}],operator:/[|~*^$]?=/}},"n-th":[{pattern:/(\(\s*)[+-]?\d*[\dn](?:\s*[+-]\s*\d+)?(?=\s*\))/,lookbehind:!0,inside:{number:/[\dn]+/,operator:/[+-]/}},{pattern:/(\(\s*)(?:even|odd)(?=\s*\))/i,lookbehind:!0}],combinator:/>|\+|~|\|\|/,punctuation:/[(),]/}},e.languages.css.atrule.inside["selector-function-argument"].inside=t,e.languages.insertBefore("css","property",{variable:{pattern:/(^|[^-\w\xA0-\uFFFF])--(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*/i,lookbehind:!0}}),{pattern:/(\b\d+)(?:%|[a-z]+(?![\w-]))/,lookbehind:!0}),{pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0});e.languages.insertBefore("css","function",{operator:{pattern:/(\s)[+\-*\/](?=\s)/,lookbehind:!0},hexcode:{pattern:/\B#[\da-f]{3,8}\b/i,alias:"color"},color:[{pattern:/(^|[^\w-])(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|RebeccaPurple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)(?![\w-])/i,lookbehind:!0},{pattern:/\b(?:hsl|rgb)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:hsl|rgb)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:t,number:n,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:t,number:n})}(tA),function(e){var t=/[*&][^\s[\]{},]+/,n=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,r="(?:"+n.source+"(?:[ \t]+"+t.source+")?|"+t.source+"(?:[ \t]+"+n.source+")?)",i=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,(function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source})),a=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function o(e,t){t=(t||"").replace(/m/g,"")+"m";var n=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|\]|\}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,(function(){return r})).replace(/<<value>>/g,(function(){return e}));return RegExp(n,t)}e.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,(function(){return r}))),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,(function(){return r})).replace(/<<key>>/g,(function(){return"(?:"+i+"|"+a+")"}))),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:o(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:o(/false|true/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:o(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:o(a),lookbehind:!0,greedy:!0},number:{pattern:o(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:n,important:t,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},e.languages.yml=e.languages.yaml}(tA),tA.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},tA.languages.markup.tag.inside["attr-value"].inside.entity=tA.languages.markup.entity,tA.languages.markup.doctype.inside["internal-subset"].inside=tA.languages.markup,tA.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(tA.languages.markup.tag,"addInlined",{value:function(e,t){var n;(t=((n=((n={})["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:tA.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i,{"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}}))["language-"+t]={pattern:/[\s\S]+/,inside:tA.languages[t]},{}))[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:n},tA.languages.insertBefore("markup","cdata",t)}}),Object.defineProperty(tA.languages.markup.tag,"addAttribute",{value:function(e,t){tA.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:tA.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),tA.languages.html=tA.languages.markup,tA.languages.mathml=tA.languages.markup,tA.languages.svg=tA.languages.markup,tA.languages.xml=tA.languages.extend("markup",{}),tA.languages.ssml=tA.languages.xml,tA.languages.atom=tA.languages.xml,tA.languages.rss=tA.languages.xml,function(e){var t=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function n(e){return e=e.replace(/<inner>/g,(function(){return t})),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+e+")")}var r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,i=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,(function(){return r})),a=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source,o=(e.languages.markdown=e.languages.extend("markup",{}),e.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:e.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+i+a+"(?:"+i+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+i+a+")(?:"+i+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:e.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+i+")"+a+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+i+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:e.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:n(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:n(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:n(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:n(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach((function(t){["url","bold","italic","strike","code-snippet"].forEach((function(n){t!==n&&(e.languages.markdown[t].inside.content.inside[n]=e.languages.markdown[n])}))})),e.hooks.add("after-tokenize",(function(e){"markdown"!==e.language&&"md"!==e.language||function e(t){if(t&&"string"!=typeof t)for(var n=0,r=t.length;n<r;n++){var i,a=t[n];"code"!==a.type?e(a.content):(i=a.content[1],a=a.content[3],i&&a&&"code-language"===i.type&&"code-block"===a.type&&"string"==typeof i.content&&(i=i.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp"),i="language-"+(i=(/[a-z][\w-]*/i.exec(i)||[""])[0].toLowerCase()),a.alias?"string"==typeof a.alias?a.alias=[a.alias,i]:a.alias.push(i):a.alias=[i]))}}(e.tokens)})),e.hooks.add("wrap",(function(t){if("code-block"===t.type){for(var n="",r=0,i=t.classes.length;r<i;r++){var a=t.classes[r];if(a=/language-(.+)/.exec(a)){n=a[1];break}}var c,l=e.languages[n];l?t.content=e.highlight(t.content.replace(o,"").replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,(function(e,t){var n;return"#"===(t=t.toLowerCase())[0]?(n="x"===t[1]?parseInt(t.slice(2),16):Number(t.slice(1)),u(n)):s[t]||e})),l,n):n&&"none"!==n&&e.plugins.autoloader&&(c="md-"+(new Date).valueOf()+"-"+Math.floor(1e16*Math.random()),t.attributes.id=c,e.plugins.autoloader.loadLanguages(n,(function(){var t=document.getElementById(c);t&&(t.innerHTML=e.highlight(t.textContent,e.languages[n],n))})))}})),RegExp(e.languages.markup.tag.pattern.source,"gi")),s={amp:"&",lt:"<",gt:">",quot:'"'},u=String.fromCodePoint||String.fromCharCode;e.languages.md=e.languages.markdown}(tA),tA.languages.graphql={comment:/#.*/,description:{pattern:/(?:"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*")(?=\s*[a-z_])/i,greedy:!0,alias:"string",inside:{"language-markdown":{pattern:/(^"(?:"")?)(?!\1)[\s\S]+(?=\1$)/,lookbehind:!0,inside:tA.languages.markdown}}},string:{pattern:/"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*"/,greedy:!0},number:/(?:\B-|\b)\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,boolean:/\b(?:false|true)\b/,variable:/\$[a-z_]\w*/i,directive:{pattern:/@[a-z_]\w*/i,alias:"function"},"attr-name":{pattern:/\b[a-z_]\w*(?=\s*(?:\((?:[^()"]|"(?:\\.|[^\\"\r\n])*")*\))?:)/i,greedy:!0},"atom-input":{pattern:/\b[A-Z]\w*Input\b/,alias:"class-name"},scalar:/\b(?:Boolean|Float|ID|Int|String)\b/,constant:/\b[A-Z][A-Z_\d]*\b/,"class-name":{pattern:/(\b(?:enum|implements|interface|on|scalar|type|union)\s+|&\s*|:\s*|\[)[A-Z_]\w*/,lookbehind:!0},fragment:{pattern:/(\bfragment\s+|\.{3}\s*(?!on\b))[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-mutation":{pattern:/(\bmutation\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-query":{pattern:/(\bquery\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},keyword:/\b(?:directive|enum|extend|fragment|implements|input|interface|mutation|on|query|repeatable|scalar|schema|subscription|type|union)\b/,operator:/[!=|&]|\.{3}/,"property-query":/\w+(?=\s*\()/,object:/\w+(?=\s*\{)/,punctuation:/[!(){}\[\]:=,]/,property:/\w+/},tA.hooks.add("after-tokenize",(function(e){if("graphql"===e.language)for(var t=e.tokens.filter((function(e){return"string"!=typeof e&&"comment"!==e.type&&"scalar"!==e.type})),n=0;n<t.length;){var r=t[n++];if("keyword"===r.type&&"mutation"===r.content){var i=[];if(f(["definition-mutation","punctuation"])&&"("===l(1).content){n+=2;var a=h(/^\($/,/^\)$/);if(-1===a)continue;for(;n<a;n++){var o=l(0);"variable"===o.type&&(d(o,"variable-input"),i.push(o.content))}n=a+1}if(f(["punctuation","property-query"])&&"{"===l(0).content&&(n++,d(l(0),"property-mutation"),0<i.length)){var s=h(/^\{$/,/^\}$/);if(-1!==s)for(var u=n;u<s;u++){var c=t[u];"variable"===c.type&&0<=i.indexOf(c.content)&&d(c,"variable-input")}}}}function l(e){return t[n+e]}function f(e,t){t=t||0;for(var n=0;n<e.length;n++){var r=l(n+t);if(!r||r.type!==e[n])return}return 1}function h(e,r){for(var i=1,a=n;a<t.length;a++){var o=t[a],s=o.content;if("punctuation"===o.type&&"string"==typeof s)if(e.test(s))i++;else if(r.test(s)&&0===--i)return a}return-1}function d(e,t){var n=e.alias;n?Array.isArray(n)||(e.alias=n=[n]):e.alias=n=[],n.push(t)}})),tA.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/},function(e){var t=e.languages.javascript["template-string"],n=t.pattern.source,r=t.inside.interpolation,i=r.inside["interpolation-punctuation"],a=r.pattern.source;function o(t,r){if(e.languages[t])return{pattern:RegExp("((?:"+r+")\\s*)"+n),lookbehind:!0,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},"embedded-code":{pattern:/[\s\S]+/,alias:t}}}}function s(t,n,r){return t={code:t,grammar:n,language:r},e.hooks.run("before-tokenize",t),t.tokens=e.tokenize(t.code,t.grammar),e.hooks.run("after-tokenize",t),t.tokens}function u(t,n,o){var u=e.tokenize(t,{interpolation:{pattern:RegExp(a),lookbehind:!0}}),c=0,l={},f=(u=s(u.map((function(e){if("string"==typeof e)return e;var n,r;for(e=e.content;-1!==t.indexOf((r=c++,n="___"+o.toUpperCase()+"_"+r+"___")););return l[n]=e,n})).join(""),n,o),Object.keys(l));return c=0,function t(n){for(var a=0;a<n.length;a++){if(c>=f.length)return;var o,u,h,d,p,v,g,m=n[a];"string"==typeof m||"string"==typeof m.content?(o=f[c],-1!==(g=(v="string"==typeof m?m:m.content).indexOf(o))&&(++c,u=v.substring(0,g),p=l[o],h=void 0,(d={})["interpolation-punctuation"]=i,3===(d=e.tokenize(p,d)).length&&((h=[1,1]).push.apply(h,s(d[1],e.languages.javascript,"javascript")),d.splice.apply(d,h)),h=new e.Token("interpolation",d,r.alias,p),d=v.substring(g+o.length),p=[],u&&p.push(u),p.push(h),d&&(t(v=[d]),p.push.apply(p,v)),"string"==typeof m?(n.splice.apply(n,[a,1].concat(p)),a+=p.length-1):m.content=p)):(g=m.content,Array.isArray(g)?t(g):t([g]))}}(u),new e.Token(o,u,"language-"+o,t)}e.languages.javascript["template-string"]=[o("css",/\b(?:styled(?:\([^)]*\))?(?:\s*\.\s*\w+(?:\([^)]*\))*)*|css(?:\s*\.\s*(?:global|resolve))?|createGlobalStyle|keyframes)/.source),o("html",/\bhtml|\.\s*(?:inner|outer)HTML\s*\+?=/.source),o("svg",/\bsvg/.source),o("markdown",/\b(?:markdown|md)/.source),o("graphql",/\b(?:gql|graphql(?:\s*\.\s*experimental)?)/.source),o("sql",/\bsql/.source),t].filter(Boolean);var c={javascript:!0,js:!0,typescript:!0,ts:!0,jsx:!0,tsx:!0};function l(e){return"string"==typeof e?e:Array.isArray(e)?e.map(l).join(""):l(e.content)}e.hooks.add("after-tokenize",(function(t){t.language in c&&function t(n){for(var r=0,i=n.length;r<i;r++){var a,o,s,c=n[r];"string"!=typeof c&&(a=c.content,Array.isArray(a)?"template-string"===c.type?(c=a[1],3===a.length&&"string"!=typeof c&&"embedded-code"===c.type&&(o=l(c),c=c.alias,c=Array.isArray(c)?c[0]:c,s=e.languages[c])&&(a[1]=u(o,s,c))):t(a):"string"!=typeof a&&t([a]))}}(t.tokens)}))}(tA),function(e){e.languages.typescript=e.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),e.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete e.languages.typescript.parameter,delete e.languages.typescript["literal-property"];var t=e.languages.extend("typescript",{});delete t["class-name"],e.languages.typescript["class-name"].inside=t,e.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t}}}}),e.languages.ts=e.languages.typescript}(tA),function(e){var t=e.languages.javascript,n=/\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})+\}/.source,r="(@(?:arg|argument|param|property)\\s+(?:"+n+"\\s+)?)";e.languages.jsdoc=e.languages.extend("javadoclike",{parameter:{pattern:RegExp(r+/(?:(?!\s)[$\w\xA0-\uFFFF.])+(?=\s|$)/.source),lookbehind:!0,inside:{punctuation:/\./}}}),e.languages.insertBefore("jsdoc","keyword",{"optional-parameter":{pattern:RegExp(r+/\[(?:(?!\s)[$\w\xA0-\uFFFF.])+(?:=[^[\]]+)?\](?=\s|$)/.source),lookbehind:!0,inside:{parameter:{pattern:/(^\[)[$\w\xA0-\uFFFF\.]+/,lookbehind:!0,inside:{punctuation:/\./}},code:{pattern:/(=)[\s\S]*(?=\]$)/,lookbehind:!0,inside:t,alias:"language-javascript"},punctuation:/[=[\]]/}},"class-name":[{pattern:RegExp(/(@(?:augments|class|extends|interface|memberof!?|template|this|typedef)\s+(?:<TYPE>\s+)?)[A-Z]\w*(?:\.[A-Z]\w*)*/.source.replace(/<TYPE>/g,(function(){return n}))),lookbehind:!0,inside:{punctuation:/\./}},{pattern:RegExp("(@[a-z]+\\s+)"+n),lookbehind:!0,inside:{string:t.string,number:t.number,boolean:t.boolean,keyword:e.languages.typescript.keyword,operator:/=>|\.\.\.|[&|?:*]/,punctuation:/[.,;=<>{}()[\]]/}}],example:{pattern:/(@example\s+(?!\s))(?:[^@\s]|\s+(?!\s))+?(?=\s*(?:\*\s*)?(?:@\w|\*\/))/,lookbehind:!0,inside:{code:{pattern:/^([\t ]*(?:\*\s*)?)\S.*$/m,lookbehind:!0,inside:t,alias:"language-javascript"}}}}),e.languages.javadoclike.addSupport("javascript",e.languages.jsdoc)}(tA),(jT=tA).languages.flow=jT.languages.extend("javascript",{}),jT.languages.insertBefore("flow","keyword",{type:[{pattern:/\b(?:[Bb]oolean|Function|[Nn]umber|[Ss]tring|[Ss]ymbol|any|mixed|null|void)\b/,alias:"class-name"}]}),jT.languages.flow["function-variable"].pattern=/(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=\s*(?:function\b|(?:\([^()]*\)(?:\s*:\s*\w+)?|(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/i,delete jT.languages.flow.parameter,jT.languages.insertBefore("flow","operator",{"flow-punctuation":{pattern:/\{\||\|\}/,alias:"punctuation"}}),Array.isArray(jT.languages.flow.keyword)||(jT.languages.flow.keyword=[jT.languages.flow.keyword]),jT.languages.flow.keyword.unshift({pattern:/(^|[^$]\b)(?:Class|declare|opaque|type)\b(?!\$)/,lookbehind:!0},{pattern:/(^|[^$]\B)\$(?:Diff|Enum|Exact|Keys|ObjMap|PropertyType|Record|Shape|Subtype|Supertype|await)\b(?!\$)/,lookbehind:!0}),tA.languages.n4js=tA.languages.extend("javascript",{keyword:/\b(?:Array|any|boolean|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|module|new|null|number|package|private|protected|public|return|set|static|string|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/}),tA.languages.insertBefore("n4js","constant",{annotation:{pattern:/@+\w+/,alias:"operator"}}),tA.languages.n4jsd=tA.languages.n4js,function(e){function t(e,t){return RegExp(e.replace(/<ID>/g,(function(){return/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/.source})),t)}e.languages.insertBefore("javascript","function-variable",{"method-variable":{pattern:RegExp("(\\.\\s*)"+e.languages.javascript["function-variable"].pattern.source),lookbehind:!0,alias:["function-variable","method","function","property-access"]}}),e.languages.insertBefore("javascript","function",{method:{pattern:RegExp("(\\.\\s*)"+e.languages.javascript.function.source),lookbehind:!0,alias:["function","property-access"]}}),e.languages.insertBefore("javascript","constant",{"known-class-name":[{pattern:/\b(?:(?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)?Array|ArrayBuffer|BigInt|Boolean|DataView|Date|Error|Function|Intl|JSON|(?:Weak)?(?:Map|Set)|Math|Number|Object|Promise|Proxy|Reflect|RegExp|String|Symbol|WebAssembly)\b/,alias:"class-name"},{pattern:/\b(?:[A-Z]\w*)Error\b/,alias:"class-name"}]}),e.languages.insertBefore("javascript","keyword",{imports:{pattern:t(/(\bimport\b\s*)(?:<ID>(?:\s*,\s*(?:\*\s*as\s+<ID>|\{[^{}]*\}))?|\*\s*as\s+<ID>|\{[^{}]*\})(?=\s*\bfrom\b)/.source),lookbehind:!0,inside:e.languages.javascript},exports:{pattern:t(/(\bexport\b\s*)(?:\*(?:\s*as\s+<ID>)?(?=\s*\bfrom\b)|\{[^{}]*\})/.source),lookbehind:!0,inside:e.languages.javascript}}),e.languages.javascript.keyword.unshift({pattern:/\b(?:as|default|export|from|import)\b/,alias:"module"},{pattern:/\b(?:await|break|catch|continue|do|else|finally|for|if|return|switch|throw|try|while|yield)\b/,alias:"control-flow"},{pattern:/\bnull\b/,alias:["null","nil"]},{pattern:/\bundefined\b/,alias:"nil"}),e.languages.insertBefore("javascript","operator",{spread:{pattern:/\.{3}/,alias:"operator"},arrow:{pattern:/=>/,alias:"operator"}}),e.languages.insertBefore("javascript","punctuation",{"property-access":{pattern:t(/(\.\s*)#?<ID>/.source),lookbehind:!0},"maybe-class-name":{pattern:/(^|[^$\w\xA0-\uFFFF])[A-Z][$\w\xA0-\uFFFF]+/,lookbehind:!0},dom:{pattern:/\b(?:document|(?:local|session)Storage|location|navigator|performance|window)\b/,alias:"variable"},console:{pattern:/\bconsole(?=\s*\.)/,alias:"class-name"}});for(var n=["function","function-variable","method","method-variable","property-access"],r=0;r<n.length;r++){var i=n[r],a=e.languages.javascript[i];i=(a="RegExp"===e.util.type(a)?e.languages.javascript[i]={pattern:a}:a).inside||{};(a.inside=i)["maybe-class-name"]=/^[A-Z][\s\S]*/}}(tA),function(e){var t=e.util.clone(e.languages.javascript),n=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,r=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,i=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function a(e,t){return e=e.replace(/<S>/g,(function(){return n})).replace(/<BRACES>/g,(function(){return r})).replace(/<SPREAD>/g,(function(){return i})),RegExp(e,t)}function o(t){for(var n=[],r=0;r<t.length;r++){var i=t[r],a=!1;"string"!=typeof i&&("tag"===i.type&&i.content[0]&&"tag"===i.content[0].type?"</"===i.content[0].content[0].content?0<n.length&&n[n.length-1].tagName===s(i.content[0].content[1])&&n.pop():"/>"!==i.content[i.content.length-1].content&&n.push({tagName:s(i.content[0].content[1]),openedBraces:0}):0<n.length&&"punctuation"===i.type&&"{"===i.content?n[n.length-1].openedBraces++:0<n.length&&0<n[n.length-1].openedBraces&&"punctuation"===i.type&&"}"===i.content?n[n.length-1].openedBraces--:a=!0),(a||"string"==typeof i)&&0<n.length&&0===n[n.length-1].openedBraces&&(a=s(i),r<t.length-1&&("string"==typeof t[r+1]||"plain-text"===t[r+1].type)&&(a+=s(t[r+1]),t.splice(r+1,1)),0<r&&("string"==typeof t[r-1]||"plain-text"===t[r-1].type)&&(a=s(t[r-1])+a,t.splice(r-1,1),r--),t[r]=new e.Token("plain-text",a,null,a)),i.content&&"string"!=typeof i.content&&o(i.content)}}i=a(i).source,e.languages.jsx=e.languages.extend("markup",t),e.languages.jsx.tag.pattern=a(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),e.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,e.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,e.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,e.languages.jsx.tag.inside.comment=t.comment,e.languages.insertBefore("inside","attr-name",{spread:{pattern:a(/<SPREAD>/.source),inside:e.languages.jsx}},e.languages.jsx.tag),e.languages.insertBefore("inside","special-attr",{script:{pattern:a(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:e.languages.jsx}}},e.languages.jsx.tag);var s=function e(t){return t?"string"==typeof t?t:"string"==typeof t.content?t.content:t.content.map(e).join(""):""};e.hooks.add("after-tokenize",(function(e){"jsx"!==e.language&&"tsx"!==e.language||o(e.tokens)}))}(tA),function(e){var t=e.util.clone(e.languages.typescript);(t=(e.languages.tsx=e.languages.extend("jsx",t),delete e.languages.tsx.parameter,delete e.languages.tsx["literal-property"],e.languages.tsx.tag)).pattern=RegExp(/(^|[^\w$]|(?=<\/))/.source+"(?:"+t.pattern.source+")",t.pattern.flags),t.lookbehind=!0}(tA),tA.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+/(?:elseif|if)\b/.source+"(?:[ \t]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},tA.languages.swift["string-literal"].forEach((function(e){e.inside.interpolation.inside=tA.languages.swift})),function(e){e.languages.kotlin=e.languages.extend("clike",{keyword:{pattern:/(^|[^.])\b(?:abstract|actual|annotation|as|break|by|catch|class|companion|const|constructor|continue|crossinline|data|do|dynamic|else|enum|expect|external|final|finally|for|fun|get|if|import|in|infix|init|inline|inner|interface|internal|is|lateinit|noinline|null|object|open|operator|out|override|package|private|protected|public|reified|return|sealed|set|super|suspend|tailrec|this|throw|to|try|typealias|val|var|vararg|when|where|while)\b/,lookbehind:!0},function:[{pattern:/(?:`[^\r\n`]+`|\b\w+)(?=\s*\()/,greedy:!0},{pattern:/(\.)(?:`[^\r\n`]+`|\w+)(?=\s*\{)/,lookbehind:!0,greedy:!0}],number:/\b(?:0[xX][\da-fA-F]+(?:_[\da-fA-F]+)*|0[bB][01]+(?:_[01]+)*|\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?(?:[eE][+-]?\d+(?:_\d+)*)?[fFL]?)\b/,operator:/\+[+=]?|-[-=>]?|==?=?|!(?:!|==?)?|[\/*%<>]=?|[?:]:?|\.\.|&&|\|\||\b(?:and|inv|or|shl|shr|ushr|xor)\b/}),delete e.languages.kotlin["class-name"];var t={"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:e.languages.kotlin}};e.languages.insertBefore("kotlin","string",{"string-literal":[{pattern:/"""(?:[^$]|\$(?:(?!\{)|\{[^{}]*\}))*?"""/,alias:"multiline",inside:{interpolation:{pattern:/\$(?:[a-z_]\w*|\{[^{}]*\})/i,inside:t},string:/[\s\S]+/}},{pattern:/"(?:[^"\\\r\n$]|\\.|\$(?:(?!\{)|\{[^{}]*\}))*"/,alias:"singleline",inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:[a-z_]\w*|\{[^{}]*\})/i,lookbehind:!0,inside:t},string:/[\s\S]+/}}],char:{pattern:/'(?:[^'\\\r\n]|\\(?:.|u[a-fA-F0-9]{0,4}))'/,greedy:!0}}),delete e.languages.kotlin.string,e.languages.insertBefore("kotlin","keyword",{annotation:{pattern:/\B@(?:\w+:)?(?:[A-Z]\w*|\[[^\]]+\])/,alias:"builtin"}}),e.languages.insertBefore("kotlin","function",{label:{pattern:/\b\w+@|@\w+\b/,alias:"symbol"}}),e.languages.kt=e.languages.kotlin,e.languages.kts=e.languages.kotlin}(tA),tA.languages.c=tA.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),tA.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),tA.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},tA.languages.c.string],char:tA.languages.c.char,comment:tA.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:tA.languages.c}}}}),tA.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete tA.languages.c.boolean,tA.languages.objectivec=tA.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete tA.languages.objectivec["class-name"],tA.languages.objc=tA.languages.objectivec,tA.languages.reason=tA.languages.extend("clike",{string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},"class-name":/\b[A-Z]\w*/,keyword:/\b(?:and|as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|method|module|mutable|new|nonrec|object|of|open|or|private|rec|sig|struct|switch|then|to|try|type|val|virtual|when|while|with)\b/,operator:/\.{3}|:[:=]|\|>|->|=(?:==?|>)?|<=?|>=?|[|^?'#!~`]|[+\-*\/]\.?|\b(?:asr|land|lor|lsl|lsr|lxor|mod)\b/}),tA.languages.insertBefore("reason","class-name",{char:{pattern:/'(?:\\x[\da-f]{2}|\\o[0-3][0-7][0-7]|\\\d{3}|\\.|[^'\\\r\n])'/,greedy:!0},constructor:/\b[A-Z]\w*\b(?!\s*\.)/,label:{pattern:/\b[a-z]\w*(?=::)/,alias:"symbol"}}),delete tA.languages.reason.function,function(e){for(var t=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,n=0;n<2;n++)t=t.replace(/<self>/g,(function(){return t}));t=t.replace(/<self>/g,(function(){return/[^\s\S]/.source})),e.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+t),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},e.languages.rust["closure-params"].inside.rest=e.languages.rust,e.languages.rust.attribute.inside.string=e.languages.rust.string}(tA),tA.languages.go=tA.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|iota|nil|true)\b/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/}),tA.languages.insertBefore("go","string",{char:{pattern:/'(?:\\.|[^'\\\r\n]){0,10}'/,greedy:!0}}),delete tA.languages.go["class-name"],function(e){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,(function(){return t.source}));e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,(function(){return n}))+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(tA);var nA={};!function(e,t){for(var n in t)BT(e,n,{get:t[n],enumerable:!0})}(nA,{dracula:function(){return rA},duotoneDark:function(){return iA},duotoneLight:function(){return aA},github:function(){return oA},jettwaveDark:function(){return kA},jettwaveLight:function(){return bA},nightOwl:function(){return sA},nightOwlLight:function(){return uA},oceanicNext:function(){return fA},okaidia:function(){return hA},oneDark:function(){return wA},oneLight:function(){return xA},palenight:function(){return dA},shadesOfPurple:function(){return pA},synthwave84:function(){return vA},ultramin:function(){return gA},vsDark:function(){return mA},vsLight:function(){return yA}});var rA={plain:{color:"#F8F8F2",backgroundColor:"#282A36"},styles:[{types:["prolog","constant","builtin"],style:{color:"rgb(189, 147, 249)"}},{types:["inserted","function"],style:{color:"rgb(80, 250, 123)"}},{types:["deleted"],style:{color:"rgb(255, 85, 85)"}},{types:["changed"],style:{color:"rgb(255, 184, 108)"}},{types:["punctuation","symbol"],style:{color:"rgb(248, 248, 242)"}},{types:["string","char","tag","selector"],style:{color:"rgb(255, 121, 198)"}},{types:["keyword","variable"],style:{color:"rgb(189, 147, 249)",fontStyle:"italic"}},{types:["comment"],style:{color:"rgb(98, 114, 164)"}},{types:["attr-name"],style:{color:"rgb(241, 250, 140)"}}]},iA={plain:{backgroundColor:"#2a2734",color:"#9a86fd"},styles:[{types:["comment","prolog","doctype","cdata","punctuation"],style:{color:"#6c6783"}},{types:["namespace"],style:{opacity:.7}},{types:["tag","operator","number"],style:{color:"#e09142"}},{types:["property","function"],style:{color:"#9a86fd"}},{types:["tag-id","selector","atrule-id"],style:{color:"#eeebff"}},{types:["attr-name"],style:{color:"#c4b9fe"}},{types:["boolean","string","entity","url","attr-value","keyword","control","directive","unit","statement","regex","atrule","placeholder","variable"],style:{color:"#ffcc99"}},{types:["deleted"],style:{textDecorationLine:"line-through"}},{types:["inserted"],style:{textDecorationLine:"underline"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["important"],style:{color:"#c4b9fe"}}]},aA={plain:{backgroundColor:"#faf8f5",color:"#728fcb"},styles:[{types:["comment","prolog","doctype","cdata","punctuation"],style:{color:"#b6ad9a"}},{types:["namespace"],style:{opacity:.7}},{types:["tag","operator","number"],style:{color:"#063289"}},{types:["property","function"],style:{color:"#b29762"}},{types:["tag-id","selector","atrule-id"],style:{color:"#2d2006"}},{types:["attr-name"],style:{color:"#896724"}},{types:["boolean","string","entity","url","attr-value","keyword","control","directive","unit","statement","regex","atrule"],style:{color:"#728fcb"}},{types:["placeholder","variable"],style:{color:"#93abdc"}},{types:["deleted"],style:{textDecorationLine:"line-through"}},{types:["inserted"],style:{textDecorationLine:"underline"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["important"],style:{color:"#896724"}}]},oA={plain:{color:"#393A34",backgroundColor:"#f6f8fa"},styles:[{types:["comment","prolog","doctype","cdata"],style:{color:"#999988",fontStyle:"italic"}},{types:["namespace"],style:{opacity:.7}},{types:["string","attr-value"],style:{color:"#e3116c"}},{types:["punctuation","operator"],style:{color:"#393A34"}},{types:["entity","url","symbol","number","boolean","variable","constant","property","regex","inserted"],style:{color:"#36acaa"}},{types:["atrule","keyword","attr-name","selector"],style:{color:"#00a4db"}},{types:["function","deleted","tag"],style:{color:"#d73a49"}},{types:["function-variable"],style:{color:"#6f42c1"}},{types:["tag","selector","keyword"],style:{color:"#00009f"}}]},sA={plain:{color:"#d6deeb",backgroundColor:"#011627"},styles:[{types:["changed"],style:{color:"rgb(162, 191, 252)",fontStyle:"italic"}},{types:["deleted"],style:{color:"rgba(239, 83, 80, 0.56)",fontStyle:"italic"}},{types:["inserted","attr-name"],style:{color:"rgb(173, 219, 103)",fontStyle:"italic"}},{types:["comment"],style:{color:"rgb(99, 119, 119)",fontStyle:"italic"}},{types:["string","url"],style:{color:"rgb(173, 219, 103)"}},{types:["variable"],style:{color:"rgb(214, 222, 235)"}},{types:["number"],style:{color:"rgb(247, 140, 108)"}},{types:["builtin","char","constant","function"],style:{color:"rgb(130, 170, 255)"}},{types:["punctuation"],style:{color:"rgb(199, 146, 234)"}},{types:["selector","doctype"],style:{color:"rgb(199, 146, 234)",fontStyle:"italic"}},{types:["class-name"],style:{color:"rgb(255, 203, 139)"}},{types:["tag","operator","keyword"],style:{color:"rgb(127, 219, 202)"}},{types:["boolean"],style:{color:"rgb(255, 88, 116)"}},{types:["property"],style:{color:"rgb(128, 203, 196)"}},{types:["namespace"],style:{color:"rgb(178, 204, 214)"}}]},uA={plain:{color:"#403f53",backgroundColor:"#FBFBFB"},styles:[{types:["changed"],style:{color:"rgb(162, 191, 252)",fontStyle:"italic"}},{types:["deleted"],style:{color:"rgba(239, 83, 80, 0.56)",fontStyle:"italic"}},{types:["inserted","attr-name"],style:{color:"rgb(72, 118, 214)",fontStyle:"italic"}},{types:["comment"],style:{color:"rgb(152, 159, 177)",fontStyle:"italic"}},{types:["string","builtin","char","constant","url"],style:{color:"rgb(72, 118, 214)"}},{types:["variable"],style:{color:"rgb(201, 103, 101)"}},{types:["number"],style:{color:"rgb(170, 9, 130)"}},{types:["punctuation"],style:{color:"rgb(153, 76, 195)"}},{types:["function","selector","doctype"],style:{color:"rgb(153, 76, 195)",fontStyle:"italic"}},{types:["class-name"],style:{color:"rgb(17, 17, 17)"}},{types:["tag"],style:{color:"rgb(153, 76, 195)"}},{types:["operator","property","keyword","namespace"],style:{color:"rgb(12, 150, 155)"}},{types:["boolean"],style:{color:"rgb(188, 84, 84)"}}]},cA="#c5a5c5",lA="#8dc891",fA={plain:{backgroundColor:"#282c34",color:"#ffffff"},styles:[{types:["attr-name"],style:{color:cA}},{types:["attr-value"],style:{color:lA}},{types:["comment","block-comment","prolog","doctype","cdata","shebang"],style:{color:"#999999"}},{types:["property","number","function-name","constant","symbol","deleted"],style:{color:"#5a9bcf"}},{types:["boolean"],style:{color:"#ff8b50"}},{types:["tag"],style:{color:"#fc929e"}},{types:["string"],style:{color:lA}},{types:["punctuation"],style:{color:lA}},{types:["selector","char","builtin","inserted"],style:{color:"#D8DEE9"}},{types:["function"],style:{color:"#79b6f2"}},{types:["operator","entity","url","variable"],style:{color:"#d7deea"}},{types:["keyword"],style:{color:cA}},{types:["atrule","class-name"],style:{color:"#FAC863"}},{types:["important"],style:{fontWeight:"400"}},{types:["bold"],style:{fontWeight:"bold"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["namespace"],style:{opacity:.7}}]},hA={plain:{color:"#f8f8f2",backgroundColor:"#272822"},styles:[{types:["changed"],style:{color:"rgb(162, 191, 252)",fontStyle:"italic"}},{types:["deleted"],style:{color:"#f92672",fontStyle:"italic"}},{types:["inserted"],style:{color:"rgb(173, 219, 103)",fontStyle:"italic"}},{types:["comment"],style:{color:"#8292a2",fontStyle:"italic"}},{types:["string","url"],style:{color:"#a6e22e"}},{types:["variable"],style:{color:"#f8f8f2"}},{types:["number"],style:{color:"#ae81ff"}},{types:["builtin","char","constant","function","class-name"],style:{color:"#e6db74"}},{types:["punctuation"],style:{color:"#f8f8f2"}},{types:["selector","doctype"],style:{color:"#a6e22e",fontStyle:"italic"}},{types:["tag","operator","keyword"],style:{color:"#66d9ef"}},{types:["boolean"],style:{color:"#ae81ff"}},{types:["namespace"],style:{color:"rgb(178, 204, 214)",opacity:.7}},{types:["tag","property"],style:{color:"#f92672"}},{types:["attr-name"],style:{color:"#a6e22e !important"}},{types:["doctype"],style:{color:"#8292a2"}},{types:["rule"],style:{color:"#e6db74"}}]},dA={plain:{color:"#bfc7d5",backgroundColor:"#292d3e"},styles:[{types:["comment"],style:{color:"rgb(105, 112, 152)",fontStyle:"italic"}},{types:["string","inserted"],style:{color:"rgb(195, 232, 141)"}},{types:["number"],style:{color:"rgb(247, 140, 108)"}},{types:["builtin","char","constant","function"],style:{color:"rgb(130, 170, 255)"}},{types:["punctuation","selector"],style:{color:"rgb(199, 146, 234)"}},{types:["variable"],style:{color:"rgb(191, 199, 213)"}},{types:["class-name","attr-name"],style:{color:"rgb(255, 203, 107)"}},{types:["tag","deleted"],style:{color:"rgb(255, 85, 114)"}},{types:["operator"],style:{color:"rgb(137, 221, 255)"}},{types:["boolean"],style:{color:"rgb(255, 88, 116)"}},{types:["keyword"],style:{fontStyle:"italic"}},{types:["doctype"],style:{color:"rgb(199, 146, 234)",fontStyle:"italic"}},{types:["namespace"],style:{color:"rgb(178, 204, 214)"}},{types:["url"],style:{color:"rgb(221, 221, 221)"}}]},pA={plain:{color:"#9EFEFF",backgroundColor:"#2D2A55"},styles:[{types:["changed"],style:{color:"rgb(255, 238, 128)"}},{types:["deleted"],style:{color:"rgba(239, 83, 80, 0.56)"}},{types:["inserted"],style:{color:"rgb(173, 219, 103)"}},{types:["comment"],style:{color:"rgb(179, 98, 255)",fontStyle:"italic"}},{types:["punctuation"],style:{color:"rgb(255, 255, 255)"}},{types:["constant"],style:{color:"rgb(255, 98, 140)"}},{types:["string","url"],style:{color:"rgb(165, 255, 144)"}},{types:["variable"],style:{color:"rgb(255, 238, 128)"}},{types:["number","boolean"],style:{color:"rgb(255, 98, 140)"}},{types:["attr-name"],style:{color:"rgb(255, 180, 84)"}},{types:["keyword","operator","property","namespace","tag","selector","doctype"],style:{color:"rgb(255, 157, 0)"}},{types:["builtin","char","constant","function","class-name"],style:{color:"rgb(250, 208, 0)"}}]},vA={plain:{backgroundColor:"linear-gradient(to bottom, #2a2139 75%, #34294f)",backgroundImage:"#34294f",color:"#f92aad",textShadow:"0 0 2px #100c0f, 0 0 5px #dc078e33, 0 0 10px #fff3"},styles:[{types:["comment","block-comment","prolog","doctype","cdata"],style:{color:"#495495",fontStyle:"italic"}},{types:["punctuation"],style:{color:"#ccc"}},{types:["tag","attr-name","namespace","number","unit","hexcode","deleted"],style:{color:"#e2777a"}},{types:["property","selector"],style:{color:"#72f1b8",textShadow:"0 0 2px #100c0f, 0 0 10px #257c5575, 0 0 35px #21272475"}},{types:["function-name"],style:{color:"#6196cc"}},{types:["boolean","selector-id","function"],style:{color:"#fdfdfd",textShadow:"0 0 2px #001716, 0 0 3px #03edf975, 0 0 5px #03edf975, 0 0 8px #03edf975"}},{types:["class-name","maybe-class-name","builtin"],style:{color:"#fff5f6",textShadow:"0 0 2px #000, 0 0 10px #fc1f2c75, 0 0 5px #fc1f2c75, 0 0 25px #fc1f2c75"}},{types:["constant","symbol"],style:{color:"#f92aad",textShadow:"0 0 2px #100c0f, 0 0 5px #dc078e33, 0 0 10px #fff3"}},{types:["important","atrule","keyword","selector-class"],style:{color:"#f4eee4",textShadow:"0 0 2px #393a33, 0 0 8px #f39f0575, 0 0 2px #f39f0575"}},{types:["string","char","attr-value","regex","variable"],style:{color:"#f87c32"}},{types:["parameter"],style:{fontStyle:"italic"}},{types:["entity","url"],style:{color:"#67cdcc"}},{types:["operator"],style:{color:"ffffffee"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["entity"],style:{cursor:"help"}},{types:["inserted"],style:{color:"green"}}]},gA={plain:{color:"#282a2e",backgroundColor:"#ffffff"},styles:[{types:["comment"],style:{color:"rgb(197, 200, 198)"}},{types:["string","number","builtin","variable"],style:{color:"rgb(150, 152, 150)"}},{types:["class-name","function","tag","attr-name"],style:{color:"rgb(40, 42, 46)"}}]},mA={plain:{color:"#9CDCFE",backgroundColor:"#1E1E1E"},styles:[{types:["prolog"],style:{color:"rgb(0, 0, 128)"}},{types:["comment"],style:{color:"rgb(106, 153, 85)"}},{types:["builtin","changed","keyword","interpolation-punctuation"],style:{color:"rgb(86, 156, 214)"}},{types:["number","inserted"],style:{color:"rgb(181, 206, 168)"}},{types:["constant"],style:{color:"rgb(100, 102, 149)"}},{types:["attr-name","variable"],style:{color:"rgb(156, 220, 254)"}},{types:["deleted","string","attr-value","template-punctuation"],style:{color:"rgb(206, 145, 120)"}},{types:["selector"],style:{color:"rgb(215, 186, 125)"}},{types:["tag"],style:{color:"rgb(78, 201, 176)"}},{types:["tag"],languages:["markup"],style:{color:"rgb(86, 156, 214)"}},{types:["punctuation","operator"],style:{color:"rgb(212, 212, 212)"}},{types:["punctuation"],languages:["markup"],style:{color:"#808080"}},{types:["function"],style:{color:"rgb(220, 220, 170)"}},{types:["class-name"],style:{color:"rgb(78, 201, 176)"}},{types:["char"],style:{color:"rgb(209, 105, 105)"}}]},yA={plain:{color:"#000000",backgroundColor:"#ffffff"},styles:[{types:["comment"],style:{color:"rgb(0, 128, 0)"}},{types:["builtin"],style:{color:"rgb(0, 112, 193)"}},{types:["number","variable","inserted"],style:{color:"rgb(9, 134, 88)"}},{types:["operator"],style:{color:"rgb(0, 0, 0)"}},{types:["constant","char"],style:{color:"rgb(129, 31, 63)"}},{types:["tag"],style:{color:"rgb(128, 0, 0)"}},{types:["attr-name"],style:{color:"rgb(255, 0, 0)"}},{types:["deleted","string"],style:{color:"rgb(163, 21, 21)"}},{types:["changed","punctuation"],style:{color:"rgb(4, 81, 165)"}},{types:["function","keyword"],style:{color:"rgb(0, 0, 255)"}},{types:["class-name"],style:{color:"rgb(38, 127, 153)"}}]},kA={plain:{color:"#f8fafc",backgroundColor:"#011627"},styles:[{types:["prolog"],style:{color:"#000080"}},{types:["comment"],style:{color:"#6A9955"}},{types:["builtin","changed","keyword","interpolation-punctuation"],style:{color:"#569CD6"}},{types:["number","inserted"],style:{color:"#B5CEA8"}},{types:["constant"],style:{color:"#f8fafc"}},{types:["attr-name","variable"],style:{color:"#9CDCFE"}},{types:["deleted","string","attr-value","template-punctuation"],style:{color:"#cbd5e1"}},{types:["selector"],style:{color:"#D7BA7D"}},{types:["tag"],style:{color:"#0ea5e9"}},{types:["tag"],languages:["markup"],style:{color:"#0ea5e9"}},{types:["punctuation","operator"],style:{color:"#D4D4D4"}},{types:["punctuation"],languages:["markup"],style:{color:"#808080"}},{types:["function"],style:{color:"#7dd3fc"}},{types:["class-name"],style:{color:"#0ea5e9"}},{types:["char"],style:{color:"#D16969"}}]},bA={plain:{color:"#0f172a",backgroundColor:"#f1f5f9"},styles:[{types:["prolog"],style:{color:"#000080"}},{types:["comment"],style:{color:"#6A9955"}},{types:["builtin","changed","keyword","interpolation-punctuation"],style:{color:"#0c4a6e"}},{types:["number","inserted"],style:{color:"#B5CEA8"}},{types:["constant"],style:{color:"#0f172a"}},{types:["attr-name","variable"],style:{color:"#0c4a6e"}},{types:["deleted","string","attr-value","template-punctuation"],style:{color:"#64748b"}},{types:["selector"],style:{color:"#D7BA7D"}},{types:["tag"],style:{color:"#0ea5e9"}},{types:["tag"],languages:["markup"],style:{color:"#0ea5e9"}},{types:["punctuation","operator"],style:{color:"#475569"}},{types:["punctuation"],languages:["markup"],style:{color:"#808080"}},{types:["function"],style:{color:"#0e7490"}},{types:["class-name"],style:{color:"#0ea5e9"}},{types:["char"],style:{color:"#D16969"}}]},wA={plain:{backgroundColor:"hsl(220, 13%, 18%)",color:"hsl(220, 14%, 71%)",textShadow:"0 1px rgba(0, 0, 0, 0.3)"},styles:[{types:["comment","prolog","cdata"],style:{color:"hsl(220, 10%, 40%)"}},{types:["doctype","punctuation","entity"],style:{color:"hsl(220, 14%, 71%)"}},{types:["attr-name","class-name","maybe-class-name","boolean","constant","number","atrule"],style:{color:"hsl(29, 54%, 61%)"}},{types:["keyword"],style:{color:"hsl(286, 60%, 67%)"}},{types:["property","tag","symbol","deleted","important"],style:{color:"hsl(355, 65%, 65%)"}},{types:["selector","string","char","builtin","inserted","regex","attr-value"],style:{color:"hsl(95, 38%, 62%)"}},{types:["variable","operator","function"],style:{color:"hsl(207, 82%, 66%)"}},{types:["url"],style:{color:"hsl(187, 47%, 55%)"}},{types:["deleted"],style:{textDecorationLine:"line-through"}},{types:["inserted"],style:{textDecorationLine:"underline"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["important"],style:{color:"hsl(220, 14%, 71%)"}}]},xA={plain:{backgroundColor:"hsl(230, 1%, 98%)",color:"hsl(230, 8%, 24%)"},styles:[{types:["comment","prolog","cdata"],style:{color:"hsl(230, 4%, 64%)"}},{types:["doctype","punctuation","entity"],style:{color:"hsl(230, 8%, 24%)"}},{types:["attr-name","class-name","boolean","constant","number","atrule"],style:{color:"hsl(35, 99%, 36%)"}},{types:["keyword"],style:{color:"hsl(301, 63%, 40%)"}},{types:["property","tag","symbol","deleted","important"],style:{color:"hsl(5, 74%, 59%)"}},{types:["selector","string","char","builtin","inserted","regex","attr-value","punctuation"],style:{color:"hsl(119, 34%, 47%)"}},{types:["variable","operator","function"],style:{color:"hsl(221, 87%, 60%)"}},{types:["url"],style:{color:"hsl(198, 99%, 37%)"}},{types:["deleted"],style:{textDecorationLine:"line-through"}},{types:["inserted"],style:{textDecorationLine:"underline"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["important"],style:{color:"hsl(230, 8%, 24%)"}}]},_A=function(e,t){var n=e.plain,r=e.styles.reduce((function(e,n){var r=n.languages,i=n.style;return r&&!r.includes(t)||n.types.forEach((function(t){var n=XT(XT({},e[t]),i);e[t]=n})),e}),{});return r.root=n,r.plain=ZT(XT({},n),{backgroundColor:void 0}),r},IA=/\r\n|\r|\n/,SA=function(e){0===e.length?e.push({types:["plain"],content:"\n",empty:!0}):1===e.length&&""===e[0].content&&(e[0].content="\n",e[0].empty=!0)},EA=function(e,t){var n=e.length;return n>0&&e[n-1]===t?e:e.concat(t)},CA=function(e){for(var t=[[]],n=[e],r=[0],i=[e.length],a=0,o=0,s=[],u=[s];o>-1;){for(;(a=r[o]++)<i[o];){var c=void 0,l=t[o],f=n[o][a];if("string"===typeof f?(l=o>0?l:["plain"],c=f):(l=EA(l,f.type),f.alias&&(l=EA(l,f.alias)),c=f.content),"string"===typeof c){var h=c.split(IA),d=h.length;s.push({types:l,content:h[0]});for(var p=1;p<d;p++)SA(s),u.push(s=[]),s.push({types:l,content:h[p]})}else o++,t.push(l),n.push(c),r.push(0),i.push(c.length)}o--,t.pop(),n.pop(),r.pop(),i.pop()}return SA(s),u},TA=function(e){var n=e.children,r=e.language,i=e.code,a=e.theme,o=e.prism,s=r.toLowerCase(),c=function(e,n){var r=f((0,t.useState)(_A(n,e)),2),i=r[0],a=r[1],o=(0,t.useRef)(),s=(0,t.useRef)();return(0,t.useEffect)((function(){n===o.current&&e===s.current||(o.current=n,s.current=e,a(_A(n,e)))}),[e,n]),i}(s,a),l=function(e){return(0,t.useCallback)((function(t){var n=t,r=n.className,i=n.style,a=(n.line,JT(n,["className","style","line"])),o=ZT(XT({},a),{className:UT("token-line",r)});return"object"===typeof e&&"plain"in e&&(o.style=e.plain),"object"===typeof i&&(o.style=XT(XT({},o.style||{}),i)),o}),[e])}(c),h=function(e){var n=(0,t.useCallback)((function(t){var n=t.types,r=t.empty;if(null!=e)return 1===n.length&&"plain"===n[0]?null!=r?{display:"inline-block"}:void 0:1===n.length&&null!=r?e[n[0]]:Object.assign.apply(Object,[null!=r?{display:"inline-block"}:{}].concat(u(n.map((function(t){return e[t]})))))}),[e]);return(0,t.useCallback)((function(e){var t=e,r=t.token,i=t.className,a=t.style,o=JT(t,["token","className","style"]),s=ZT(XT({},o),{className:UT.apply(void 0,["token"].concat(u(r.types),[i])),children:r.content,style:n(r)});return null!=a&&(s.style=XT(XT({},s.style||{}),a)),s}),[n])}(c),d=function(e){var n=e.prism,r=e.code,i=e.grammar,a=e.language,o=(0,t.useRef)(n);return(0,t.useMemo)((function(){if(null==i)return CA([r]);var e={code:r,grammar:i,language:a,tokens:[]};return o.current.hooks.run("before-tokenize",e),e.tokens=o.current.tokenize(r,i),o.current.hooks.run("after-tokenize",e),CA(e.tokens)}),[r,i,a])}({prism:o,language:s,code:i,grammar:o.languages[s]});return n({tokens:d,className:"prism-code language-".concat(s),style:null!=c?c.root:{},getLineProps:l,getTokenProps:h})},AA=function(e){return(0,t.createElement)(TA,ZT(XT({},e),{prism:e.prism||tA,theme:e.theme||mA,code:e.code,language:e.language}))},NA=function(e){var t=e.code,n=e.language;return(0,gc.jsx)(AA,{theme:nA.vsDark,code:t,language:n||"javascript",children:function(e){var t=e.className,n=e.style,r=e.tokens,i=e.getLineProps,a=e.getTokenProps;return(0,gc.jsx)("pre",{className:t,style:n,children:r.map((function(e,t){return(0,gc.jsx)("div",xe(xe({},i({line:e})),{},{children:e.map((function(e,t){return(0,gc.jsx)("span",xe({},a({token:e})),t)}))}),t)}))})}})},RA="ImagePreview_image-preview__RV-k6",DA="ImagePreview_image-preview-wrapper__ToVNe",LA=function(e){var t=e.url;return(0,gc.jsx)("div",{className:RA,children:(0,gc.jsx)("div",{className:DA,children:(0,gc.jsx)("img",{src:t,alt:"img"})})})},OA=function(e){var n=f((0,t.useState)(null),2),r=n[0],i=n[1];return(0,t.useEffect)((function(){var t=function(){var t=v(d().mark((function t(){var n;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=5;break}return t.next=3,hc(e);case 3:n=t.sent,i(n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e]),r},PA=function(e){var t=Object.assign({},(jC(e),e));return(0,gc.jsxs)("svg",xe(xe({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),{},{children:[(0,gc.jsx)("path",{d:"M16.1315 3.71436C14.4172 3.71436 12.9029 4.57721 12 5.8915C11.0972 4.57721 9.58289 3.71436 7.86861 3.71436C5.10289 3.71436 2.85718 5.96007 2.85718 8.72578C2.85718 14.8344 12 20.3258 12 20.3258C12 20.3258 21.1429 14.8344 21.1429 8.72578C21.1429 5.96007 18.8972 3.71436 16.1315 3.71436Z",fill:"url(#paint0_radial)"}),(0,gc.jsx)("path",{opacity:"0.5",d:"M18.2056 4.16016C20.9485 8.53158 18.4228 14.2687 15.3885 15.8973C12.0399 17.6973 9.74847 16.8516 5.00562 14.1602C7.70847 17.743 11.9999 20.3202 11.9999 20.3202C11.9999 20.3202 21.1428 14.8287 21.1428 8.72016C21.1428 6.6973 19.937 4.94873 18.2056 4.16016Z",fill:"url(#paint1_radial)"}),(0,gc.jsx)("path",{opacity:"0.5",d:"M16.1315 3.71436C14.4172 3.71436 12.9029 4.57721 12 5.8915C11.0972 4.57721 9.58289 3.71436 7.86861 3.71436C5.10289 3.71436 2.85718 5.96007 2.85718 8.72578C2.85718 14.8344 12 20.3258 12 20.3258C12 20.3258 21.1429 14.8344 21.1429 8.72578C21.1429 5.96007 18.8972 3.71436 16.1315 3.71436Z",fill:"url(#paint2_radial)"}),(0,gc.jsx)("path",{opacity:"0.5",d:"M16.1315 3.71436C14.4172 3.71436 12.9029 4.57721 12 5.8915C11.0972 4.57721 9.58289 3.71436 7.86861 3.71436C5.10289 3.71436 2.85718 5.96007 2.85718 8.72578C2.85718 14.8344 12 20.3258 12 20.3258C12 20.3258 21.1429 14.8344 21.1429 8.72578C21.1429 5.96007 18.8972 3.71436 16.1315 3.71436Z",fill:"url(#paint3_radial)"}),(0,gc.jsx)("path",{opacity:"0.24",d:"M10.7486 5.74883C11.2514 6.93169 10.1371 8.5374 8.25714 9.33169C6.37714 10.126 4.45143 9.8174 3.94857 8.64026C3.44571 7.46312 4.56 5.85169 6.44 5.0574C8.32 4.26312 10.2457 4.56597 10.7486 5.74883Z",fill:"url(#paint4_radial)"}),(0,gc.jsx)("path",{opacity:"0.24",d:"M16.8742 4.78885C17.5885 5.57742 17.1485 7.13742 15.8971 8.26885C14.6456 9.40028 13.0513 9.68028 12.3371 8.8917C11.6228 8.10313 12.0628 6.54313 13.3142 5.41171C14.5656 4.28028 16.1599 4.00028 16.8742 4.78885Z",fill:"url(#paint5_radial)"}),(0,gc.jsx)("path",{opacity:"0.32",d:"M16.2229 5.04578C18.7372 5.90293 21.1372 9.61721 17.0801 14.2458C14.6515 17.0172 12.0001 18.4172 8.62866 17.8686C10.4515 19.3886 12.0058 20.3258 12.0058 20.3258C12.0058 20.3258 21.1487 14.8344 21.1487 8.72578C21.1429 5.96007 18.8972 3.71436 16.1315 3.71436C14.4172 3.71436 12.9029 4.57721 12.0001 5.8915C12.0001 5.8915 14.3829 4.41721 16.2229 5.04578Z",fill:"url(#paint6_linear)"}),(0,gc.jsxs)("defs",{children:[(0,gc.jsxs)("radialGradient",{id:"paint0_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(9.38479 8.34769) rotate(-29.408) scale(14.3064 11.3486)",children:[(0,gc.jsx)("stop",{offset:"0.2479",stopColor:"#FF0000"}),(0,gc.jsx)("stop",{offset:"0.8639",stopColor:"#C20000"})]}),(0,gc.jsxs)("radialGradient",{id:"paint1_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(9.7385 7.47018) rotate(-29.408) scale(12.3173 9.77078)",children:[(0,gc.jsx)("stop",{offset:"0.2479",stopColor:"#FF0000"}),(0,gc.jsx)("stop",{offset:"1",stopColor:"#C20000"})]}),(0,gc.jsxs)("radialGradient",{id:"paint2_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(9.38479 8.34769) rotate(-29.408) scale(14.3064 11.3486)",children:[(0,gc.jsx)("stop",{stopColor:"white",stopOpacity:"0.25"}),(0,gc.jsx)("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]}),(0,gc.jsxs)("radialGradient",{id:"paint3_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(14.5277 13.2044) rotate(-26.296) scale(10.4431 5.16038)",children:[(0,gc.jsx)("stop",{stopColor:"#BD2719",stopOpacity:"0.25"}),(0,gc.jsx)("stop",{offset:"1",stopColor:"#BD2719",stopOpacity:"0"})]}),(0,gc.jsxs)("radialGradient",{id:"paint4_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(7.34746 7.19453) rotate(-21.6908) scale(3.71252 2.30616)",children:[(0,gc.jsx)("stop",{stopColor:"white"}),(0,gc.jsx)("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]}),(0,gc.jsxs)("radialGradient",{id:"paint5_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(14.6004 6.84619) rotate(-40.7634) scale(3.07376 1.9095)",children:[(0,gc.jsx)("stop",{stopColor:"white"}),(0,gc.jsx)("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]}),(0,gc.jsxs)("linearGradient",{id:"paint6_linear",x1:"13.8868",y1:"26.8498",x2:"15.6583",y2:"2.96408",gradientUnits:"userSpaceOnUse",children:[(0,gc.jsx)("stop",{stopColor:"#860805"}),(0,gc.jsx)("stop",{offset:"1",stopColor:"#BD2719",stopOpacity:"0"})]})]})]}))},MA=function(e){var t=Object.assign({},(jC(e),e));return(0,gc.jsxs)("svg",xe(xe({height:"800px",width:"800px",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 232.665 232.665"},t),{},{children:[(0,gc.jsx)("title",{children:"Like"}),(0,gc.jsxs)("g",{children:[(0,gc.jsx)("path",{style:{fill:"#FFD4C4"},d:"M192.728,128.895c-1.007-1.882-0.501-4.233,1.175-5.554c9.77-7.697,10.3-34.01-8.552-34.01h-48.991\r c-9.59,0-15.655-10.324-10.984-18.7c5.74-10.292,9.922-21.717,13.939-34.52c4.34-13.83-4.379-24.107-14.482-24.107\r c-5.383,0-11.156,2.911-15.562,9.756C96.597,41.452,87.672,64.079,75.246,76.133c-9.818,9.517-43.171,28.936-43.171,30.14v79.825\r c0,2.254,1.728,4.17,3.956,4.511l28.828,4.403c0.644,0.099,1.283,0.339,1.827,0.696c25.968,17.054,49.343,24.957,68.432,24.957\r c5.143,0,9.981-0.574,14.471-1.697c22.348-5.586,23.769-19.317,22.86-26.447c-0.294-2.302,1.164-4.408,3.406-5.006\r c11.944-3.181,12.495-19.43,8.711-27.308c-1.057-2.201-0.042-4.788,2.108-5.944C195.587,149.471,196.246,135.468,192.728,128.895z"}),(0,gc.jsx)("path",{d:"M205.428,128.634c6.81-8.589,9.181-22.092,5.294-33.304c-3.91-11.281-13.395-17.998-25.371-17.998h-48.991\r c-0.162,0-0.33-0.019-0.497-0.302c-0.161-0.276-0.086-0.42-0.007-0.562c6.795-12.183,11.35-25.426,14.908-36.767\r c3.221-10.264,1.771-20.64-3.975-28.465C141.624,4.201,133.416,0,124.832,0c-10.059,0-19.409,5.563-25.652,15.264\r c-4.906,7.623-9.152,15.453-13.258,23.025C79.539,50.06,73.511,61.177,66.974,67.518c-5.227,5.066-20.685,15.003-29.922,20.939\r c-3.312,2.13-6.256,3.968-8.368,5.386c-3.799,2.55-8.61,5.723-8.61,12.43v79.825c0,8.241,5.996,15.127,14.142,16.373l27.227,4.158\r c26.337,17.039,51.792,26.036,73.664,26.036c6.078,0,11.935-0.691,17.388-2.056c12.962-3.24,22.223-9.323,27.514-18.08\r c3.309-5.476,4.446-11.006,4.613-15.684c4.776-2.615,8.59-6.74,11.017-12.013c3.602-7.825,3.639-16.661,1.9-23.703\r C206.552,152.76,208.235,138.778,205.428,128.634z M186.674,154.263c-2.15,1.156-3.165,3.743-2.108,5.944\r c3.784,7.878,3.233,24.127-8.71,27.308c-2.242,0.598-3.699,2.704-3.405,5.006c0.909,7.13-0.509,20.861-22.857,26.447\r c-4.491,1.123-9.322,1.697-14.467,1.697c-19.089,0-42.453-7.903-68.421-24.957c-0.544-0.357-1.162-0.598-1.806-0.696l-28.871-4.403\r c-2.228-0.341-3.956-2.257-3.956-4.511v-79.825c0-1.204,33.353-20.624,43.171-30.142c12.427-12.053,21.31-34.681,33.983-54.373\r c4.405-6.845,10.201-9.759,15.584-9.759c10.103,0,18.831,10.273,14.493,24.104c-4.018,12.804-8.195,24.237-13.934,34.529\r c-4.672,8.376,1.399,18.7,10.989,18.7h48.991c18.852,0,18.321,26.312,8.552,34.01c-1.676,1.32-2.182,3.682-1.175,5.562\r C196.246,135.477,195.588,149.471,186.674,154.263z"})]})]}))},FA=function(e){var t=Object.assign({},(jC(e),e));return(0,gc.jsxs)("svg",xe(xe({version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 232.666 232.666"},t),{},{children:[(0,gc.jsx)("title",{children:"Dislike"}),(0,gc.jsxs)("g",{children:[(0,gc.jsx)("polygon",{style:{fill:"#FFD4C4"},points:"135.075,6 135.075,6 135.075,12 \t"}),(0,gc.jsx)("path",{style:{fill:"#FFD4C4"},d:"M66.706,36.957c-0.544,0.357-1.162,0.598-1.806,0.696L36.03,42.057\r c-2.228,0.341-3.956,2.257-3.956,4.511v79.825c0,1.204,33.353,20.624,43.171,30.142c12.427,12.053,21.31,34.681,33.983,54.373\r c4.405,6.845,10.201,9.759,15.584,9.759c10.102,0,18.831-10.273,14.493-24.104c-4.018-12.804-8.195-24.237-13.934-34.529\r c-4.672-8.376,1.399-18.7,10.989-18.7h48.991c18.852,0,18.321-26.312,8.552-34.01c-1.676-1.32-2.182-3.682-1.175-5.562\r c3.519-6.572,2.86-20.571-6.054-25.363c-2.15-1.156-3.165-3.74-2.108-5.941c3.784-7.878,3.233-24.126-8.71-27.307\r c-2.242-0.598-3.699-2.703-3.405-5.006c0.909-7.13-0.509-20.86-22.856-26.447C145.103,12.573,140.272,12,135.127,12\r C116.039,12.001,92.674,19.903,66.706,36.957z"}),(0,gc.jsx)("path",{d:"M205.428,104.032c2.808-10.145,1.126-24.127-7.888-32.497c1.739-7.042,1.702-15.878-1.899-23.703\r c-2.427-5.272-6.24-9.397-11.017-12.013c-0.166-4.677-1.302-10.208-4.609-15.684c-5.291-8.757-14.575-14.84-27.538-18.08\r C147.025,0.691,141.075,0,135.075,0v6v6V6V0.333h0.053c-21.872,0-47.307,8.831-73.643,25.869l-27.269,4.076\r c-8.145,1.245-14.141,8.047-14.141,16.289v79.825c0,6.707,4.81,9.88,8.609,12.43c2.111,1.417,5.014,3.256,8.325,5.385\r c9.237,5.936,24.717,15.874,29.947,20.943c6.534,6.338,12.574,17.456,18.955,29.227c4.106,7.572,8.358,15.402,13.263,23.024\r c6.243,9.701,15.596,15.265,25.656,15.265c8.583,0,16.793-4.2,21.958-11.233c5.746-7.825,7.196-18.199,3.976-28.463\r c-3.56-11.343-8.114-24.58-14.909-36.764c-0.079-0.142-0.154-0.296,0.008-0.57c0.166-0.285,0.334-0.303,0.496-0.303h48.991\r c11.977,0,21.461-6.717,25.371-17.998C214.609,126.123,212.239,112.62,205.428,104.032z M149.594,13.697\r c22.348,5.586,23.766,19.317,22.856,26.446c-0.294,2.303,1.163,4.409,3.405,5.007c11.943,3.181,12.494,19.43,8.71,27.308\r c-1.057,2.201-0.042,4.788,2.108,5.943c8.914,4.793,9.572,18.796,6.054,25.368c-1.007,1.882-0.501,4.233,1.175,5.554\r c9.77,7.697,10.3,34.01-8.552,34.01H136.36c-9.59,0-15.655,10.324-10.984,18.7c5.74,10.292,9.922,21.717,13.939,34.52\r c4.34,13.83-4.379,24.107-14.482,24.107c-5.383,0-11.156-2.911-15.562-9.756c-12.673-19.692-21.597-42.318-34.024-54.373\r c-9.818-9.517-43.171-28.935-43.171-30.14V46.567c0-2.254,1.728-4.17,3.956-4.511l28.828-4.403\r c0.644-0.099,1.283-0.339,1.827-0.696C92.653,19.903,116.028,12.001,135.117,12C140.261,12,145.103,12.574,149.594,13.697z"})]})]}))},jA=function(e){var t=Object.assign({},(jC(e),e));return(0,gc.jsxs)("svg",xe(xe({version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512.001 512.001"},t),{},{children:[(0,gc.jsx)("title",{children:"Laugh"}),(0,gc.jsx)("circle",{style:{fill:"#F7B239"},cx:"256.005",cy:"256.004",r:"246.855"}),(0,gc.jsx)("path",{style:{fill:"#E09B2D"},d:"M126.308,385.694c-88.802-88.802-95.799-228.426-20.999-325.241\r c-8.286,6.401-16.258,13.399-23.858,20.999c-96.401,96.401-96.401,252.698,0,349.099s252.698,96.401,349.099,0\r c7.599-7.599,14.597-15.573,20.999-23.858C354.735,481.492,215.109,474.495,126.308,385.694z"}),(0,gc.jsx)("path",{style:{fill:"#FFFFFF"},d:"M131.567,264.613h248.868c0,13.968-2.306,27.4-6.551,39.941H138.118\r C133.873,292.013,131.567,278.582,131.567,264.613z"}),(0,gc.jsx)("path",{style:{fill:"#A81004"},d:"M138.118,304.554h235.765c-8.369,24.716-24.289,45.931-45.016,60.924\r c-8.71-14.676-24.716-24.509-43.027-24.509c-11.187,0-21.508,3.672-29.84,9.882c-8.332-6.21-18.665-9.882-29.852-9.882\r c-18.299,0-34.317,9.833-43.015,24.509C162.407,350.485,146.487,329.27,138.118,304.554z"}),(0,gc.jsx)("path",{style:{fill:"#F95428"},d:"M285.841,340.969c18.311,0,34.317,9.833,43.027,24.509c-20.483,14.834-45.662,23.569-72.867,23.569\r s-52.384-8.735-72.867-23.569c8.698-14.676,24.716-24.509,43.015-24.509c11.187,0,21.52,3.672,29.852,9.882\r C264.333,344.641,274.654,340.969,285.841,340.969z"}),(0,gc.jsx)("path",{d:"M256.001,0C114.842,0,0.001,114.841,0.001,256.001s114.841,256.001,256.001,256.001\r c141.158,0,255.999-114.841,255.999-256.001S397.159,0,256.001,0z M256.001,493.701c-131.069,0-237.702-106.631-237.702-237.7\r S124.932,18.299,256.001,18.299c131.068,0,237.7,106.632,237.7,237.702S387.069,493.701,256.001,493.701z"}),(0,gc.jsx)("path",{d:"M380.435,255.464H131.567c-5.053,0-9.15,4.097-9.15,9.15c0,14.662,2.367,29.087,7.034,42.876\r c8.934,26.382,25.643,48.999,48.314,65.4c22.86,16.557,49.914,25.309,78.235,25.309c28.32,0,55.373-8.752,78.23-25.305\r c22.676-16.405,39.386-39.02,48.319-65.402l0,0c4.667-13.789,7.034-28.214,7.034-42.875\r C389.585,259.56,385.488,255.464,380.435,255.464z M370.927,273.763c-0.576,7.338-1.854,14.575-3.809,21.642H144.883\r c-1.954-7.067-3.233-14.303-3.809-21.642H370.927z M196.223,363.202c7.649-8.21,18.499-13.083,29.926-13.083\r c8.87,0,17.302,2.79,24.385,8.067c3.244,2.417,7.691,2.417,10.934,0c7.082-5.279,15.509-8.067,24.372-8.067\r c11.421,0,22.272,4.871,29.932,13.085c-17.972,10.947-38.452,16.692-59.772,16.692C234.68,379.898,214.198,374.151,196.223,363.202z\r M330.677,352.44c-11.137-12.9-27.533-20.621-44.838-20.621c-10.623,0-20.819,2.77-29.84,8.066\r c-9.021-5.295-19.221-8.066-29.852-8.066c-17.311,0-33.707,7.722-44.829,20.617c-12.623-10.71-22.68-23.855-29.665-38.733h208.694\r C353.362,328.583,343.304,341.728,330.677,352.44z"}),(0,gc.jsx)("path",{d:"M206.973,209.881c0.827-3.622-0.617-7.386-3.657-9.523l-54.287-38.174c-4.133-2.906-9.84-1.913-12.747,2.221\r c-2.906,4.133-1.912,9.84,2.222,12.747l35.988,25.306l-75.523,12.47c-4.986,0.823-8.36,5.532-7.537,10.518\r c0.739,4.481,4.619,7.66,9.017,7.66c0.495,0,0.997-0.04,1.502-0.123l97.595-16.113C203.21,216.265,206.146,213.503,206.973,209.881z\r "}),(0,gc.jsx)("path",{d:"M413.034,214.929L337.51,202.46l35.988-25.306c4.133-2.907,5.129-8.614,2.222-12.747c-2.907-4.134-8.615-5.129-12.747-2.222\r l-54.287,38.174c-3.039,2.137-4.484,5.9-3.657,9.523c0.827,3.623,3.764,6.384,7.429,6.989l97.595,16.113\r c0.505,0.083,1.006,0.123,1.502,0.123c4.397,0,8.276-3.179,9.017-7.66C421.395,220.461,418.02,215.752,413.034,214.929z"})]}))},UA=function(e){var t=Object.assign({},(jC(e),e));return(0,gc.jsxs)("svg",xe(xe({version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512.009 512.009"},t),{},{children:[(0,gc.jsx)("circle",{style:{fill:"#F95428"},cx:"256.004",cy:"256.004",r:"256.004"}),(0,gc.jsxs)("g",{children:[(0,gc.jsx)("path",{style:{fill:"#E54728"},d:"M121.499,390.501C29.407,298.407,22.15,153.608,99.723,53.204\r c-8.593,6.638-16.861,13.895-24.743,21.777c-99.974,99.974-99.974,262.065,0,362.038s262.065,99.974,362.038,0\r c7.881-7.881,15.138-16.15,21.777-24.743C358.392,489.85,213.593,482.593,121.499,390.501z"}),(0,gc.jsx)("path",{style:{fill:"#E54728"},d:"M219.484,328.985c-2.758,0-5.492-1.196-7.367-3.502c-3.306-4.065-2.692-10.043,1.374-13.349\r c12.078-9.824,27.416-15.235,43.187-15.235c15.038,0,29.816,4.977,41.614,14.013c4.16,3.187,4.949,9.143,1.764,13.303\r c-3.187,4.161-9.142,4.949-13.303,1.764c-8.504-6.514-19.185-10.101-30.074-10.101c-11.422,0-22.507,3.899-31.213,10.979\r C223.706,328.289,221.59,328.985,219.484,328.985z"})]}),(0,gc.jsxs)("g",{children:[(0,gc.jsx)("path",{style:{fill:"#4D4D4D"},d:"M177.781,228.807c0-4.059-0.701-7.957-1.974-11.586c3.792,0.39,7.754,0.611,11.906,0.611\r c10.99,0,23.242-1.495,36.755-5.169c5.056-1.375,8.04-6.589,6.666-11.647c-1.376-5.058-6.598-8.039-11.647-6.666\r c-67.339,18.318-96.497-24.523-97.722-26.381c-2.848-4.375-8.697-5.631-13.089-2.802c-4.407,2.836-5.678,8.708-2.842,13.115\r c0.316,0.493,6.677,10.214,19.755,19.873c-10.741,6.011-18.022,17.495-18.022,30.653c0,19.358,15.749,35.107,35.107,35.107\r S177.781,248.166,177.781,228.807z"}),(0,gc.jsx)("path",{style:{fill:"#4D4D4D"},d:"M260.482,257.053c-46.994,0-88.83,29.238-104.106,72.754c-1.735,4.944,0.867,10.359,5.811,12.096\r c4.949,1.737,10.36-0.865,12.097-5.811c12.61-35.925,47.251-60.062,86.199-60.062c38.94,0,73.576,24.137,86.186,60.062\r c1.371,3.906,5.037,6.35,8.953,6.349c1.043,0,2.103-0.173,3.143-0.538c4.944-1.736,7.545-7.151,5.811-12.096\r C349.3,286.291,307.467,257.053,260.482,257.053z"}),(0,gc.jsx)("path",{style:{fill:"#4D4D4D"},d:"M403.353,165.214c-4.375-2.85-10.245-1.608-13.116,2.753c-1.207,1.833-30.365,44.704-97.722,26.384\r c-5.052-1.374-10.271,1.608-11.647,6.666c-1.375,5.057,1.609,10.271,6.666,11.647c13.516,3.675,25.764,5.169,36.755,5.169\r c4.151,0,8.113-0.221,11.905-0.611c-1.273,3.63-1.974,7.526-1.974,11.586c0,19.358,15.749,35.107,35.107,35.107\r s35.107-15.749,35.107-35.107c0-13.159-7.281-24.643-18.022-30.653c13.078-9.659,19.439-19.38,19.755-19.873\r C408.993,173.891,407.728,168.063,403.353,165.214z"})]})]}))},VA=function(e){return(0,gc.jsx)("svg",xe(xe({viewBox:"0 0 1500 1500",xmlns:"http://www.w3.org/2000/svg",fill:"#000000"},e),{},{children:(0,gc.jsxs)("g",{children:[(0,gc.jsx)("circle",{cx:"750",cy:"750",r:"750",fill:"#ffda6b"}),(0,gc.jsx)("ellipse",{cx:"748.3",cy:"1046.3",rx:"220.6",ry:"297.2",fill:"#262c38"}),(0,gc.jsx)("ellipse",{transform:"rotate(-81.396 402.197 564.888)",cx:"402.2",cy:"564.9",rx:"155.6",ry:"109.2",fill:"#262c38"}),(0,gc.jsx)("ellipse",{transform:"rotate(-8.604 1093.463 564.999)",cx:"1093.2",cy:"564.9",rx:"109.2",ry:"155.6",fill:"#262c38"}),(0,gc.jsx)("path",{d:"M320.9 223s69.7-96.7 174-28.6M1177.5 223s-69.7-96.7-174-28.6",fill:"none",stroke:"#262c38",strokeWidth:"60",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10"})]})}))},BA=lc.firestore(),zA=/(https?:\/\/[^\s]+?(?=\s|$))/g,qA={like:(0,gc.jsx)(MA,{}),dislike:(0,gc.jsx)(FA,{}),laugh:(0,gc.jsx)(jA,{}),angry:(0,gc.jsx)(UA,{}),love:(0,gc.jsx)(PA,{}),wow:(0,gc.jsx)(VA,{})},HA=function(){var e=v(d().mark((function e(t,n,r,i,a){var o,s,u,c,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=BA.collection("/chats/".concat(n,"/messages")).doc(r),e.prev=1,e.next=4,o.get();case 4:if(!(s=e.sent).exists){e.next=14;break}return(u=s.data()).reactions||(u.reactions={like:[],dislike:[],love:[],laugh:[],sad:[],angry:[],wow:[]}),c=Object.keys(u.reactions).filter((function(e){return u.reactions[e].includes(a.uid)})),u.reactions[t]&&c.includes(t)?(l=u.reactions[t].indexOf(a.uid),u.reactions[t].splice(l,1)):(u.reactions[t].push(a.uid),c.forEach((function(e){if(e!==t){var n=u.reactions[e].indexOf(a.uid);u.reactions[e].splice(n,1)}}))),e.next=12,o.update({reactions:u.reactions});case 12:e.next=15;break;case 14:console.error("Message document does not exist.");case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.error("Error updating reactions:",e.t0);case 20:i(!1);case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t,n,r,i,a){return e.apply(this,arguments)}}(),GA=function(e){for(var t=e.split(zA),n=[],r=0;r<t.length;r++){var i=t[r];if(null!==i&&void 0!==i&&i.match(zA)){var a=i.trim();n.push((0,gc.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",children:a},r))}else n.push((0,gc.jsx)("span",{children:i},r))}return n},WA=function(e){var t=Object.assign({},(jC(e),e));return(0,gc.jsx)("svg",xe(xe({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),{},{children:(0,gc.jsx)("path",{fillRule:"evenodd",d:"M14.5 1.5a.5.5 0 0 1 .5.5v4.8a2.5 2.5 0 0 1-2.5 2.5H2.707l3.347 3.346a.5.5 0 0 1-.708.708l-4.2-4.2a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 8.3H12.5A1.5 1.5 0 0 0 14 6.8V2a.5.5 0 0 1 .5-.5z"})}))},KA=function(e){var t=Object.assign({},(jC(e),e));return(0,gc.jsx)("svg",xe(xe({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"transparent"},t),{},{children:(0,gc.jsx)("path",{d:"M8.4 13.8C8.4 13.8 9.75 15.6 12 15.6C14.25 15.6 15.6 13.8 15.6 13.8M14.7 9.3H14.709M9.3 9.3H9.309M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12ZM15.15 9.3C15.15 9.54853 14.9485 9.75 14.7 9.75C14.4515 9.75 14.25 9.54853 14.25 9.3C14.25 9.05147 14.4515 8.85 14.7 8.85C14.9485 8.85 15.15 9.05147 15.15 9.3ZM9.75 9.3C9.75 9.54853 9.54853 9.75 9.3 9.75C9.05147 9.75 8.85 9.54853 8.85 9.3C8.85 9.05147 9.05147 8.85 9.3 8.85C9.54853 8.85 9.75 9.05147 9.75 9.3Z",stroke:"gray",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})}))},QA="ReactionsPreview_reactions-preview__X765M",$A="ReactionsPreview_reactions-wrapper__Asobd",YA="ReactionsPreview_reaction-wrapper__GxyrK",XA="ReactionsPreview_name-photo-wrapper__XWPcq",ZA="ReactionsPreview_profile-image-wrapper__+IRBR",JA="ReactionsPreview_reactions-filter-menu__o9aUb",eN="ReactionsPreview_reactions-filter__HfPzm",tN=function(e){var n=e.reactions,r=f((0,t.useState)([]),2),i=r[0],a=r[1],o=f((0,t.useState)(null),2),s=o[0],u=o[1],c=f((0,t.useState)(!1),2),l=c[0],h=c[1],p=RC().openModal;return(0,t.useEffect)((function(){var e=function(){var e=v(d().mark((function e(){var t,r,i,o,s,u,c,l,p,v;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(!0),t=[],r=b(n),e.prev=3,r.s();case 5:if((i=r.n()).done){e.next=28;break}o=f(i.value,2),s=o[0],u=o[1],c=b(u),e.prev=8,c.s();case 10:if((l=c.n()).done){e.next=18;break}return p=l.value,e.next=14,hc(p);case 14:(v=e.sent)&&t.push({displayName:v.displayName,reaction:s,uid:p,photoURL:v.photoURL});case 16:e.next=10;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(8),c.e(e.t0);case 23:return e.prev=23,c.f(),e.finish(23);case 26:e.next=5;break;case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(3),r.e(e.t1);case 33:return e.prev=33,r.f(),e.finish(33);case 36:a(t),h(!1);case 38:case"end":return e.stop()}}),e,null,[[3,30,33,36],[8,20,23,26]])})));return function(){return e.apply(this,arguments)}}();e()}),[n]),l?(0,gc.jsx)(DT,{}):(0,gc.jsxs)("div",{className:QA,children:[(0,gc.jsxs)("div",{className:JA,children:[(0,gc.jsxs)("div",{className:eN,onClick:function(){return u(null)},children:["All: ",null===i||void 0===i?void 0:i.length]}),n.map((function(e){var t=f(e,2),n=t[0],r=t[1];return(0,gc.jsxs)("div",{className:eN,onClick:function(){return u(n)},children:[r.length,qA[n]]},n)}))]}),(0,gc.jsx)("div",{className:$A,children:i.filter((function(e){return s?e.reaction===s:e})).map((function(e){var t=e.displayName,n=e.reaction,r=e.photoURL,i=e.uid;return(0,gc.jsxs)("div",{className:YA,children:[(0,gc.jsxs)("div",{className:XA,onClick:function(){return p((0,gc.jsx)(LT,{uid:i}))},children:[(0,gc.jsx)("div",{className:ZA,children:(0,gc.jsx)("img",{src:r||ST,alt:t})}),(0,gc.jsx)("span",{children:t})]}),qA[n]]},i)}))})]})};var nN=function(e,n){(0,t.useEffect)((function(){function t(t){e.current&&!e.current.contains(t.target)&&n()}return document.addEventListener("mousedown",t),function(){document.removeEventListener("mousedown",t)}}),[e,n])},rN=function(e){var n,r=e.message,i=e.onSetMessageToReplay,a=e.scrollToReplayedMessage,o=e.fistUnreadMessage,s=e.chatName,u=f((0,t.useState)(!1),2),c=u[0],l=u[1],h=f((0,t.useState)(null),2),d=h[0],p=h[1],v=(0,t.useRef)(),g=(0,t.useContext)(mc).user,m=RC().openModal,y=r.text,k=r.uid,b=r.replayTo,w=r.isCode,x=r.id,_=r.photoUrl,I=r.reactions,S=k===(null===g||void 0===g?void 0:g.uid)?"sent":"received",E=OA(k),C=null===(n=OA(null===b||void 0===b?void 0:b.uid))||void 0===n?void 0:n.displayName,T=function(e,t){var n,r=null===(n=document.getElementById(e))||void 0===n?void 0:n.nextSibling;return(null===r||void 0===r?void 0:r.id.split("*")[1])===t}(x,k),A=I&&Object.entries(I).filter((function(e){return f(e,2)[1].length>0})),N=(null===A||void 0===A?void 0:A.length)>0;return nN(v,(function(){l(!1)})),(0,t.useEffect)((function(){var e=g&&I?Object.keys(I).find((function(e){var t;return null===(t=I[e])||void 0===t?void 0:t.includes(g.uid)})):null;p(e)}),[I,g]),(0,gc.jsxs)(gc.Fragment,{children:[o&&(0,gc.jsxs)("div",{className:vT["first-unread-message"],children:[(0,gc.jsx)("div",{}),"Unread Messages",(0,gc.jsx)("div",{})]}),(0,gc.jsxs)("div",{className:"".concat(vT.message," ").concat(vT[S]," ").concat(T&&vT["same-sender"]," ").concat(N&&vT["have-reactions"]),id:x,children:["received"===S&&(0,gc.jsx)("div",{className:vT["profile-image-wrapper"],onClick:function(){return m((0,gc.jsx)(LT,{uid:k}))},children:(0,gc.jsx)("img",{src:(null===E||void 0===E?void 0:E.photoURL)||ST,referrerPolicy:"no-referrer",alt:null===E||void 0===E?void 0:E.displayName})}),(0,gc.jsx)("div",{className:vT["user-name"],children:null===E||void 0===E?void 0:E.displayName}),(0,gc.jsxs)("div",{className:vT["message-wrapper"],children:[b&&(0,gc.jsxs)("div",{className:vT["replay-wrapper"],onClick:a,children:[(0,gc.jsxs)("p",{children:["sent"===S?"You":null===E||void 0===E?void 0:E.displayName," ","replied to"," ",C===(null===E||void 0===E?void 0:E.displayName)&&"sent"===S?"yourself":C]}),(0,gc.jsx)("p",{children:b.text}),(null===b||void 0===b?void 0:b.photoUrl)&&(0,gc.jsx)("div",{className:vT["image-wrapper"],children:(0,gc.jsx)("img",{src:null===b||void 0===b?void 0:b.photoUrl,alt:"img",onClick:function(){return m((0,gc.jsx)(LA,{url:null===b||void 0===b?void 0:b.photoUrl}))}})})]}),y&&(0,gc.jsx)("div",{className:"".concat(vT["text-wrapper"]," ").concat(w&&vT["code-wrapper"]),children:w?(0,gc.jsx)(NA,{code:y}):GA(y)}),_&&(0,gc.jsx)("div",{className:vT["image-wrapper"],children:(0,gc.jsx)("img",{src:_,alt:"img",onClick:function(){return m((0,gc.jsx)(LA,{url:_}))}})}),N&&(0,gc.jsx)("div",{className:"".concat(vT["reactions-wrapper"]),children:Object.entries(I).filter((function(e){return f(e,2)[1].length>0})).map((function(e){var t=f(e,2),n=t[0],r=t[1];return(0,gc.jsxs)("div",{onClick:function(){return m((0,gc.jsx)(tN,{reactions:A}))},children:[r.length," ",qA[n]]},n)}))})]}),(0,gc.jsxs)("div",{ref:v,className:vT["actions-and-reactions-wrapper"],children:[c&&(0,gc.jsx)("div",{className:vT["reactions-menu"],children:Object.keys(qA).map((function(e){return(0,gc.jsx)("div",{className:d===e?vT["selected-icon"]:"",onClick:function(){g?HA(e,s,x,l,g):m((0,gc.jsx)(zC,{}))},children:qA[e]},e)}))}),(0,gc.jsxs)("div",{className:vT["actions-menu"],children:[(0,gc.jsx)(WA,{height:"15px",className:vT.icon,onClick:i}),(0,gc.jsx)(KA,{height:"20px",className:"".concat(vT.icon,"  ").concat(c&&vT["selected-item"]),onClick:function(){return l((function(e){return!e}))}})]})]})]})]})},iN=function(e){var t=Object.assign({},(jC(e),e));return(0,gc.jsxs)("svg",xe(xe({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},t),{},{children:[(0,gc.jsx)("title",{children:"Close"}),(0,gc.jsx)("g",{id:"Menu / Close_LG",children:(0,gc.jsx)("path",{id:"Vector",d:"M21 21L12 12M12 12L3 3M12 12L21.0001 3M12 12L3 21.0001",stroke:"gray",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}))},aN=function(e){var t=Object.assign({},(jC(e),e));return(0,gc.jsxs)("svg",xe(xe({viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),{},{children:[(0,gc.jsx)("title",{children:"Full Screen"}),(0,gc.jsx)("rect",{width:"48",height:"48",fill:"white",fillOpacity:"0.01"}),(0,gc.jsx)("path",{d:"M6 6L16 15.8995",stroke:"gray",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),(0,gc.jsx)("path",{d:"M6 41.8995L16 32",stroke:"gray",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),(0,gc.jsx)("path",{d:"M42.0001 41.8995L32.1006 32",stroke:"gray",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),(0,gc.jsx)("path",{d:"M41.8995 6L32 15.8995",stroke:"gray",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),(0,gc.jsx)("path",{d:"M33 6H42V15",stroke:"gray",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),(0,gc.jsx)("path",{d:"M42 33V42H33",stroke:"gray",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),(0,gc.jsx)("path",{d:"M15 42H6V33",stroke:"gray",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),(0,gc.jsx)("path",{d:"M6 15V6H15",stroke:"gray",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"})]}))},oN=function(e){var t=Object.assign({},(jC(e),e));return(0,gc.jsxs)("svg",xe(xe({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),{},{children:[(0,gc.jsx)("title",{children:"Exit Full Screen"}),(0,gc.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.29289 3.29289C3.68342 2.90237 4.31658 2.90237 4.70711 3.29289L8 6.58579V5C8 4.44772 8.44772 4 9 4C9.55228 4 10 4.44772 10 5V9C10 9.55228 9.55228 10 9 10H5C4.44772 10 4 9.55228 4 9C4 8.44772 4.44772 8 5 8H6.58579L3.29289 4.70711C2.90237 4.31658 2.90237 3.68342 3.29289 3.29289ZM19.2929 3.29289C19.6834 2.90237 20.3166 2.90237 20.7071 3.29289C21.0976 3.68342 21.0976 4.31658 20.7071 4.70711L17.4142 8H19C19.5523 8 20 8.44772 20 9C20 9.55228 19.5523 10 19 10H15C14.4477 10 14 9.55228 14 9V5C14 4.44772 14.4477 4 15 4C15.5523 4 16 4.44772 16 5V6.58579L19.2929 3.29289ZM4 15C4 14.4477 4.44772 14 5 14H9C9.55228 14 10 14.4477 10 15V19C10 19.5523 9.55228 20 9 20C8.44772 20 8 19.5523 8 19V17.4142L4.70711 20.7071C4.31658 21.0976 3.68342 21.0976 3.29289 20.7071C2.90237 20.3166 2.90237 19.6834 3.29289 19.2929L6.58579 16H5C4.44772 16 4 15.5523 4 15ZM14 15C14 14.4477 14.4477 14 15 14H19C19.5523 14 20 14.4477 20 15C20 15.5523 19.5523 16 19 16H17.4142L20.7071 19.2929C21.0976 19.6834 21.0976 20.3166 20.7071 20.7071C20.3166 21.0976 19.6834 21.0976 19.2929 20.7071L16 17.4142V19C16 19.5523 15.5523 20 15 20C14.4477 20 14 19.5523 14 19V15Z",fill:"gray"})]}))},sN=function(e){var t=Object.assign({},(jC(e),e));return(0,gc.jsx)("svg",xe(xe({width:"32px",height:"32px",viewBox:"0 -0.5 25 25",fill:"gray",xmlns:"http://www.w3.org/2000/svg"},t),{},{children:(0,gc.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.455 9.8834L7.063 4.1434C6.76535 3.96928 6.40109 3.95274 6.08888 4.09916C5.77667 4.24558 5.55647 4.53621 5.5 4.8764C5.5039 4.98942 5.53114 5.10041 5.58 5.2024L7.749 10.4424C7.85786 10.7903 7.91711 11.1519 7.925 11.5164C7.91714 11.8809 7.85789 12.2425 7.749 12.5904L5.58 17.8304C5.53114 17.9324 5.5039 18.0434 5.5 18.1564C5.55687 18.4961 5.77703 18.7862 6.0889 18.9323C6.40078 19.0785 6.76456 19.062 7.062 18.8884L18.455 13.1484C19.0903 12.8533 19.4967 12.2164 19.4967 11.5159C19.4967 10.8154 19.0903 10.1785 18.455 9.8834V9.8834Z",stroke:"#252625",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}))},uN=function(e){var t=Object.assign({},(jC(e),e));return(0,gc.jsx)("svg",xe(xe({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},t),{},{children:(0,gc.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3C12.5523 3 13 3.44772 13 4V17.5858L18.2929 12.2929C18.6834 11.9024 19.3166 11.9024 19.7071 12.2929C20.0976 12.6834 20.0976 13.3166 19.7071 13.7071L12.7071 20.7071C12.3166 21.0976 11.6834 21.0976 11.2929 20.7071L4.29289 13.7071C3.90237 13.3166 3.90237 12.6834 4.29289 12.2929C4.68342 11.9024 5.31658 11.9024 5.70711 12.2929L11 17.5858V4C11 3.44772 11.4477 3 12 3Z",fill:"#000000"})}))},cN=function(e){var t=Object.assign({},(jC(e),e));return(0,gc.jsxs)("svg",xe(xe({viewBox:"0 0 24 24",width:"30px",height:"30px"},t),{},{xmlns:"http://www.w3.org/2000/svg",children:[(0,gc.jsx)("path",{d:"M16.0303 8.46967C15.7374 8.17678 15.2626 8.17678 14.9697 8.46967C14.6768 8.76256 14.6768 9.23744 14.9697 9.53033L15.1412 9.7019C15.8229 10.3836 16.2797 10.8426 16.5753 11.2301C16.8577 11.6002 16.9216 11.8157 16.9216 12C16.9216 12.1843 16.8577 12.3998 16.5753 12.7699C16.2797 13.1574 15.8229 13.6164 15.1412 14.2981L14.9697 14.4697C14.6768 14.7626 14.6768 15.2374 14.9697 15.5303C15.2626 15.8232 15.7374 15.8232 16.0303 15.5303L16.2387 15.322C16.874 14.6867 17.4038 14.1569 17.7678 13.6798C18.1521 13.1762 18.4216 12.6441 18.4216 12C18.4216 11.3559 18.1521 10.8238 17.7678 10.3202C17.4038 9.84307 16.874 9.31331 16.2387 8.67801L16.0303 8.46967Z"}),(0,gc.jsx)("path",{d:"M13.4881 6.4459C13.8882 6.55311 14.1256 6.96436 14.0184 7.36446L11.4302 17.0237C11.323 17.4238 10.9117 17.6613 10.5116 17.5541C10.1115 17.4468 9.8741 17.0356 9.98131 16.6355L12.5695 6.97623C12.6767 6.57614 13.088 6.3387 13.4881 6.4459Z"}),(0,gc.jsx)("path",{d:"M9.03052 8.46967C8.73762 8.17678 8.26275 8.17678 7.96986 8.46967L7.76151 8.67801C7.12618 9.31331 6.59637 9.84307 6.23235 10.3202C5.84811 10.8238 5.57861 11.3559 5.57861 12C5.57861 12.6441 5.84811 13.1762 6.23235 13.6798C6.59637 14.1569 7.12616 14.6867 7.7615 15.322L7.96986 15.5303C8.26275 15.8232 8.73762 15.8232 9.03052 15.5303C9.32341 15.2374 9.32341 14.7626 9.03052 14.4697L8.85894 14.2981C8.17729 13.6164 7.72052 13.1574 7.42488 12.7699C7.14245 12.3998 7.07861 12.1843 7.07861 12C7.07861 11.8157 7.14245 11.6002 7.42488 11.2301C7.72052 10.8426 8.17729 10.3836 8.85894 9.7019L9.03052 9.53033C9.32341 9.23744 9.32341 8.76256 9.03052 8.46967Z"}),(0,gc.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1.25C6.06294 1.25 1.25 6.06294 1.25 12C1.25 17.9371 6.06294 22.75 12 22.75C17.9371 22.75 22.75 17.9371 22.75 12C22.75 6.06294 17.9371 1.25 12 1.25ZM2.75 12C2.75 6.89137 6.89137 2.75 12 2.75C17.1086 2.75 21.25 6.89137 21.25 12C21.25 17.1086 17.1086 21.25 12 21.25C6.89137 21.25 2.75 17.1086 2.75 12Z"})]}))},lN=function(e){var t=Object.assign({},(jC(e),e));return(0,gc.jsxs)("svg",xe(xe({version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40.00 40.00",enableBackground:"new 0 0 40 40",fill:"#000000",stroke:"gray",strokeWidth:"1.5"},t),{},{children:[(0,gc.jsx)("title",{children:"Toggle Chat Sidebar"}),(0,gc.jsx)("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),(0,gc.jsx)("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),(0,gc.jsxs)("g",{id:"SVGRepo_iconCarrier",children:[(0,gc.jsxs)("g",{display:"none",children:[(0,gc.jsx)("path",{display:"inline",d:"M20.01,36.5c-0.277,0-0.537-0.137-0.693-0.368L9.468,21.529c-1.171-1.861-1.79-3.993-1.79-6.162 C7.678,8.824,13.206,3.5,20,3.5c6.795,0,12.322,5.324,12.322,11.867c0,2.164-0.612,4.284-1.77,6.129l-9.851,14.636 C20.547,36.363,20.287,36.5,20.01,36.5L20.01,36.5z M20,5.17c-5.873,0-10.652,4.574-10.652,10.197c0,1.854,0.525,3.669,1.52,5.251 l9.14,13.55l9.146-13.581c0.981-1.566,1.499-3.371,1.499-5.22C30.652,9.744,25.873,5.17,20,5.17L20,5.17z"}),(0,gc.jsx)("path",{display:"inline",d:"M20,20.857c-3.159,0-5.728-2.482-5.728-5.535c0-3.051,2.569-5.534,5.728-5.534s5.729,2.483,5.729,5.534 C25.729,18.375,23.158,20.857,20,20.857L20,20.857z M20,11.458c-2.237,0-4.057,1.734-4.057,3.864c0,2.13,1.82,3.865,4.057,3.865 s4.058-1.734,4.058-3.865C24.058,13.192,22.236,11.458,20,11.458L20,11.458z"})]}),(0,gc.jsx)("path",{display:"none",d:"M36.705,34.289L26.059,23.615c3.918-4.69,3.688-11.708-0.707-16.114C23.1,5.243,20.104,4,16.919,4 S10.74,5.243,8.488,7.501c-4.647,4.66-4.647,12.241,0,16.899c2.253,2.257,5.248,3.5,8.431,3.5c2.866,0,5.573-1.015,7.728-2.86 l10.639,10.665C35.479,35.902,35.738,36,35.994,36s0.514-0.098,0.709-0.293C37.096,35.316,37.097,34.68,36.705,34.289z M9.766,23.126c-3.945-3.958-3.945-10.395,0-14.351c1.912-1.914,4.452-2.97,7.153-2.97s5.243,1.056,7.153,2.97 c3.946,3.956,3.946,10.394,0,14.351c-1.91,1.914-4.452,2.969-7.153,2.969S11.678,25.04,9.766,23.126z"}),(0,gc.jsx)("path",{display:"none",d:"M25.38,34.848c-0.066,0-0.136-0.009-0.206-0.024l-10.498-2.561l-10.61,2.561 c-0.069,0.016-0.139,0.024-0.205,0.024c-0.191,0-0.38-0.064-0.532-0.184C3.12,34.5,3,34.252,3,33.986V8.635 c0-0.397,0.27-0.741,0.657-0.836l10.76-2.623l0.407,0.003l10.504,2.558l10.607-2.561c0.065-0.016,0.135-0.023,0.203-0.023 c0.195,0,0.38,0.063,0.533,0.183C36.881,5.499,37,5.746,37,6.012v25.352c0,0.397-0.27,0.741-0.656,0.837l-10.759,2.622 C25.516,34.839,25.446,34.848,25.38,34.848L25.38,34.848z M15.481,30.688l9.039,2.203V9.311l-9.039-2.203V30.688z M26.24,9.311 v23.58l9.039-2.202V7.108L26.24,9.311z M4.721,9.311v23.58l9.039-2.202V7.108L4.721,9.311z"}),(0,gc.jsxs)("g",{display:"none",children:[(0,gc.jsx)("path",{display:"inline",d:"M9.708,35C7.112,35,5,32.893,5,30.303c0-2.592,2.112-4.699,4.708-4.699c2.595,0,4.707,2.107,4.707,4.699 C14.415,32.893,12.303,35,9.708,35L9.708,35z M9.708,27.445c-1.578,0-2.863,1.281-2.863,2.857c0,1.574,1.285,2.855,2.863,2.855 c1.578,0,2.861-1.281,2.861-2.855C12.568,28.727,11.285,27.445,9.708,27.445L9.708,27.445z"}),(0,gc.jsx)("path",{display:"inline",d:"M24.574,35c-0.621,0-1.125-0.505-1.125-1.126c0-9.552-7.771-17.324-17.323-17.324 C5.505,16.55,5,16.045,5,15.425s0.505-1.126,1.126-1.126c10.792,0,19.573,8.781,19.573,19.575C25.699,34.495,25.193,35,24.574,35 L24.574,35z"}),(0,gc.jsx)("path",{display:"inline",d:"M33.916,35c-0.597,0-1.082-0.486-1.082-1.084c0-14.75-12-26.751-26.751-26.751 C5.486,7.165,5,6.68,5,6.083C5,5.486,5.486,5,6.083,5C22.027,5,35,17.972,35,33.916C35,34.514,34.514,35,33.916,35L33.916,35z"})]}),(0,gc.jsxs)("g",{display:"none",children:[(0,gc.jsx)("path",{display:"inline",fillRule:"evenodd",clipRule:"evenodd",d:"M20,29.616c-6.911,0-13.412-3.681-17-9.615 c3.588-5.935,10.089-9.617,17-9.617c6.91,0,13.412,3.682,17,9.617C33.412,25.936,26.91,29.616,20,29.616L20,29.616z M19.998,12.254 c-5.817,0-11.309,2.848-14.687,7.618l-0.088,0.125l0.088,0.124c3.378,4.77,8.87,7.618,14.687,7.618 c5.82,0,11.311-2.849,14.687-7.618l0.089-0.124l-0.089-0.125C31.309,15.103,25.818,12.254,19.998,12.254L19.998,12.254z"}),(0,gc.jsx)("path",{display:"inline",fillRule:"evenodd",clipRule:"evenodd",d:"M19.987,13.521c-3.574,0-6.478,2.9-6.478,6.479 c0,3.579,2.904,6.478,6.478,6.478c3.581,0,6.478-2.898,6.478-6.478C26.465,16.42,23.568,13.521,19.987,13.521z M19.987,24.857 c-2.68,0-4.858-2.175-4.858-4.858s2.178-4.859,4.858-4.859c2.686,0,4.858,2.175,4.858,4.859S22.673,24.857,19.987,24.857z"})]}),(0,gc.jsx)("path",{display:"none",d:"M7.336,35.5c-0.399,0-0.725-0.325-0.725-0.726v-7.599c0-0.4,0.326-0.725,0.725-0.725h3.181v-6.336 c0-0.342,0.276-0.619,0.619-0.619h8.247v-5.949h-3.181c-0.398,0-0.725-0.325-0.725-0.726V5.223c0-0.399,0.326-0.723,0.725-0.723 h7.598c0.398,0,0.725,0.324,0.725,0.723v7.599c0,0.401-0.326,0.726-0.725,0.726H20.62v5.949h8.245c0.341,0,0.618,0.277,0.618,0.619 v6.336h3.182c0.397,0,0.724,0.324,0.724,0.725v7.599c0,0.399-0.326,0.725-0.724,0.725h-7.599c-0.4,0-0.726-0.325-0.726-0.725v-7.599 c0-0.4,0.325-0.725,0.726-0.725h3.179v-5.717H11.754v5.717h3.18c0.399,0,0.725,0.324,0.725,0.725v7.599 c0,0.4-0.325,0.726-0.725,0.726H7.336z M8.061,34.051h6.149V27.9H8.061V34.051z M25.79,34.051h6.149V27.9H25.79V34.051z M16.927,12.099h6.146V5.949h-6.146V12.099z"}),(0,gc.jsxs)("g",{display:"none",children:[(0,gc.jsx)("path",{display:"inline",d:"M11.018,35.01c-0.402,0-0.736-0.314-0.759-0.717L8.879,9.946H5.75c-0.419,0-0.76-0.342-0.76-0.76 c0-0.419,0.341-0.761,0.76-0.761h3.59L9.495,8.45L9.6,8.426h5.171V5.75c0-0.419,0.34-0.76,0.76-0.76h8.939 c0.419,0,0.76,0.341,0.76,0.76v2.676h5.174l0.175,0.028l0.118-0.028h3.554c0.419,0,0.76,0.342,0.76,0.761 c0,0.418-0.341,0.76-0.76,0.76h-3.128l-1.36,24.346c-0.023,0.402-0.356,0.718-0.759,0.718H11.018z M11.735,33.49h16.549L29.6,9.946 H10.4L11.735,33.49z M16.29,8.426h7.42V6.51h-7.42V8.426z"}),(0,gc.jsx)("path",{display:"inline",d:"M14.302,12.201c-0.249,0.012-0.435,0.102-0.57,0.252c-0.135,0.152-0.203,0.348-0.192,0.551l0.998,17.608 c0.024,0.401,0.357,0.716,0.759,0.716v0.19l0.045-0.19c0.417-0.024,0.737-0.385,0.715-0.804l-0.999-17.606 C15.034,12.516,14.702,12.201,14.302,12.201L14.302,12.201z"}),(0,gc.jsx)("path",{display:"inline",d:"M25.709,12.202c-0.445,0-0.776,0.314-0.8,0.716l-1,17.606c-0.022,0.419,0.298,0.779,0.717,0.804 l0.044,0.19v-0.19c0.402,0,0.735-0.314,0.757-0.716l1.001-17.608c0.011-0.203-0.058-0.398-0.192-0.551 c-0.136-0.15-0.321-0.24-0.523-0.251C25.711,12.202,25.71,12.202,25.709,12.202L25.709,12.202z"}),(0,gc.jsx)("path",{display:"inline",d:"M20,12.201c-0.419,0-0.76,0.341-0.76,0.76v17.607c0,0.419,0.341,0.76,0.76,0.76s0.76-0.341,0.76-0.76 V12.961C20.76,12.542,20.419,12.201,20,12.201L20,12.201z"})]}),(0,gc.jsxs)("g",{display:"none",children:[(0,gc.jsx)("path",{display:"inline",d:"M8.236,15.765C5.901,15.765,4,17.665,4,20c0,2.336,1.901,4.234,4.236,4.234 c2.336,0,4.235-1.898,4.235-4.234C12.472,17.665,10.572,15.765,8.236,15.765z M8.236,22.824c-1.557,0-2.823-1.268-2.823-2.824 c0-1.557,1.267-2.824,2.823-2.824c1.558,0,2.822,1.267,2.822,2.824C11.059,21.557,9.794,22.824,8.236,22.824z"}),(0,gc.jsx)("path",{display:"inline",d:"M20,15.765c-2.334,0-4.236,1.899-4.236,4.235c0,2.336,1.902,4.234,4.236,4.234 c2.337,0,4.236-1.898,4.236-4.234C24.236,17.665,22.337,15.765,20,15.765z M20,22.824c-1.557,0-2.822-1.268-2.822-2.824 c0-1.557,1.266-2.824,2.822-2.824c1.559,0,2.822,1.267,2.822,2.824C22.822,21.557,21.559,22.824,20,22.824z"}),(0,gc.jsx)("path",{display:"inline",d:"M31.764,15.765c-2.334,0-4.235,1.899-4.235,4.235c0,2.336,1.901,4.234,4.235,4.234 C34.101,24.234,36,22.336,36,20C36,17.665,34.101,15.765,31.764,15.765z M31.764,22.824c-1.556,0-2.822-1.268-2.822-2.824 c0-1.557,1.267-2.824,2.822-2.824c1.559,0,2.823,1.267,2.823,2.824C34.587,21.557,33.322,22.824,31.764,22.824z"})]}),(0,gc.jsx)("path",{display:"none",d:"M33.125,19.125H8.98L20.841,7.5c0.345-0.338,0.351-0.892,0.013-1.237s-0.892-0.35-1.237-0.012L6.262,19.339 C6.095,19.503,6,19.729,6,19.965c0,0.005,0,0.011,0,0.017C6,19.989,6,19.994,6,20c0,0.319,0.171,0.598,0.427,0.751L19.69,33.75 c0.17,0.167,0.392,0.25,0.613,0.25c0.227,0,0.453-0.088,0.625-0.262c0.338-0.346,0.332-0.9-0.013-1.238L9.055,20.875h24.07 C33.607,20.875,34,20.483,34,20S33.607,19.125,33.125,19.125z"}),(0,gc.jsx)("path",{display:"none",d:"M34,20c0-0.32-0.172-0.599-0.428-0.751L20.31,6.25c-0.345-0.338-0.899-0.333-1.237,0.012 S18.738,7.161,19.084,7.5l11.861,11.625H6.875C6.393,19.125,6,19.517,6,20s0.393,0.875,0.875,0.875H31.02L19.158,32.5 c-0.344,0.339-0.35,0.893-0.012,1.238C19.318,33.912,19.545,34,19.771,34c0.221,0,0.442-0.083,0.612-0.25l13.353-13.089 C33.904,20.497,34,20.271,34,20.035c0-0.005-0.001-0.011-0.001-0.017C33.999,20.011,34,20.006,34,20z"}),(0,gc.jsx)("path",{display:"none",d:"M33.75,19.616L20.66,6.262C20.496,6.095,20.271,6,20.037,6c-0.007,0-0.014,0.001-0.02,0.001S20.006,6,20,6 c-0.32,0-0.598,0.172-0.751,0.428L6.25,19.69c-0.338,0.345-0.332,0.899,0.013,1.237c0.171,0.167,0.391,0.25,0.612,0.25 c0.227-0.001,0.454-0.088,0.625-0.263l11.625-11.86v24.07C19.125,33.607,19.518,34,20,34c0.483,0,0.875-0.393,0.875-0.875V8.981 L32.5,20.841c0.338,0.345,0.893,0.35,1.237,0.013C34.082,20.515,34.088,19.96,33.75,19.616z"}),(0,gc.jsx)("path",{display:"none",d:"M33.737,19.071c-0.345-0.337-0.899-0.332-1.237,0.014l-11.625,11.86V6.875C20.875,6.392,20.483,6,20,6 c-0.482,0-0.875,0.392-0.875,0.875V31.02L7.5,19.159c-0.338-0.345-0.892-0.351-1.237-0.013c-0.345,0.338-0.351,0.892-0.013,1.237 l13.09,13.354C19.504,33.905,19.729,34,19.965,34c0.005,0,0.012-0.001,0.018-0.001C19.989,33.999,19.994,34,20,34 c0.32,0,0.599-0.172,0.752-0.428L33.75,20.31C34.088,19.965,34.082,19.41,33.737,19.071z"}),(0,gc.jsx)("path",{display:"none",d:"M26.714,34c-0.222,0-0.442-0.083-0.612-0.251l-13.429-13.16c-0.167-0.164-0.262-0.39-0.262-0.624 c0-0.236,0.095-0.462,0.262-0.626L26.027,6.251c0.344-0.339,0.898-0.334,1.237,0.011c0.338,0.346,0.331,0.899-0.013,1.237 L14.536,19.965l12.79,12.536c0.345,0.337,0.351,0.892,0.013,1.237C27.168,33.912,26.939,34,26.714,34z"}),(0,gc.jsx)("path",{display:"none",d:"M13.36,34c-0.225,0-0.453-0.088-0.624-0.262c-0.339-0.346-0.333-0.899,0.01-1.237l12.717-12.466 L12.673,7.499c-0.345-0.339-0.35-0.893-0.013-1.237c0.34-0.344,0.894-0.35,1.238-0.012l13.429,13.161 c0.167,0.164,0.262,0.39,0.262,0.624c0,0.236-0.094,0.461-0.262,0.625L13.974,33.75C13.803,33.917,13.581,34,13.36,34z"}),(0,gc.jsx)("path",{display:"none",d:"M5.938,28.131c-0.236,0-0.474-0.089-0.657-0.269c-0.368-0.362-0.375-0.956-0.012-1.325L19.37,12.149 c0.176-0.179,0.417-0.28,0.669-0.28s0.493,0.101,0.669,0.28l14.023,14.308c0.363,0.369,0.356,0.963-0.012,1.326 c-0.37,0.361-0.965,0.356-1.326-0.014L20.039,14.146L6.608,27.85C6.423,28.037,6.182,28.13,5.938,28.131z"}),(0,gc.jsx)("path",{display:"none",d:"M19.962,28.131c-0.253,0-0.493-0.102-0.67-0.281L5.27,13.542c-0.364-0.37-0.357-0.963,0.011-1.326 c0.372-0.362,0.965-0.356,1.326,0.013l13.354,13.625l13.433-13.704c0.361-0.37,0.954-0.376,1.326-0.015 c0.368,0.363,0.375,0.957,0.013,1.327L20.632,27.85C20.454,28.029,20.214,28.131,19.962,28.131z"}),(0,gc.jsxs)("g",{display:"none",children:[(0,gc.jsx)("path",{display:"inline",d:"M6.72,34C6.323,34,6,33.678,6,33.281v-5.811c0-0.396,0.323-0.721,0.72-0.721h5.81 c0.397,0,0.72,0.324,0.72,0.721v5.811c0,0.396-0.323,0.719-0.72,0.719H6.72z M7.439,32.561h4.371v-4.371H7.439V32.561z"}),(0,gc.jsx)("path",{display:"inline",d:"M17.095,34c-0.396,0-0.72-0.322-0.72-0.719v-5.811c0-0.396,0.323-0.721,0.72-0.721h5.811 c0.396,0,0.72,0.324,0.72,0.721v5.811c0,0.396-0.323,0.719-0.72,0.719H17.095z M17.815,32.561h4.371v-4.371h-4.371V32.561z"}),(0,gc.jsx)("path",{display:"inline",d:"M27.471,34c-0.397,0-0.721-0.322-0.721-0.719v-5.811c0-0.396,0.323-0.721,0.721-0.721h5.81 c0.396,0,0.72,0.324,0.72,0.721v5.811C34,33.678,33.677,34,33.28,34H27.471z M28.189,32.561h4.371v-4.371h-4.371V32.561z"}),(0,gc.jsx)("path",{display:"inline",d:"M6.72,23.625c-0.396,0-0.72-0.322-0.72-0.719v-5.811c0-0.397,0.323-0.72,0.72-0.72h5.81 c0.397,0,0.72,0.323,0.72,0.72v5.811c0,0.396-0.323,0.719-0.72,0.719H6.72z M7.439,22.186h4.371v-4.371H7.439V22.186z"}),(0,gc.jsx)("path",{display:"inline",d:"M17.095,23.625c-0.396,0-0.72-0.322-0.72-0.719v-5.811c0-0.397,0.323-0.72,0.72-0.72h5.811 c0.396,0,0.72,0.323,0.72,0.72v5.811c0,0.396-0.323,0.719-0.72,0.719H17.095z M17.815,22.186h4.371v-4.371h-4.371V22.186z"}),(0,gc.jsx)("path",{display:"inline",d:"M27.471,23.625c-0.397,0-0.721-0.322-0.721-0.719v-5.811c0-0.397,0.323-0.72,0.721-0.72h5.81 c0.396,0,0.72,0.323,0.72,0.72v5.811c0,0.396-0.323,0.719-0.72,0.719H27.471z M28.189,22.186h4.371v-4.371h-4.371V22.186z"}),(0,gc.jsx)("path",{display:"inline",d:"M6.72,13.25C6.323,13.25,6,12.927,6,12.531v-5.81C6,6.324,6.323,6,6.72,6h5.81 c0.397,0,0.72,0.323,0.72,0.72v5.81c0,0.396-0.323,0.719-0.72,0.719H6.72z M7.439,11.811h4.371V7.439H7.439V11.811z"}),(0,gc.jsx)("path",{display:"inline",d:"M17.095,13.25c-0.396,0-0.72-0.322-0.72-0.719v-5.81c0-0.397,0.323-0.72,0.72-0.72h5.811 c0.396,0,0.72,0.323,0.72,0.72v5.81c0,0.396-0.323,0.719-0.72,0.719H17.095z M17.815,11.811h4.371V7.439h-4.371V11.811z"}),(0,gc.jsx)("path",{display:"inline",d:"M27.471,13.25c-0.397,0-0.721-0.322-0.721-0.719v-5.81c0-0.397,0.323-0.72,0.721-0.72h5.81 C33.677,6,34,6.324,34,6.721v5.81c0,0.396-0.323,0.719-0.72,0.719H27.471z M28.189,11.811h4.371V7.439h-4.371V11.811z"})]}),(0,gc.jsxs)("g",{display:"none",children:[(0,gc.jsx)("path",{display:"inline",d:"M16.225,8.013h16.949C33.63,8.013,34,7.642,34,7.185c0-0.455-0.37-0.826-0.826-0.826H16.225 c-0.457,0-0.827,0.371-0.827,0.826C15.398,7.642,15.768,8.013,16.225,8.013z"}),(0,gc.jsx)("path",{display:"inline",d:"M33.174,11.423H16.225c-0.457,0-0.827,0.369-0.827,0.826s0.37,0.826,0.827,0.826h16.949 c0.456,0,0.826-0.369,0.826-0.826S33.63,11.423,33.174,11.423z"}),(0,gc.jsx)("path",{display:"inline",d:"M33.174,16.692H16.225c-0.457,0-0.827,0.371-0.827,0.827s0.37,0.827,0.827,0.827h16.949 c0.456,0,0.826-0.371,0.826-0.827S33.63,16.692,33.174,16.692z"}),(0,gc.jsx)("path",{display:"inline",d:"M33.174,21.653H16.225c-0.457,0-0.827,0.371-0.827,0.827s0.37,0.827,0.827,0.827h16.949 c0.456,0,0.826-0.371,0.826-0.827S33.63,21.653,33.174,21.653z"}),(0,gc.jsx)("path",{display:"inline",d:"M33.174,27.027H16.225c-0.457,0-0.827,0.37-0.827,0.827c0,0.456,0.37,0.826,0.827,0.826h16.949 c0.456,0,0.826-0.37,0.826-0.826C34,27.397,33.63,27.027,33.174,27.027z"}),(0,gc.jsx)("path",{display:"inline",d:"M33.174,31.987H16.225c-0.457,0-0.827,0.371-0.827,0.828c0,0.455,0.37,0.826,0.827,0.826h16.949 c0.456,0,0.826-0.371,0.826-0.826C34,32.358,33.63,31.987,33.174,31.987z"}),(0,gc.jsx)("path",{display:"inline",d:"M6.717,33.53C6.322,33.53,6,33.21,6,32.815v-4.961c0-0.396,0.322-0.717,0.717-0.717h4.961 c0.395,0,0.717,0.321,0.717,0.717v4.961c0,0.395-0.322,0.715-0.717,0.715H6.717z M7.434,32.098h3.526V28.57H7.434V32.098z"}),(0,gc.jsx)("path",{display:"inline",d:"M6.717,23.196C6.322,23.196,6,22.876,6,22.48V17.52c0-0.396,0.322-0.717,0.717-0.717h4.961 c0.395,0,0.717,0.321,0.717,0.717v4.961c0,0.396-0.322,0.716-0.717,0.716H6.717z M7.434,21.763h3.526v-3.527H7.434V21.763z"}),(0,gc.jsx)("path",{display:"inline",d:"M6.717,12.862C6.322,12.862,6,12.541,6,12.146V7.185C6,6.79,6.322,6.468,6.717,6.468h4.961 c0.395,0,0.717,0.322,0.717,0.717v4.961c0,0.396-0.322,0.717-0.717,0.717H6.717z M7.434,11.429h3.526V7.901H7.434V11.429z"})]}),(0,gc.jsxs)("g",{children:[(0,gc.jsx)("path",{d:"M34.063,10.625H5.938C5.419,10.625,5,10.204,5,9.688C5,9.17,5.419,8.75,5.938,8.75h28.125C34.58,8.75,35,9.17,35,9.688 C35,10.204,34.58,10.625,34.063,10.625"}),(0,gc.jsx)("path",{d:"M34.063,20.938H5.938C5.419,20.938,5,20.517,5,20c0-0.518,0.419-0.938,0.938-0.938h28.125C34.58,19.063,35,19.482,35,20 C35,20.517,34.58,20.938,34.063,20.938"}),(0,gc.jsx)("path",{d:"M34.063,31.25H5.938C5.419,31.25,5,30.829,5,30.313c0-0.518,0.419-0.938,0.938-0.938h28.125 c0.518,0,0.938,0.42,0.938,0.938C35,30.829,34.58,31.25,34.063,31.25"}),(0,gc.jsx)("path",{d:"M34.063,20.938H5.938C5.419,20.938,5,20.517,5,20c0-0.518,0.419-0.938,0.938-0.938h28.125C34.58,19.063,35,19.482,35,20 C35,20.517,34.58,20.938,34.063,20.938"})]})]})]}))},fN=function(e){var t=Object.assign({},(jC(e),e));return(0,gc.jsxs)("svg",xe(xe({viewBox:"0 0 24 24",fill:"transparent",xmlns:"http://www.w3.org/2000/svg"},t),{},{children:[(0,gc.jsx)("path",{d:"M13 4H8.8C7.11984 4 6.27976 4 5.63803 4.32698C5.07354 4.6146 4.6146 5.07354 4.32698 5.63803C4 6.27976 4 7.11984 4 8.8V15.2C4 16.8802 4 17.7202 4.32698 18.362C4.6146 18.9265 5.07354 19.3854 5.63803 19.673C6.27976 20 7.11984 20 8.8 20H15.2C16.8802 20 17.7202 20 18.362 19.673C18.9265 19.3854 19.3854 18.9265 19.673 18.362C20 17.7202 20 16.8802 20 15.2V11",stroke:"gray",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,gc.jsx)("path",{d:"M4 16L8.29289 11.7071C8.68342 11.3166 9.31658 11.3166 9.70711 11.7071L13 15M13 15L15.7929 12.2071C16.1834 11.8166 16.8166 11.8166 17.2071 12.2071L20 15M13 15L15.25 17.25",stroke:"gray",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,gc.jsx)("path",{d:"M18 8V3M18 3L16 5M18 3L20 5",stroke:"gray",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))},hN=function(e){var t=e.isFullScreen,n=e.chat,r=e.toggleChat,i=e.unreadMessages,a=e.toggleFullScreen,o=e.closeChatHandler,s=e.dispalyMessages,u=e.messages,c=e.loading,l=e.messageText,f=e.messagesContainerRef,h=e.chatInputRef,d=e.messageToReplay,p=e.setMessageToReplay,v=e.markAllAsRead,g=e.sendMessage,m=e.scrollToReplayedMessage,y=e.isAtBottom,k=e.scrollToBottom,b=e.isCode,w=e.setIsCode,x=e.onEnterPress,_=e.handleInputChange,I=e.handlePhotoUpload,S=e.photos,E=e.setPhotos,C=e.replayToDisplayName,T=e.imgUploadLoading,A=e.setShowSideChats;return(0,gc.jsxs)("div",{className:"".concat(qC," ").concat(t&&HC),children:[(0,gc.jsxs)("div",{className:GC,onClick:r,children:[t&&(0,gc.jsx)("button",{className:WC,onClick:function(){return A((function(e){return!e}))},children:(0,gc.jsx)(lN,{})}),(0,gc.jsxs)("div",{className:KC,children:[(0,gc.jsx)("div",{className:QC,children:(0,gc.jsx)("img",{src:n.logo,alt:n.name,onError:function(e){e.target.src=pT}})}),(0,gc.jsx)("h2",{children:n.name})]}),(0,gc.jsxs)("div",{className:$C,children:[i>0&&!t&&(0,gc.jsx)("div",{className:YC,children:i}),(0,gc.jsx)("div",{className:XC,onClick:a,children:t?(0,gc.jsx)(oN,{height:"20px"}):(0,gc.jsx)(aN,{height:"18px"})}),(0,gc.jsx)("div",{className:XC,onClick:function(){return o(n.id)},title:"Close Chat",children:(0,gc.jsx)(iN,{height:"18px"})})]})]}),(0,gc.jsxs)("div",{className:"".concat(ZC,"  ").concat(!s&&JC),children:[(0,gc.jsxs)("div",{className:eT,ref:f,children:[c?(0,gc.jsx)(DT,{}):(null===u||void 0===u?void 0:u.length)>0?u.map((function(e,t){return(0,gc.jsx)(rN,{message:e,chatName:n.name,fistUnreadMessage:(null===u||void 0===u?void 0:u.length)-i===t,onSetMessageToReplay:function(){return p(e)},scrollToReplayedMessage:function(){return m(e.replayTo.id)}},e.id)})):(0,gc.jsxs)("p",{className:iT,children:["There are no messages yet. ",(0,gc.jsx)("br",{}),"Start a conversation!"]}),(0,gc.jsx)(uN,{className:"".concat(tT," ").concat(!y&&rT),onClick:k})]}),d&&(0,gc.jsxs)("div",{className:nT,children:[(0,gc.jsxs)("div",{className:fT,children:[(0,gc.jsxs)("p",{children:["Replying to ",C]}),(0,gc.jsx)("p",{className:hT,children:d.text||"Image"})]}),(0,gc.jsx)(iN,{onClick:function(){return p(null)}})]}),(T||S)&&(0,gc.jsx)("div",{className:aT,children:null===S||void 0===S?void 0:S.map((function(e,t){return(0,gc.jsxs)("div",{className:oT,children:[(0,gc.jsx)(iN,{onClick:function(){return E((function(e){return e.filter((function(e,n){return n!==t}))}))}}),T[t]?(0,gc.jsx)("div",{className:dT}):(0,gc.jsx)("img",{src:e,alt:"Uploaded"})]},t)}))}),(0,gc.jsxs)("form",{onSubmit:g,children:[(0,gc.jsxs)("div",{className:uT,children:[(0,gc.jsx)("button",{className:"".concat(sT," ").concat(b&&lT),type:"button",onClick:function(){return w((function(e){return!e}))},title:"Code Block",children:(0,gc.jsx)(cN,{})}),(0,gc.jsxs)("button",{type:"button",className:cT,children:[(0,gc.jsx)(fN,{}),(0,gc.jsx)("input",{type:"file",accept:"image/*",onChange:I,placeholder:"none",name:"photoUrl",title:"Send a picture",multiple:!0})]})]}),(0,gc.jsx)("textarea",{value:l,onChange:_,ref:h,"aria-label":"Chat Message textarea",onKeyDown:x,onClick:v}),(0,gc.jsx)("button",{type:"submit",children:(0,gc.jsx)(sN,{})})]})]})]})};var dN=function(){return dN=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},dN.apply(this,arguments)},pN=function(e){return{loading:void 0===e||null===e,value:e}},vN=function(e){var n=e?e():void 0,r=(0,t.useReducer)((function(e,t){switch(t.type){case"error":return dN(dN({},e),{error:t.error,loading:!1,value:void 0});case"reset":return pN(t.defaultValue);case"value":return dN(dN({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),pN(n)),i=r[0],a=r[1],o=function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})},s=function(e){a({type:"error",error:e})},u=function(e){a({type:"value",value:e})};return(0,t.useMemo)((function(){return{error:i.error,loading:i.loading,reset:o,setError:s,setValue:u,value:i.value}}),[i.error,i.loading,o,s,u,i.value])},gN=function(e,n,r){var i=(0,t.useRef)(e);return(0,t.useEffect)((function(){n(e,i.current)||(i.current=e,r&&r())})),i},mN=function(e,t){var n=!e&&!t,r=!!e&&!!t&&iS(e,t);return n||r},yN=function(e,t){return gN(e,mN,t)},kN=function(e,n){var r=null===n||void 0===n?void 0:n.snapshotOptions,i=function(e,n){var r=vN(),i=r.error,a=r.loading,o=r.reset,s=r.setError,u=r.setValue,c=r.value,l=yN(e,o);(0,t.useEffect)((function(){if(l.current){var e=(null===n||void 0===n?void 0:n.snapshotListenOptions)?$E(l.current,n.snapshotListenOptions,u,s):$E(l.current,u,s);return function(){e()}}u(void 0)}),[l.current]);var f=[c,a,i];return(0,t.useMemo)((function(){return f}),f)}(e,n),a=i[0],o=i[1],s=i[2],u=[bN(a,r),o,s,a];return(0,t.useMemo)((function(){return u}),u)},bN=function(e,n){return(0,t.useMemo)((function(){return null===e||void 0===e?void 0:e.docs.map((function(e){return e.data(n)}))}),[e,n])},wN=lc.firestore();var xN=function(e){var n=f((0,t.useState)(null),2),r=n[0],i=n[1],a=(0,t.useContext)(mc).user,o=wN.collection("/chats/".concat(e,"/messages/")),s=o.orderBy("createdAt","asc"),u=f(kN(s,{idField:"id"}),2),c=u[0],l=u[1];(0,t.useEffect)((function(){a&&function(){var e=null===c||void 0===c?void 0:c.filter((function(e){return!e.readBy.includes(a.uid)})).length;i(e)}()}),[c,a]);var h=function(){var e=v(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=5;break}return e.next=3,o.get();case 3:e.sent.forEach((function(e){e.ref.update({readBy:lc.firestore.FieldValue.arrayUnion(a.uid)})}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{messages:c,loading:l,unreadMessages:r,messageCollection:o,markAllAsRead:h}},_N=function(e){var n=e.chat,r=e.isFullScreen,i=e.setShowSideChats,a=f((0,t.useState)(!0),2),o=a[0],s=a[1],c=f((0,t.useState)(!1),2),l=c[0],h=c[1],p=f((0,t.useState)(""),2),g=p[0],m=p[1],y=f((0,t.useState)([]),2),k=y[0],b=y[1],w=f((0,t.useState)(!1),2),x=w[0],_=w[1],I=f((0,t.useState)(null),2),S=I[0],E=I[1],C=f((0,t.useState)(!0),2),T=C[0],A=C[1],N=f(Yl(Xl),1)[0],R=(0,t.useContext)(mc).user,D=(0,t.useRef)(),L=(0,t.useRef)(),O=RC().openModal,P=OA(null===S||void 0===S?void 0:S.uid),M=(null===R||void 0===R?void 0:R.uid)===(null===S||void 0===S?void 0:S.uid)?"yourself":null===P||void 0===P?void 0:P.displayName,F=xN(n.name),j=F.messages,U=F.loading,V=F.unreadMessages,B=F.messageCollection,z=F.markAllAsRead,q=xc(),H=q.showMessages,G=q.toggleFullScreenHandler,W=q.closeChatHandler,K=function(){D.current&&(D.current.scrollTop=D.current.scrollHeight)};(0,t.useEffect)((function(){K()}),[U,o]);(0,t.useEffect)((function(){V>0&&N()}),[V,N]);var Q=function(){var e=v(d().mark((function e(t){var r,i,a,o,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.target.files,i=Gl(),a=Array.from(r).map((function(e){return Hl(i,"chat-photos/".concat(n.name,"/").concat((new Date).getTime(),"_").concat(e.name))})),e.prev=3,h(!0),o=d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zl(a[t],r[t]);case 2:return e.next=4,ql(a[t]);case 4:n=e.sent,b((function(e){return[].concat(u(e),[n])}));case 6:case"end":return e.stop()}}),e)})),s=0;case 7:if(!(s<r.length)){e.next=12;break}return e.delegateYield(o(s),"t0",9);case 9:s++,e.next=7;break;case 12:t.target.value=null,h(!1),e.next=20;break;case 16:e.prev=16,e.t1=e.catch(3),console.log(e.t1),h(!1);case 20:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=v(d().mark((function e(t){var n,r,i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!R){e.next=23;break}if(n=R.uid,r=(new Date).toISOString()+"*"+n,""===g.trim()){e.next=7;break}return e.next=7,B.doc(r).set({text:g,createdAt:lc.firestore.FieldValue.serverTimestamp(),uid:n,id:r,readBy:[n],replayTo:S,isCode:x});case 7:if(!k){e.next=16;break}i=0;case 9:if(!(i<k.length)){e.next=16;break}return a="photo-"+i+r,e.next=13,B.doc(a).set({createdAt:lc.firestore.FieldValue.serverTimestamp(),uid:n,id:a,readBy:[n],replayTo:S,isCode:!1,photoUrl:k[i]});case 13:i++,e.next=9;break;case 16:m(""),K(),_(!1),b([]),L.current.style.height="3rem",e.next=24;break;case 23:O((0,gc.jsx)(zC,{}));case 24:E(null);case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){(null===n||void 0===n?void 0:n.name)===(null===H||void 0===H?void 0:H.name)&&s(!0)}),[H,n.name]),(0,t.useEffect)((function(){var e=function(e){27===e.keyCode&&(r?G(n.id):s(!1))};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[]),(0,t.useEffect)((function(){var e=null===D||void 0===D?void 0:D.current,t=function(){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;A(t+r+50>=n)};return null===e||void 0===e||e.addEventListener("scroll",t),function(){null===e||void 0===e||e.removeEventListener("scroll",t)}}),[]),(0,t.useEffect)((function(){!function(){var e;null===L||void 0===L||null===(e=L.current)||void 0===e||e.focus()}()}),[S,o]);return(0,gc.jsx)(hN,{isFullScreen:r,chat:n,toggleChat:function(){r||s((function(e){return!e}))},unreadMessages:V,toggleFullScreen:function(e){e.stopPropagation(),G(n.id)},closeChatHandler:W,dispalyMessages:o,messages:j,loading:U,messageText:g,setMessageText:m,messagesContainerRef:D,chatInputRef:L,messageToReplay:S,setMessageToReplay:E,markAllAsRead:z,sendMessage:$,scrollToReplayedMessage:function(e){document.getElementById(e).scrollIntoView({behavior:"smooth"})},isAtBottom:T,scrollToBottom:K,isCode:x,setIsCode:_,onEnterPress:function(e){13===e.keyCode&&!1===e.shiftKey&&(e.preventDefault(),$(e))},handleInputChange:function(e){var t=L.current;t.style.height="auto";var n=getComputedStyle(t),r=parseFloat(n.fontSize);t.style.height="".concat(Math.min(4,Math.max(1,Math.floor(t.scrollHeight/(1.5*r))))*(1.5*r),"px"),m(e.target.value)},photos:k,handlePhotoUpload:Q,setPhotos:b,replayToDisplayName:M,imgUploadLoading:l,setShowSideChats:i})},IN="FullScreen_fullscreen__MjhGS",SN="FullScreen_side-chats-container__D3SAI",EN="FullScreen_fullscreen-chat-container__o12Q6",CN="FullScreen_hidden__pUlhY",TN="SideChatFullscreen_side-chat-fullscreen__V+d2e",AN="SideChatFullscreen_title-and-logo-side__fTYVr",NN="SideChatFullscreen_logo-container-side__8IUq0",RN="SideChatFullscreen_badges-container-side__vEqZD",DN="SideChatFullscreen_badge-wrapper__G9OFb",LN="SideChatFullscreen_close-icon-side__Z4J91",ON="SideChatFullscreen_unread-messages-badge__Ha9m1",PN=function(e){var t=e.chat,n=xc(),r=n.setFullScreenChat,i=n.closeChatHandler,a=xN(t.name).unreadMessages;return(0,gc.jsxs)("div",{className:TN,onClick:function(){return r(t)},children:[(0,gc.jsxs)("div",{className:AN,children:[(0,gc.jsx)("div",{className:NN,children:(0,gc.jsx)("img",{src:t.logo,alt:t.name,onError:function(e){e.target.src=pT}})}),(0,gc.jsx)("h2",{children:t.name})]}),(0,gc.jsxs)("div",{className:RN,onClick:function(e){return e.stopPropagation()},children:[!!a>0&&(0,gc.jsx)("div",{className:"".concat(DN," ").concat(ON),children:a<99?a:"99+"}),(0,gc.jsx)("div",{className:DN,onClick:function(){return i(t.id)},children:(0,gc.jsx)(iN,{height:"20px",className:LN,fill:"gray"})})]})]})},MN=function(){var e=f((0,t.useState)(!0),2),n=e[0],r=e[1],i=xc(),a=i.activeChatsBottom,o=i.activeChatsRight,s=i.fullScreenChat;return(0,gc.jsxs)("div",{className:IN,children:[(0,gc.jsx)("div",{className:"".concat(SN,"  ").concat(!n&&CN),children:[].concat(u(a),u(o)).map((function(e){return(0,gc.jsx)(PN,{chat:e},e.id)}))}),(0,gc.jsx)("div",{className:EN,children:(0,gc.jsx)(_N,{isFullScreen:!0,chat:s,setShowSideChats:r})})]})},FN={"home-screen":"HomeScreen_home-screen__XI6vu","chat-rows-container":"HomeScreen_chat-rows-container__A3P6L","active-chats-container":"HomeScreen_active-chats-container__1Sbbg","active-chats-bottom":"HomeScreen_active-chats-bottom__7SjHg","active-chats-right":"HomeScreen_active-chats-right__7lyKt","chat-heads-container":"HomeScreen_chat-heads-container__V-H+P",fadeIn:"HomeScreen_fadeIn__obmjx"},jN=[{name:"HTML",logo:"https://www.w3.org/html/logo/downloads/HTML5_Badge_256.png",tags:["markup","frontend"]},{name:"CSS",logo:"https://cdn.iconscout.com/icon/free/png-256/free-css-alt-3628710-3029935.png?f=webp",tags:["frontend"]},{name:"JavaScript",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/9/99/Unofficial_JavaScript_logo_2.svg/480px-Unofficial_JavaScript_logo_2.svg.png",tags:["Programming languages","JS","frontend","Machine Learning Languages"]},{name:"ReactJS",logo:"https://cdn.iconscout.com/icon/free/png-256/free-react-4-1175110.png",tags:["frontend","frameworks","frontend frameworks","JS"]},{name:"React Native",logo:"https://www.datocms-assets.com/45470/1631026680-logo-react-native.png",tags:["frontend","frameworks","frontend frameworks","JS","mobile"]},{name:"jQuery",logo:"https://cdn.iconscout.com/icon/free/png-256/free-jquery-8-1175153.png?f=webp",tags:["frontend","frameworks","frontend frameworks","JS"]},{name:"AngularJS",logo:"https://cdn.iconscout.com/icon/free/png-256/free-angular-2038881-1720094.png",tags:["frontend","frameworks","frontend frameworks","JS"]},{name:"Vue.js",logo:"https://weblianz.com/images/tech-slide-icons/vue.webp",tags:["frontend","frameworks","frontend frameworks","JS"]},{name:"Next.js",logo:"https://jlannoo.dev/skills/next.png",tags:["frontend","frameworks","frontend frameworks","JS"]},{name:"Flutter",logo:"https://www.xampra.com/assets/logoIcon/flutter.webp",tags:["frontend","mobile"]},{name:"Electron",logo:"https://static.macupdate.com/products/56919/l/electron-logo.png?v=1668663792",tags:["frontend","frameworks","frontend frameworks","JS"]},{name:"Bootstrap",logo:"https://cdn.iconscout.com/icon/free/png-256/free-bootstrap-226077.png?f=webp",tags:["frontend","CSS frameworks","frameworks","frontend frameworks"]},{name:"Foundation",logo:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS7vNO1jVzx7DyMUVujdIW2aQB9iojVXc0PDw&usqp=CAU",tags:["frontend","CSS frameworks","frameworks","frontend frameworks"]},{name:"Tailwind CSS",logo:"https://bourhaouta.gallerycdn.vsassets.io/extensions/bourhaouta/tailwindshades/0.0.5/1592520164095/Microsoft.VisualStudio.Services.Icons.Default",tags:["frontend","CSS frameworks","frameworks","frontend frameworks"]},{name:"Bulma",logo:"https://cms-assets.tutsplus.com/uploads/users/30/posts/28091/preview_image/pre.png",tags:["frontend","CSS frameworks","frameworks","frontend frameworks"]},{name:"Milligram",logo:"https://www.rezourze.com/rz-storage/2020/08/milligram-css-framework.jpg",tags:["frontend","CSS frameworks","frameworks","frontend frameworks"]},{name:"UIkit",logo:"https://camo.githubusercontent.com/58b145be0e13ad12dea993fe9d65701d2dd580365da54f12f21e47f7288dbb7b/687474703a2f2f6f6d6e69636f64652e616d2f7069632f73657276696365732f75696b69742e706e67",tags:["frontend","CSS frameworks","frameworks","frontend frameworks"]},{name:"Materialize CSS",logo:"https://vimage.fr/vimage/img/materialize-logo.png",tags:["frontend","CSS frameworks","frameworks","frontend frameworks"]},{name:"NodeJS",logo:"https://cdn.iconscout.com/icon/free/png-256/free-node-js-1174925.png?f=webp",tags:["backend","JS"]},{name:"Express.js",logo:"https://res.cloudinary.com/kc-cloud/images/f_auto,q_auto/v1651772163/expressjslogo/expressjslogo.webp?_i=AA",tags:["backend","frameworks","backend frameworks","JS"]},{name:"Pyton",logo:"https://i0.wp.com/evomics.org/wp-content/uploads/2011/09/python-logo-glassy.png",tags:["backend","Programming languages","Machine Learning Languages"]},{name:"django",logo:"https://miro.medium.com/max/1200/1*1OBwwxzJksMv0YDD-XmyBw.png",tags:["backend","frameworks","backend frameworks","pyton"]},{name:"Java",logo:"https://cdn.iconscout.com/icon/free/png-256/free-java-2038875-1720088.png?f=webp",tags:["backend","Programming languages","Machine Learning Languages"]},{name:"C",logo:"https://cdn.iconscout.com/icon/free/png-256/free-c-57-1175191.png?f=webp",tags:["backend","Programming languages"]},{name:"C++",logo:"https://whatthelogo.com/storage/logos/c-270445.png",tags:["backend","Programming languages","Machine Learning Languages"]},{name:"C#",logo:"https://cdn.iconscout.com/icon/free/png-256/free-csharp-1-1175241.png?f=webp",tags:["backend","Programming languages"]},{name:"PHP",logo:"https://www.php.net/images/meta-image.png",tags:["backend","Programming languages"]},{name:"Laravel",logo:"https://cdn.iconscout.com/icon/free/png-256/free-laravel-3-1175147.png",tags:["backend","frameworks","backend frameworks","php"]},{name:"GO",logo:"https://contentstatic.techgig.com/thumb/msid-82278297,width-460,resizemode-4/5-Top-advantages-of-using-Golang-programming-language.jpg?35743",tags:["backend","Programming languages","Machine Learning Languages"]},{name:"R",logo:"https://d3f1iyfxxz8i1e.cloudfront.net/courses/course_image/2be041a8b973.jpeg",tags:["backend","Programming languages","Machine Learning Languages"]},{name:"Julia",logo:"https://miro.medium.com/max/600/1*fep4idD8f924P1D6rlL1uw.jpeg",tags:["Programming languages","Machine Learning Languages"]},{name:"Lisp",logo:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRvxKSala6O3tmqBGDwUnCm4-BTS3mliowoUjMyArHRGDLtTmpjI3QclAnZk5eqq48Xyuo&usqp=CAU",tags:["Programming languages","Machine Learning Languages"]},{name:"YouTube",logo:"https://s3.eu-central-1.amazonaws.com/centaur-wp/designweek/prod/content/uploads/2013/08/Youtube.jpg",tags:["Learning platforms"]},{name:"FreeCodeCamp",logo:"https://www.explore-group.com/storage/images-processed/w-1500_h-auto_m-fit_s-any__Free-code-camp-banner.jpg",tags:["Learning platforms"]},{name:"Udemy",logo:"https://static.businessworld.in/article/article_extra_large_image/1568720807_WAh3OT_Udemy.png",tags:["Learning platforms"]},{name:"W3 Schools",logo:"https://yt3.ggpht.com/dW6to0x5Crmeh7yi-YPLcQRqVrBtx2BSh8eoKTJbE8NbjloQ0sqlmdszIlxokJU_97-ndOt_=s900-c-k-c0x00ffffff-no-rj",tags:["Learning platforms"]},{name:"Scrimba",logo:"https://selftaughttxg.com/static/97dd4f28c4c204a5e580f04c95f42644/e8950/Scrimba-logo.png",tags:["Learning platforms"]},{name:"Educative",logo:"https://images.g2crowd.com/uploads/product/image/large_detail/large_detail_ad69fc8576913b2f4236931ed31e7cf8/educative.png",tags:["Learning platforms"]},{name:"Coursera",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/9/97/Coursera-Logo_600x600.svg/2048px-Coursera-Logo_600x600.svg.png",tags:["Learning platforms"]},{name:"Udacity",logo:"https://cdn-1.webcatalog.io/catalog/udacity/udacity-icon-filled-256.webp?v=1675597497899",tags:["Learning platforms"]},{name:"Pluralsight",logo:"https://self-starters.com/wp-content/uploads/2021/03/Pluralsight-Review.png",tags:["Learning platforms"]},{name:"Windows",logo:"https://storage.googleapis.com/webdesignledger.pub.network/WDL/6f050e39-windows_10_logoblue.svg-copy_windows.jpg",tags:["Operating Systems"]},{name:"Ubuntu",logo:"https://static.javatpoint.com/linux/images/ubuntu-logo6.png",tags:["Operating Systems"]},{name:"Mac OS",logo:"http://fr.wikitwist.com/files/2013/04/Mac-OS-Logo-490x400.png",tags:["Operating Systems"]},{name:"Fedora",logo:"https://fedoraproject.org/w/uploads/5/57/Logo-history-revision.jpg",tags:["Operating Systems"]},{name:"Solaris",logo:"https://cdn.iconscout.com/icon/free/png-256/free-solaris-202411.png",tags:["Operating Systems"]},{name:"Free BSD",logo:"https://ih1.redbubble.net/image.783908519.2521/st,small,507x507-pad,600x600,f8f8f8.u5.jpg",tags:["Operating Systems"]},{name:"Chrome OS",logo:"https://user-images.githubusercontent.com/45159366/145649394-1efc2d67-8246-4ad8-a717-508b6087f109.png",tags:["Operating Systems"]},{name:"CentOS",logo:"http://www.agnosticdev.com/sites/default/files/2016-01/centos_0.jpg",tags:["Operating Systems"]},{name:"Debian",logo:"https://images.techhive.com/images/article/2014/10/debian-logo-100471075-orig.jpg?auto=webp&quality=85,70",tags:["Operating Systems"]},{name:"Deepin",logo:"https://seeklogo.com/images/D/deepin-logo-D3C79B9FFE-seeklogo.com.png",tags:["Operating Systems"]},{name:"VS Code",logo:"https://cdn.icon-icons.com/icons2/3053/PNG/512/microsoft_visual_studio_code_macos_bigsur_icon_189957.png",tags:["Code Editors"]},{name:"Sublime Text",logo:"https://upload.wikimedia.org/wikipedia/en/d/d2/Sublime_Text_3_logo.png",tags:["Code Editors"]},{name:"Atom",id:"".concat(Math.random().toString()," ").concat((new Date).getTime().toString(),"-id"),logo:"https://avatars.githubusercontent.com/u/1089146?s=280&v=4",tags:["Code Editors"]},{name:"Notepad ++",logo:"https://pbs.twimg.com/media/EGwO6UoWwAARoX5.png",tags:["Code Editors"]},{name:"TextMate",logo:"https://cdn.dribbble.com/users/3568/screenshots/1779577/textmate.jpg?compress=1&resize=400x300",tags:["Code Editors"]},{name:"Blue Fish",logo:"https://www.comparasoftware.com/wp-content/uploads/2018/09/logoBluefish.png",tags:["Code Editors"]},{name:"Vim",logo:"https://blog.vtutor.com/wp-content/uploads/2019/11/Vim-logo.jpg",tags:["Code Editors"]},{name:"NetBeans",logo:"https://www.jrebel.com/sites/default/files/styles/social_preview_image/public/image/2021-09/social-blog-netbeans-updates%20%281%29.jpg?itok=VQL9XqBR",tags:["Code Editors"]},{name:"Codeshare.io",logo:"https://avatars.githubusercontent.com/u/15991786?s=200&v=4",tags:["Code Editors"]},{name:"Azure DevOps Server",logo:"https://cdn.shopify.com/s/files/1/1694/1769/products/azure-devops-3_d9f5d2a5-0fbb-4ae6-a728-97ad7eb875dd.png?v=1558036184&width=300",tags:["Version Control Systems"]},{name:"AWS CodeCommit",logo:"https://d1tlzifd8jdoy4.cloudfront.net/wp-content/uploads/2015/07/codecommit.png",tags:["Version Control Systems"]},{name:"Git",logo:"https://git-scm.com/images/logos/downloads/Git-Icon-1788C.png",tags:["Version Control Systems"]},{name:"CA Panvalet",logo:"https://d3ml3b6vywsj0z.cloudfront.net/website/product-images/Broadcom.png",tags:["Version Control Systems"]}].map((function(e){return xe(xe({},e),{},{id:"".concat(e.name,"-id")})})),UN=["frontend","frontend frameworks","CSS frameworks","JS","backend","backend frameworks","Programming languages","Machine Learning Languages","markup","frameworks","Learning platforms","Code Editors","Operating Systems","Version Control Systems"],VN="ChatRow_chat-row-container__PZImF",BN="ChatRow_hide-button__BUCej",zN="ChatRow_row-body__y6fKm",qN="ChatRow_chats-outer-wrapper__SoE7V",HN="ChatRow_chats-inner-wrapper__829Ul",GN="ChatRow_logo-container__wPhvi",WN=function(e){var t=Object.assign({},(jC(e),e));return(0,gc.jsx)("svg",xe(xe({version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 492 492"},t),{},{children:(0,gc.jsx)("g",{children:(0,gc.jsx)("g",{children:(0,gc.jsx)("path",{d:"M198.608,246.104L382.664,62.04c5.068-5.056,7.856-11.816,7.856-19.024c0-7.212-2.788-13.968-7.856-19.032l-16.128-16.12\r C361.476,2.792,354.712,0,347.504,0s-13.964,2.792-19.028,7.864L109.328,227.008c-5.084,5.08-7.868,11.868-7.848,19.084\r c-0.02,7.248,2.76,14.028,7.848,19.112l218.944,218.932c5.064,5.072,11.82,7.864,19.032,7.864c7.208,0,13.964-2.792,19.032-7.864\r l16.124-16.12c10.492-10.492,10.492-27.572,0-38.06L198.608,246.104z"})})})}))},KN=function(e){var t=Object.assign({},(jC(e),e));return(0,gc.jsx)("svg",xe(xe({version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 492.004 492.004"},t),{},{children:(0,gc.jsx)("g",{children:(0,gc.jsx)("g",{children:(0,gc.jsx)("path",{d:"M382.678,226.804L163.73,7.86C158.666,2.792,151.906,0,144.698,0s-13.968,2.792-19.032,7.86l-16.124,16.12\r c-10.492,10.504-10.492,27.576,0,38.064L293.398,245.9l-184.06,184.06c-5.064,5.068-7.86,11.824-7.86,19.028\r c0,7.212,2.796,13.968,7.86,19.04l16.124,16.116c5.068,5.068,11.824,7.86,19.032,7.86s13.968-2.792,19.032-7.86L382.678,265\r c5.076-5.084,7.864-11.872,7.848-19.088C390.542,238.668,387.754,231.884,382.678,226.804z"})})})}))},QN=function(e){var n=e.rowTitle,r=e.onSelectChat,i=bc().width,a=(0,t.useRef)(),o=f((0,t.useState)(!1),2),s=o[0],u=o[1],c=i<500,l=jN.filter((function(e){return e.tags.includes(n)})),h=function(e){a.current.scrollLeft+=e},d=function(){u(a.current.scrollWidth>a.current.clientWidth)};return(0,t.useEffect)((function(){return h(-1e3),d(),window.addEventListener("resize",d),function(){window.removeEventListener("resize",d)}}),[]),(0,gc.jsxs)("div",{className:VN,children:[(0,gc.jsx)("h2",{children:n}),(0,gc.jsxs)("div",{className:zN,children:[(0,gc.jsx)("button",{onClick:function(){return h(c?-200:-900)},className:"".concat(!s&&BN),"aria-label":"Scroll Left",children:s&&(0,gc.jsx)(WN,{})}),(0,gc.jsx)("div",{className:qN,children:(0,gc.jsx)("div",{ref:a,className:HN,children:l.map((function(e){return(0,gc.jsx)("div",{className:GN,children:(0,gc.jsx)("img",xe(xe({onClick:function(){return r(e)},src:e.logo,alt:e.name},!["frontend","frontend frameworks","CSS frameworks"].includes(n)&&{loading:"lazy"}),{},{onError:function(e){e.target.src=pT},onLoad:d}))},e.id)}))})}),(0,gc.jsx)("button",{onClick:function(){return h(c?200:900)},className:"".concat(!s&&BN),"aria-label":"Scroll Right",children:s&&(0,gc.jsx)(KN,{})})]})]})},$N="ToggleChatHeadsBtn_icon-wrapper__KiV0P",YN="ToggleChatHeadsBtn_icon__yhiK1",XN=function(e){var t=Object.assign({},(jC(e),e));return(0,gc.jsx)("svg",xe(xe({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),{},{children:(0,gc.jsx)("path",{d:"M4 12H20M12 4V20",stroke:"gray",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}))},ZN=function(e){var t=Object.assign({},(jC(e),e));return(0,gc.jsx)("svg",xe(xe({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),{},{children:(0,gc.jsx)("path",{d:"M6 12L18 12",stroke:"gray",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}))},JN=function(e){var t=e.onClick,n=e.showChatHeads;return(0,gc.jsx)("div",{className:$N,onClick:t,children:n?(0,gc.jsx)(ZN,{height:"50px",className:YN}):(0,gc.jsx)(XN,{height:"50px",className:YN})})},eR="Header_header-logo-wrapper__CqJ76",tR="Header_sign-btn__HLsVe",nR="Header_profile-image-wrapper__VNKwi",rR="Header_drop-menu__Te8U0",iR=function(){var e=RC(),n=e.openModal,r=e.closeModal,i=f((0,t.useState)(!1),2),a=i[0],o=i[1],s=(0,t.useContext)(mc).user,u=(0,t.useRef)(null);return nN(u,(function(){o(!1)})),(0,gc.jsxs)("header",{children:[(0,gc.jsx)("div",{className:eR,children:(0,gc.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAL4AAAA0CAYAAAA0X4IjAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAdCSURBVHhe7Z0/bBRHFMbHFylSJLClCKIUYCmSpRS2G6iwK7sCGtxhipjO0NhVoIEiEq5sGkBKZCpwGmgcaHCDcGU6igi7QCIpbBdIliJhkSYSOPftzfrejefNzezt+ma97yeNPHP752Znv3375s3MuefEiRN7ShAqRk3/FYRKIcIXKokIX6gkVh9/aGhI9fb26pKd169f61wD2zHb29tqc3NTl5qMjIzoXBNu35S+vj41ODioS3Y2NjbUx48fdamJz/W4oNfa39+vTp06pUv+0HNw12K2qQ9Z6mO2k+0cu7u7an19XZeahNxnyvc9Peo7ne8Gf9fTp72m1FuEf/HiRXXnzp2kIdpx+/Zttbi4mOSx/5s3b5I8BY1x9uxZXWqAhltdXdWlJrjply5d0qWD4Pzt6rW2tqYmJiZ0qQFXtxDGxsb2RfDq1Ss1PDyc5ENAvVA/8ODBAzU5OZnkKVevXlUvXrzQJT+y1GdlZUVNTU3pEt+2uHemoN+/f588uBQ8RAMDA7pkZ6pWUz/Vxd8tfv7yRf1JhL/v6ly5ckU9fvzYS/SAXvzp06d1rhXbucxGS7G9BVJwHp96jY6O6lwTrm4h0O/OInpA68ZdC4xCKFnqY94Drj62trPdP+6exkwifDT4/fv3kw9iJEQQNvF3ShZBCnGTCP/atWtJIVZChCciFXyo4TVl8zdjIkTMPi6RINSKcA3yJiRqIRZf8KFWBqGEdODahTyF7Bylt2n0Fj+0fnDdxN0phjwiZBzHRkbUN4wRxufY/pUleoTPXMdyRD9ym0XERd6gKmEanSIMytf1ezX87p0aWF5WP758mSRK/717yWfYjv0g8hTk6bE/PHqkt7Sn5oqfx0AWEef9FrONYIZiG1GOnfPnz+tcgwsXLuhcfkD41JKblhvbKabwKcfOndO59mS2+Id1I7OImD4sW1tbOpeddsPxPqSjtnmT5aE07x03VQJ9q9TKw4XkhJ9HG+eBzRXicAp/YWEhGWq3pXS6QtFwndXZ2dlk6N0GPQaixZQDWndMt+DANrovna7gwjyOJt9zZAHTHNLv8b2umZkZ/WkD14Odih3TWTg6ubbPu7s618Asm/xHHjKaB58C5jr17NXR+RaePHlyoIE4YJWfPXumS62cPHlS5xqE7Asrg7khNrBvyLkoruMgDJd13tnZ0blW2h1Hef78uXWKBgzN/Py8LoWT9bowXYUbuX/79q0aHx9XS0tLrMXHQ9XOELrm6nx7+fK+SwPxUgHjc2wHEPo/T58m+RR6LLaZD0MKO1fHJMtMwbzhQq1p3VyWRuL5/rgmxsHdwcPk8u+5N68vEOyHu3eTZFptCDndZooe0GM50dtghZ+HX9sp7cTr6mdISNMftKPLiOBNwgH/PgathFJ4OBOuAU3cq9gGJ3z6yubeTGLxw3j48KHOhXFYfb28KVz4ncBZbWrpOavvslLCQULXAaR06uZ0i6iFz40x0Ncy94o+fvy4zh0Ol+udrBs3brQkdBrLAgxIqIjR9mV0c0C0wnctbqBxYy6GnHXBSFYg8ps3b7YkREpc1xEbocJH5K+sRCt8l49OrYzL4sTQwe2kr4GHBm89morsu4S6O3m6Of/W0297e0nYsYj0V+Nr9imdxTddG1c0ouxzdrBACDF/mrBeuagHGu6ObxgbBicvNweivF4X53I9IdZeRKILzUHpLD5W+FM/enp6Wm85SNlDmlwHvagHOn3D+IC2zaN9/6gL8vrnz+qDIcyiibpzawONbfrSHDJLMwzXtAQbnUxag2vzS93C/1pP3aCUnVuhGBCZCiF0/5TUtVk7ZCtPKWXnVsgfvElDxz7o7E1ffu+Sa2NSOldHKIasbovvL3R8qidEV5a65NqYiPCFhKxui7lYhSON2MRC4cLHVFuayjzokQVuSkVMwF1xDfhhHg9+S9MGji2jW1q48DG/nKYqCR+jyq5xhlhw+fYYpLp165ZzcKuM86JY4Yd2WqoOFnpg8QtNZ86c0VvjxhW7T0dnXaO0oWHQGGCF7zuQIZQfl5FLLT3+cu5OGX/LiBU+flZwbm6uZZSUjpZKnD1/8Itx6ZwcJJ8ZpvCv0/vi6qDS2aOm0DnhwsrTPgrn7pRRC+ya23bQdZbw8XzXvvruy61LxVwSc+0oHlLbKC23htVVh26uufWFfpfP/w0wgaDp7+Nz12SupXWtzTXvc+xk7tx26ynHDTc7zLH8vEU3yNIX8713Zse8rHPvbdRiWFQulIMyRKh8KTycKRwdyjAm4UvN1y8VhKOECF+oJInwufisIBxVEh+/avNnBCERPkKCYvWFKpEIH711DGh0U/zmd3MxY1vM/ihFG4TDYT+cCV8fP2cNt8fnAaAxXeRtx9jGCLjBJrOTzcWMbZ1xbgKV6xy2+uKzdrFq23fhuJBBNNs1+GLW0TV5jMO8Rtt9wvfY6mm7znZtFiMt/9JfEKqCDGAJlUSEL1QSEb5QQZT6HwaN7YJMBFtbAAAAAElFTkSuQmCC",alt:"chatflix-logo"})}),s?(0,gc.jsxs)("div",{className:rR,ref:u,children:[(0,gc.jsx)("div",{className:nR,onClick:function(){return o((function(e){return!e}))},children:(0,gc.jsx)("img",{alt:"profile avatar",src:s.photoURL||ST,referrerPolicy:"no-referrer"})}),a&&(0,gc.jsxs)("ul",{children:[(0,gc.jsx)("li",{children:(0,gc.jsx)("button",{onClick:function(){return n((0,gc.jsx)(LT,{personalProfile:s}))},children:"Your Profile"})}),(0,gc.jsx)("li",{children:(0,gc.jsx)("button",{onClick:function(){MC(),r(),o(!1)},children:"Sign Out"})})]})]}):(0,gc.jsx)("button",{className:tR,onClick:function(){return n((0,gc.jsx)(zC,{}))},children:"Sign In"})]})},aR="ChatHead_chat-head__u99x7",oR="ChatHead_badges-container__JqCJd",sR="ChatHead_close-icon-wrapper__9kFkb",uR="ChatHead_close-icon__Uz9He",cR="ChatHead_unread-messages__fQDGV",lR="ChatHead_logo-wrappper__CAGuC",fR=function(e){var t=e.chat,n=xN(t.name).unreadMessages,r=xc(),i=r.selectChatHandler,a=r.closeChatHandler;return(0,gc.jsxs)("div",{className:aR,onClick:function(){return i(t)},children:[(0,gc.jsxs)("div",{className:oR,children:[!!n&&(0,gc.jsx)("div",{className:cR,children:(0,gc.jsx)("span",{children:n<99?n:"99+"})}),(0,gc.jsx)("div",{className:sR,onClick:function(e){return e.stopPropagation()},children:(0,gc.jsx)(iN,{onClick:function(){return a(t.id)},className:uR})})]}),(0,gc.jsx)("div",{className:lR,children:(0,gc.jsx)("img",{src:t.logo,alt:t.name,onError:function(e){e.target.src=pT}})})]})},hR=function(){var e=f((0,t.useState)(!1),2),n=e[0],r=e[1],i=xc(),a=i.activeChatsBottom,o=i.activeChatsRight,s=i.selectChatHandler;return(0,gc.jsxs)("div",{className:FN["home-screen"],children:[(0,gc.jsx)(iR,{}),(0,gc.jsx)("div",{className:FN["chat-rows-container"],children:UN.map((function(e){return(0,gc.jsx)(QN,{onSelectChat:s,rowTitle:e},e)}))}),(0,gc.jsxs)("div",{className:FN["active-chats-container"],children:[(0,gc.jsx)("div",{className:FN["active-chats-bottom"],children:null===a||void 0===a?void 0:a.map((function(e){return(0,gc.jsx)(_N,{chat:e},e.id)}))}),(0,gc.jsxs)("div",{className:FN["active-chat-right"],children:[n&&(0,gc.jsx)("div",{className:FN["chat-heads-container"],children:o.map((function(e){return(0,gc.jsx)(fR,{chat:e},e.id)}))}),(null===o||void 0===o?void 0:o.length)>0&&(0,gc.jsx)(JN,{showChatHeads:n,onClick:function(){return r((function(e){return!e}))}})]})]})]})},dR=function(){var e=xc().fullScreenChat?(0,gc.jsx)(MN,{}):(0,gc.jsx)(hR,{});return(0,gc.jsx)("div",{className:i,children:e})},pR="Modal_modal__nxL5Z",vR="Modal_modal-content__ceA7X",gR="Modal_close-button__wqbvE",mR=function(){var e=RC(),n=e.modalVisible,r=e.closeModal,i=e.modalContent;return(0,t.useEffect)((function(){var e=function(e){27===e.keyCode&&r()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[r]),n&&(0,gc.jsx)("div",{className:pR,children:(0,gc.jsxs)("div",{className:vR,children:[(0,gc.jsx)("button",{onClick:r,className:gR,children:(0,gc.jsx)(iN,{height:"20px"})}),i]})})},yR=function(){return(0,gc.jsx)(yc,{children:(0,gc.jsx)(_c,{children:(0,gc.jsxs)(DC,{children:[(0,gc.jsx)(mR,{}),(0,gc.jsx)(dR,{})]})})})};r.createRoot(document.getElementById("root")).render((0,gc.jsx)(yR,{}))}()}();
//# sourceMappingURL=main.3f3ad585.js.map